var Pl=Object.defineProperty;var $l=(n,t,e)=>t in n?Pl(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var U=(n,t,e)=>($l(n,typeof t!="symbol"?t+"":t,e),e);import{c as qt,E as tn}from"./eye-CDbSbdub.js";import{h as Q,c as tt,e as C,j as it,J as wa,r as rt,E as ci,K as Ml,o as Qn,q as ut,a as xa,m as Pi,p as $i,u as Mi,i as Bi,b as zn,d as mr,w as Nt,v as ne,I as Bl,G as Re,F as Dt,x as zt,t as vt,k as Ie,A as Dl,B as Ul,L as Fl,s as Hl}from"./index-DPMTugpr.js";import{c as Pe,g as Di,M as zl}from"./_commonjsHelpers-ivDP5Z4p.js";import{P as Vl}from"./pen-line-Dm1ZAN4Z.js";/**
 * @license lucide-vue-next v0.376.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I0=qt("CalendarDaysIcon",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-vue-next v0.376.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const go=qt("CheckCheckIcon",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-vue-next v0.376.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mo=qt("ClockIcon",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-vue-next v0.376.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gl=qt("EyeOffIcon",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-vue-next v0.376.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kl=qt("FlagOffIcon",[["path",{d:"M8 2c3 0 5 2 8 2s4-1 4-1v11",key:"9rwyz9"}],["path",{d:"M4 22V4",key:"1plyxx"}],["path",{d:"M4 15s1-1 4-1 5 2 8 2",key:"1myooe"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-vue-next v0.376.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wl=qt("FlagIcon",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-vue-next v0.376.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zl=qt("ListIcon",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-vue-next v0.376.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yo=qt("MessageCircleReplyIcon",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}],["path",{d:"m10 15-3-3 3-3",key:"1pgupc"}],["path",{d:"M7 12h7a2 2 0 0 1 2 2v1",key:"1gheu4"}]]);/**
 * @license lucide-vue-next v0.376.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j0=qt("MonitorSmartphoneIcon",[["path",{d:"M18 8V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h8",key:"10dyio"}],["path",{d:"M10 19v-3.96 3.15",key:"1irgej"}],["path",{d:"M7 19h5",key:"qswx4l"}],["rect",{width:"6",height:"10",x:"16",y:"12",rx:"2",key:"1egngj"}]]);/**
 * @license lucide-vue-next v0.376.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xl=qt("NotepadTextIcon",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"16",height:"18",x:"4",y:"4",rx:"2",key:"1u9h20"}],["path",{d:"M8 10h6",key:"3oa6kw"}],["path",{d:"M8 14h8",key:"1fgep2"}],["path",{d:"M8 18h5",key:"17enja"}]]);/**
 * @license lucide-vue-next v0.376.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yl=qt("PencilIcon",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-vue-next v0.376.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jl=qt("RouterIcon",[["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",key:"w68u3i"}],["path",{d:"M6.01 18H6",key:"19vcac"}],["path",{d:"M10.01 18H10",key:"uamcmx"}],["path",{d:"M15 10v4",key:"qjz1xs"}],["path",{d:"M17.84 7.17a4 4 0 0 0-5.66 0",key:"1rif40"}],["path",{d:"M20.66 4.34a8 8 0 0 0-11.31 0",key:"6a5xfq"}]]);/**
 * @license lucide-vue-next v0.376.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vn=qt("SaveIcon",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-vue-next v0.376.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ql=qt("SendIcon",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-vue-next v0.376.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tc=qt("TagsIcon",[["path",{d:"m15 5 6.3 6.3a2.4 2.4 0 0 1 0 3.4L17 19",key:"1cbfv1"}],["path",{d:"M9.586 5.586A2 2 0 0 0 8.172 5H3a1 1 0 0 0-1 1v5.172a2 2 0 0 0 .586 1.414L8.29 18.29a2.426 2.426 0 0 0 3.42 0l3.58-3.58a2.426 2.426 0 0 0 0-3.42z",key:"135mg7"}],["circle",{cx:"6.5",cy:"9.5",r:".5",fill:"currentColor",key:"5pm5xn"}]]);/**
 * @license lucide-vue-next v0.376.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gn=qt("TrashIcon",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-vue-next v0.376.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R0=qt("UserXIcon",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]),ec={class:"w-full h-full overflow-hidden flex flex-row max-h-[100vh]"},rc={class:"w-[100%] h-[100vh] min-w-[300px] min-h-[400px]",style:{resize:"both",overflow:"auto"}},nc=["src"],P0={__name:"preview",setup(n){const t=window.location.hostname;return(e,r)=>(Q(),tt("div",ec,[C("div",rc,[C("iframe",{src:`https://${it(t)}`,style:{width:"100%",height:"100%",border:"none"}},null,8,nc)])]))}},sc=wa({__name:"QuillyEditor",props:{modelValue:{},options:{}},emits:["update:modelValue","text-change","selection-change","editor-change","blur","focus","ready"],setup(n,{expose:t,emit:e}){const r=n,s=e;let i=null;const o=rt(),a=rt(),c=h=>{a.value=r.modelValue;const d=h.getContents(),f=h.clipboard.convert({html:r.modelValue});return h.setContents(f),s("text-change",{delta:f,oldContent:d,source:"api"}),f},u=h=>{const d=new h(o.value,r.options);return r.modelValue&&c(d),d.on("selection-change",(f,p,g)=>{s(f?"focus":"blur",d),s("selection-change",{range:f,oldRange:p,source:g})}),d.on("text-change",(f,p,g)=>{a.value=d.root.innerHTML,s("text-change",{delta:f,oldContent:p,source:g})}),d.on("editor-change",f=>{s("editor-change",f)}),s("ready",d),i=d,d};return ci(()=>r.modelValue,h=>{h&&h!==a.value?(c(i),a.value=i.root.innerHTML):h||i.setContents([])}),ci(a,(h,d)=>{h&&h!==d?s("update:modelValue",h):h||i.setContents([])}),Ml(()=>i=null),t({initialize:u}),(h,d)=>(Q(),tt("div",{ref_key:"container",ref:o},null,512))}});var Aa=typeof global=="object"&&global&&global.Object===Object&&global,ic=typeof self=="object"&&self&&self.Object===Object&&self,we=Aa||ic||Function("return this")(),De=we.Symbol,Ea=Object.prototype,oc=Ea.hasOwnProperty,ac=Ea.toString,Kr=De?De.toStringTag:void 0;function lc(n){var t=oc.call(n,Kr),e=n[Kr];try{n[Kr]=void 0;var r=!0}catch{}var s=ac.call(n);return r&&(t?n[Kr]=e:delete n[Kr]),s}var cc=Object.prototype,uc=cc.toString;function hc(n){return uc.call(n)}var fc="[object Null]",dc="[object Undefined]",bo=De?De.toStringTag:void 0;function Lr(n){return n==null?n===void 0?dc:fc:bo&&bo in Object(n)?lc(n):hc(n)}function Te(n){return n!=null&&typeof n=="object"}var Xe=Array.isArray;function Ue(n){var t=typeof n;return n!=null&&(t=="object"||t=="function")}function _a(n){return n}var pc="[object AsyncFunction]",gc="[object Function]",mc="[object GeneratorFunction]",yc="[object Proxy]";function Ui(n){if(!Ue(n))return!1;var t=Lr(n);return t==gc||t==mc||t==pc||t==yc}var Xs=we["__core-js_shared__"],vo=function(){var n=/[^.]+$/.exec(Xs&&Xs.keys&&Xs.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function bc(n){return!!vo&&vo in n}var vc=Function.prototype,wc=vc.toString;function Qe(n){if(n!=null){try{return wc.call(n)}catch{}try{return n+""}catch{}}return""}var xc=/[\\^$.*+?()[\]{}|]/g,Ac=/^\[object .+?Constructor\]$/,Ec=Function.prototype,_c=Object.prototype,Nc=Ec.toString,Tc=_c.hasOwnProperty,Sc=RegExp("^"+Nc.call(Tc).replace(xc,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Oc(n){if(!Ue(n)||bc(n))return!1;var t=Ui(n)?Sc:Ac;return t.test(Qe(n))}function kc(n,t){return n==null?void 0:n[t]}function tr(n,t){var e=kc(n,t);return Oc(e)?e:void 0}var ui=tr(we,"WeakMap"),wo=Object.create,Cc=function(){function n(){}return function(t){if(!Ue(t))return{};if(wo)return wo(t);n.prototype=t;var e=new n;return n.prototype=void 0,e}}();function Lc(n,t,e){switch(e.length){case 0:return n.call(t);case 1:return n.call(t,e[0]);case 2:return n.call(t,e[0],e[1]);case 3:return n.call(t,e[0],e[1],e[2])}return n.apply(t,e)}function Na(n,t){var e=-1,r=n.length;for(t||(t=Array(r));++e<r;)t[e]=n[e];return t}var qc=800,Ic=16,jc=Date.now;function Rc(n){var t=0,e=0;return function(){var r=jc(),s=Ic-(r-e);if(e=r,s>0){if(++t>=qc)return arguments[0]}else t=0;return n.apply(void 0,arguments)}}function Pc(n){return function(){return n}}var Kn=function(){try{var n=tr(Object,"defineProperty");return n({},"",{}),n}catch{}}(),$c=Kn?function(n,t){return Kn(n,"toString",{configurable:!0,enumerable:!1,value:Pc(t),writable:!0})}:_a,Mc=Rc($c);function Bc(n,t){for(var e=-1,r=n==null?0:n.length;++e<r&&t(n[e],e,n)!==!1;);return n}var Dc=9007199254740991,Uc=/^(?:0|[1-9]\d*)$/;function Ta(n,t){var e=typeof n;return t=t??Dc,!!t&&(e=="number"||e!="symbol"&&Uc.test(n))&&n>-1&&n%1==0&&n<t}function Fi(n,t,e){t=="__proto__"&&Kn?Kn(n,t,{configurable:!0,enumerable:!0,value:e,writable:!0}):n[t]=e}function un(n,t){return n===t||n!==n&&t!==t}var Fc=Object.prototype,Hc=Fc.hasOwnProperty;function Sa(n,t,e){var r=n[t];(!(Hc.call(n,t)&&un(r,e))||e===void 0&&!(t in n))&&Fi(n,t,e)}function hn(n,t,e,r){var s=!e;e||(e={});for(var i=-1,o=t.length;++i<o;){var a=t[i],c=void 0;c===void 0&&(c=n[a]),s?Fi(e,a,c):Sa(e,a,c)}return e}var xo=Math.max;function zc(n,t,e){return t=xo(t===void 0?n.length-1:t,0),function(){for(var r=arguments,s=-1,i=xo(r.length-t,0),o=Array(i);++s<i;)o[s]=r[t+s];s=-1;for(var a=Array(t+1);++s<t;)a[s]=r[s];return a[t]=e(o),Lc(n,this,a)}}function Vc(n,t){return Mc(zc(n,t,_a),n+"")}var Gc=9007199254740991;function Oa(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=Gc}function ts(n){return n!=null&&Oa(n.length)&&!Ui(n)}function Kc(n,t,e){if(!Ue(e))return!1;var r=typeof t;return(r=="number"?ts(e)&&Ta(t,e.length):r=="string"&&t in e)?un(e[t],n):!1}function Wc(n){return Vc(function(t,e){var r=-1,s=e.length,i=s>1?e[s-1]:void 0,o=s>2?e[2]:void 0;for(i=n.length>3&&typeof i=="function"?(s--,i):void 0,o&&Kc(e[0],e[1],o)&&(i=s<3?void 0:i,s=1),t=Object(t);++r<s;){var a=e[r];a&&n(t,a,r,i)}return t})}var Zc=Object.prototype;function Hi(n){var t=n&&n.constructor,e=typeof t=="function"&&t.prototype||Zc;return n===e}function Xc(n,t){for(var e=-1,r=Array(n);++e<n;)r[e]=t(e);return r}var Yc="[object Arguments]";function Ao(n){return Te(n)&&Lr(n)==Yc}var ka=Object.prototype,Jc=ka.hasOwnProperty,Qc=ka.propertyIsEnumerable,hi=Ao(function(){return arguments}())?Ao:function(n){return Te(n)&&Jc.call(n,"callee")&&!Qc.call(n,"callee")};function tu(){return!1}var Ca=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Eo=Ca&&typeof module=="object"&&module&&!module.nodeType&&module,eu=Eo&&Eo.exports===Ca,_o=eu?we.Buffer:void 0,ru=_o?_o.isBuffer:void 0,en=ru||tu,nu="[object Arguments]",su="[object Array]",iu="[object Boolean]",ou="[object Date]",au="[object Error]",lu="[object Function]",cu="[object Map]",uu="[object Number]",hu="[object Object]",fu="[object RegExp]",du="[object Set]",pu="[object String]",gu="[object WeakMap]",mu="[object ArrayBuffer]",yu="[object DataView]",bu="[object Float32Array]",vu="[object Float64Array]",wu="[object Int8Array]",xu="[object Int16Array]",Au="[object Int32Array]",Eu="[object Uint8Array]",_u="[object Uint8ClampedArray]",Nu="[object Uint16Array]",Tu="[object Uint32Array]",gt={};gt[bu]=gt[vu]=gt[wu]=gt[xu]=gt[Au]=gt[Eu]=gt[_u]=gt[Nu]=gt[Tu]=!0;gt[nu]=gt[su]=gt[mu]=gt[iu]=gt[yu]=gt[ou]=gt[au]=gt[lu]=gt[cu]=gt[uu]=gt[hu]=gt[fu]=gt[du]=gt[pu]=gt[gu]=!1;function Su(n){return Te(n)&&Oa(n.length)&&!!gt[Lr(n)]}function zi(n){return function(t){return n(t)}}var La=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Xr=La&&typeof module=="object"&&module&&!module.nodeType&&module,Ou=Xr&&Xr.exports===La,Ys=Ou&&Aa.process,Tr=function(){try{var n=Xr&&Xr.require&&Xr.require("util").types;return n||Ys&&Ys.binding&&Ys.binding("util")}catch{}}(),No=Tr&&Tr.isTypedArray,Vi=No?zi(No):Su,ku=Object.prototype,Cu=ku.hasOwnProperty;function qa(n,t){var e=Xe(n),r=!e&&hi(n),s=!e&&!r&&en(n),i=!e&&!r&&!s&&Vi(n),o=e||r||s||i,a=o?Xc(n.length,String):[],c=a.length;for(var u in n)(t||Cu.call(n,u))&&!(o&&(u=="length"||s&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Ta(u,c)))&&a.push(u);return a}function Ia(n,t){return function(e){return n(t(e))}}var Lu=Ia(Object.keys,Object),qu=Object.prototype,Iu=qu.hasOwnProperty;function ju(n){if(!Hi(n))return Lu(n);var t=[];for(var e in Object(n))Iu.call(n,e)&&e!="constructor"&&t.push(e);return t}function Gi(n){return ts(n)?qa(n):ju(n)}function Ru(n){var t=[];if(n!=null)for(var e in Object(n))t.push(e);return t}var Pu=Object.prototype,$u=Pu.hasOwnProperty;function Mu(n){if(!Ue(n))return Ru(n);var t=Hi(n),e=[];for(var r in n)r=="constructor"&&(t||!$u.call(n,r))||e.push(r);return e}function fn(n){return ts(n)?qa(n,!0):Mu(n)}var rn=tr(Object,"create");function Bu(){this.__data__=rn?rn(null):{},this.size=0}function Du(n){var t=this.has(n)&&delete this.__data__[n];return this.size-=t?1:0,t}var Uu="__lodash_hash_undefined__",Fu=Object.prototype,Hu=Fu.hasOwnProperty;function zu(n){var t=this.__data__;if(rn){var e=t[n];return e===Uu?void 0:e}return Hu.call(t,n)?t[n]:void 0}var Vu=Object.prototype,Gu=Vu.hasOwnProperty;function Ku(n){var t=this.__data__;return rn?t[n]!==void 0:Gu.call(t,n)}var Wu="__lodash_hash_undefined__";function Zu(n,t){var e=this.__data__;return this.size+=this.has(n)?0:1,e[n]=rn&&t===void 0?Wu:t,this}function Ye(n){var t=-1,e=n==null?0:n.length;for(this.clear();++t<e;){var r=n[t];this.set(r[0],r[1])}}Ye.prototype.clear=Bu;Ye.prototype.delete=Du;Ye.prototype.get=zu;Ye.prototype.has=Ku;Ye.prototype.set=Zu;function Xu(){this.__data__=[],this.size=0}function es(n,t){for(var e=n.length;e--;)if(un(n[e][0],t))return e;return-1}var Yu=Array.prototype,Ju=Yu.splice;function Qu(n){var t=this.__data__,e=es(t,n);if(e<0)return!1;var r=t.length-1;return e==r?t.pop():Ju.call(t,e,1),--this.size,!0}function th(n){var t=this.__data__,e=es(t,n);return e<0?void 0:t[e][1]}function eh(n){return es(this.__data__,n)>-1}function rh(n,t){var e=this.__data__,r=es(e,n);return r<0?(++this.size,e.push([n,t])):e[r][1]=t,this}function ke(n){var t=-1,e=n==null?0:n.length;for(this.clear();++t<e;){var r=n[t];this.set(r[0],r[1])}}ke.prototype.clear=Xu;ke.prototype.delete=Qu;ke.prototype.get=th;ke.prototype.has=eh;ke.prototype.set=rh;var nn=tr(we,"Map");function nh(){this.size=0,this.__data__={hash:new Ye,map:new(nn||ke),string:new Ye}}function sh(n){var t=typeof n;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?n!=="__proto__":n===null}function rs(n,t){var e=n.__data__;return sh(t)?e[typeof t=="string"?"string":"hash"]:e.map}function ih(n){var t=rs(this,n).delete(n);return this.size-=t?1:0,t}function oh(n){return rs(this,n).get(n)}function ah(n){return rs(this,n).has(n)}function lh(n,t){var e=rs(this,n),r=e.size;return e.set(n,t),this.size+=e.size==r?0:1,this}function er(n){var t=-1,e=n==null?0:n.length;for(this.clear();++t<e;){var r=n[t];this.set(r[0],r[1])}}er.prototype.clear=nh;er.prototype.delete=ih;er.prototype.get=oh;er.prototype.has=ah;er.prototype.set=lh;function ja(n,t){for(var e=-1,r=t.length,s=n.length;++e<r;)n[s+e]=t[e];return n}var Ki=Ia(Object.getPrototypeOf,Object),ch="[object Object]",uh=Function.prototype,hh=Object.prototype,Ra=uh.toString,fh=hh.hasOwnProperty,dh=Ra.call(Object);function ph(n){if(!Te(n)||Lr(n)!=ch)return!1;var t=Ki(n);if(t===null)return!0;var e=fh.call(t,"constructor")&&t.constructor;return typeof e=="function"&&e instanceof e&&Ra.call(e)==dh}function gh(){this.__data__=new ke,this.size=0}function mh(n){var t=this.__data__,e=t.delete(n);return this.size=t.size,e}function yh(n){return this.__data__.get(n)}function bh(n){return this.__data__.has(n)}var vh=200;function wh(n,t){var e=this.__data__;if(e instanceof ke){var r=e.__data__;if(!nn||r.length<vh-1)return r.push([n,t]),this.size=++e.size,this;e=this.__data__=new er(r)}return e.set(n,t),this.size=e.size,this}function me(n){var t=this.__data__=new ke(n);this.size=t.size}me.prototype.clear=gh;me.prototype.delete=mh;me.prototype.get=yh;me.prototype.has=bh;me.prototype.set=wh;function xh(n,t){return n&&hn(t,Gi(t),n)}function Ah(n,t){return n&&hn(t,fn(t),n)}var Pa=typeof exports=="object"&&exports&&!exports.nodeType&&exports,To=Pa&&typeof module=="object"&&module&&!module.nodeType&&module,Eh=To&&To.exports===Pa,So=Eh?we.Buffer:void 0,Oo=So?So.allocUnsafe:void 0;function $a(n,t){if(t)return n.slice();var e=n.length,r=Oo?Oo(e):new n.constructor(e);return n.copy(r),r}function _h(n,t){for(var e=-1,r=n==null?0:n.length,s=0,i=[];++e<r;){var o=n[e];t(o,e,n)&&(i[s++]=o)}return i}function Ma(){return[]}var Nh=Object.prototype,Th=Nh.propertyIsEnumerable,ko=Object.getOwnPropertySymbols,Wi=ko?function(n){return n==null?[]:(n=Object(n),_h(ko(n),function(t){return Th.call(n,t)}))}:Ma;function Sh(n,t){return hn(n,Wi(n),t)}var Oh=Object.getOwnPropertySymbols,Ba=Oh?function(n){for(var t=[];n;)ja(t,Wi(n)),n=Ki(n);return t}:Ma;function kh(n,t){return hn(n,Ba(n),t)}function Da(n,t,e){var r=t(n);return Xe(n)?r:ja(r,e(n))}function fi(n){return Da(n,Gi,Wi)}function Ch(n){return Da(n,fn,Ba)}var di=tr(we,"DataView"),pi=tr(we,"Promise"),gi=tr(we,"Set"),Co="[object Map]",Lh="[object Object]",Lo="[object Promise]",qo="[object Set]",Io="[object WeakMap]",jo="[object DataView]",qh=Qe(di),Ih=Qe(nn),jh=Qe(pi),Rh=Qe(gi),Ph=Qe(ui),se=Lr;(di&&se(new di(new ArrayBuffer(1)))!=jo||nn&&se(new nn)!=Co||pi&&se(pi.resolve())!=Lo||gi&&se(new gi)!=qo||ui&&se(new ui)!=Io)&&(se=function(n){var t=Lr(n),e=t==Lh?n.constructor:void 0,r=e?Qe(e):"";if(r)switch(r){case qh:return jo;case Ih:return Co;case jh:return Lo;case Rh:return qo;case Ph:return Io}return t});var $h=Object.prototype,Mh=$h.hasOwnProperty;function Bh(n){var t=n.length,e=new n.constructor(t);return t&&typeof n[0]=="string"&&Mh.call(n,"index")&&(e.index=n.index,e.input=n.input),e}var Wn=we.Uint8Array;function Zi(n){var t=new n.constructor(n.byteLength);return new Wn(t).set(new Wn(n)),t}function Dh(n,t){var e=t?Zi(n.buffer):n.buffer;return new n.constructor(e,n.byteOffset,n.byteLength)}var Uh=/\w*$/;function Fh(n){var t=new n.constructor(n.source,Uh.exec(n));return t.lastIndex=n.lastIndex,t}var Ro=De?De.prototype:void 0,Po=Ro?Ro.valueOf:void 0;function Hh(n){return Po?Object(Po.call(n)):{}}function Ua(n,t){var e=t?Zi(n.buffer):n.buffer;return new n.constructor(e,n.byteOffset,n.length)}var zh="[object Boolean]",Vh="[object Date]",Gh="[object Map]",Kh="[object Number]",Wh="[object RegExp]",Zh="[object Set]",Xh="[object String]",Yh="[object Symbol]",Jh="[object ArrayBuffer]",Qh="[object DataView]",tf="[object Float32Array]",ef="[object Float64Array]",rf="[object Int8Array]",nf="[object Int16Array]",sf="[object Int32Array]",of="[object Uint8Array]",af="[object Uint8ClampedArray]",lf="[object Uint16Array]",cf="[object Uint32Array]";function uf(n,t,e){var r=n.constructor;switch(t){case Jh:return Zi(n);case zh:case Vh:return new r(+n);case Qh:return Dh(n,e);case tf:case ef:case rf:case nf:case sf:case of:case af:case lf:case cf:return Ua(n,e);case Gh:return new r;case Kh:case Xh:return new r(n);case Wh:return Fh(n);case Zh:return new r;case Yh:return Hh(n)}}function Fa(n){return typeof n.constructor=="function"&&!Hi(n)?Cc(Ki(n)):{}}var hf="[object Map]";function ff(n){return Te(n)&&se(n)==hf}var $o=Tr&&Tr.isMap,df=$o?zi($o):ff,pf="[object Set]";function gf(n){return Te(n)&&se(n)==pf}var Mo=Tr&&Tr.isSet,mf=Mo?zi(Mo):gf,yf=1,bf=2,vf=4,Ha="[object Arguments]",wf="[object Array]",xf="[object Boolean]",Af="[object Date]",Ef="[object Error]",za="[object Function]",_f="[object GeneratorFunction]",Nf="[object Map]",Tf="[object Number]",Va="[object Object]",Sf="[object RegExp]",Of="[object Set]",kf="[object String]",Cf="[object Symbol]",Lf="[object WeakMap]",qf="[object ArrayBuffer]",If="[object DataView]",jf="[object Float32Array]",Rf="[object Float64Array]",Pf="[object Int8Array]",$f="[object Int16Array]",Mf="[object Int32Array]",Bf="[object Uint8Array]",Df="[object Uint8ClampedArray]",Uf="[object Uint16Array]",Ff="[object Uint32Array]",dt={};dt[Ha]=dt[wf]=dt[qf]=dt[If]=dt[xf]=dt[Af]=dt[jf]=dt[Rf]=dt[Pf]=dt[$f]=dt[Mf]=dt[Nf]=dt[Tf]=dt[Va]=dt[Sf]=dt[Of]=dt[kf]=dt[Cf]=dt[Bf]=dt[Df]=dt[Uf]=dt[Ff]=!0;dt[Ef]=dt[za]=dt[Lf]=!1;function Un(n,t,e,r,s,i){var o,a=t&yf,c=t&bf,u=t&vf;if(o!==void 0)return o;if(!Ue(n))return n;var h=Xe(n);if(h){if(o=Bh(n),!a)return Na(n,o)}else{var d=se(n),f=d==za||d==_f;if(en(n))return $a(n,a);if(d==Va||d==Ha||f&&!s){if(o=c||f?{}:Fa(n),!a)return c?kh(n,Ah(o,n)):Sh(n,xh(o,n))}else{if(!dt[d])return s?n:{};o=uf(n,d,a)}}i||(i=new me);var p=i.get(n);if(p)return p;i.set(n,o),mf(n)?n.forEach(function(v){o.add(Un(v,t,e,v,n,i))}):df(n)&&n.forEach(function(v,w){o.set(w,Un(v,t,e,w,n,i))});var g=u?c?Ch:fi:c?fn:Gi,E=h?void 0:g(n);return Bc(E||n,function(v,w){E&&(w=v,v=n[w]),Sa(o,w,Un(v,t,e,w,n,i))}),o}var Hf=1,zf=4;function Er(n){return Un(n,Hf|zf)}var Vf="__lodash_hash_undefined__";function Gf(n){return this.__data__.set(n,Vf),this}function Kf(n){return this.__data__.has(n)}function Zn(n){var t=-1,e=n==null?0:n.length;for(this.__data__=new er;++t<e;)this.add(n[t])}Zn.prototype.add=Zn.prototype.push=Gf;Zn.prototype.has=Kf;function Wf(n,t){for(var e=-1,r=n==null?0:n.length;++e<r;)if(t(n[e],e,n))return!0;return!1}function Zf(n,t){return n.has(t)}var Xf=1,Yf=2;function Ga(n,t,e,r,s,i){var o=e&Xf,a=n.length,c=t.length;if(a!=c&&!(o&&c>a))return!1;var u=i.get(n),h=i.get(t);if(u&&h)return u==t&&h==n;var d=-1,f=!0,p=e&Yf?new Zn:void 0;for(i.set(n,t),i.set(t,n);++d<a;){var g=n[d],E=t[d];if(r)var v=o?r(E,g,d,t,n,i):r(g,E,d,n,t,i);if(v!==void 0){if(v)continue;f=!1;break}if(p){if(!Wf(t,function(w,A){if(!Zf(p,A)&&(g===w||s(g,w,e,r,i)))return p.push(A)})){f=!1;break}}else if(!(g===E||s(g,E,e,r,i))){f=!1;break}}return i.delete(n),i.delete(t),f}function Jf(n){var t=-1,e=Array(n.size);return n.forEach(function(r,s){e[++t]=[s,r]}),e}function Qf(n){var t=-1,e=Array(n.size);return n.forEach(function(r){e[++t]=r}),e}var td=1,ed=2,rd="[object Boolean]",nd="[object Date]",sd="[object Error]",id="[object Map]",od="[object Number]",ad="[object RegExp]",ld="[object Set]",cd="[object String]",ud="[object Symbol]",hd="[object ArrayBuffer]",fd="[object DataView]",Bo=De?De.prototype:void 0,Js=Bo?Bo.valueOf:void 0;function dd(n,t,e,r,s,i,o){switch(e){case fd:if(n.byteLength!=t.byteLength||n.byteOffset!=t.byteOffset)return!1;n=n.buffer,t=t.buffer;case hd:return!(n.byteLength!=t.byteLength||!i(new Wn(n),new Wn(t)));case rd:case nd:case od:return un(+n,+t);case sd:return n.name==t.name&&n.message==t.message;case ad:case cd:return n==t+"";case id:var a=Jf;case ld:var c=r&td;if(a||(a=Qf),n.size!=t.size&&!c)return!1;var u=o.get(n);if(u)return u==t;r|=ed,o.set(n,t);var h=Ga(a(n),a(t),r,s,i,o);return o.delete(n),h;case ud:if(Js)return Js.call(n)==Js.call(t)}return!1}var pd=1,gd=Object.prototype,md=gd.hasOwnProperty;function yd(n,t,e,r,s,i){var o=e&pd,a=fi(n),c=a.length,u=fi(t),h=u.length;if(c!=h&&!o)return!1;for(var d=c;d--;){var f=a[d];if(!(o?f in t:md.call(t,f)))return!1}var p=i.get(n),g=i.get(t);if(p&&g)return p==t&&g==n;var E=!0;i.set(n,t),i.set(t,n);for(var v=o;++d<c;){f=a[d];var w=n[f],A=t[f];if(r)var _=o?r(A,w,f,t,n,i):r(w,A,f,n,t,i);if(!(_===void 0?w===A||s(w,A,e,r,i):_)){E=!1;break}v||(v=f=="constructor")}if(E&&!v){var b=n.constructor,N=t.constructor;b!=N&&"constructor"in n&&"constructor"in t&&!(typeof b=="function"&&b instanceof b&&typeof N=="function"&&N instanceof N)&&(E=!1)}return i.delete(n),i.delete(t),E}var bd=1,Do="[object Arguments]",Uo="[object Array]",Rn="[object Object]",vd=Object.prototype,Fo=vd.hasOwnProperty;function wd(n,t,e,r,s,i){var o=Xe(n),a=Xe(t),c=o?Uo:se(n),u=a?Uo:se(t);c=c==Do?Rn:c,u=u==Do?Rn:u;var h=c==Rn,d=u==Rn,f=c==u;if(f&&en(n)){if(!en(t))return!1;o=!0,h=!1}if(f&&!h)return i||(i=new me),o||Vi(n)?Ga(n,t,e,r,s,i):dd(n,t,c,e,r,s,i);if(!(e&bd)){var p=h&&Fo.call(n,"__wrapped__"),g=d&&Fo.call(t,"__wrapped__");if(p||g){var E=p?n.value():n,v=g?t.value():t;return i||(i=new me),s(E,v,e,r,i)}}return f?(i||(i=new me),yd(n,t,e,r,s,i)):!1}function Ka(n,t,e,r,s){return n===t?!0:n==null||t==null||!Te(n)&&!Te(t)?n!==n&&t!==t:wd(n,t,e,r,Ka,s)}function xd(n){return function(t,e,r){for(var s=-1,i=Object(t),o=r(t),a=o.length;a--;){var c=o[++s];if(e(i[c],c,i)===!1)break}return t}}var Ad=xd();function mi(n,t,e){(e!==void 0&&!un(n[t],e)||e===void 0&&!(t in n))&&Fi(n,t,e)}function Ed(n){return Te(n)&&ts(n)}function yi(n,t){if(!(t==="constructor"&&typeof n[t]=="function")&&t!="__proto__")return n[t]}function _d(n){return hn(n,fn(n))}function Nd(n,t,e,r,s,i,o){var a=yi(n,e),c=yi(t,e),u=o.get(c);if(u){mi(n,e,u);return}var h=i?i(a,c,e+"",n,t,o):void 0,d=h===void 0;if(d){var f=Xe(c),p=!f&&en(c),g=!f&&!p&&Vi(c);h=c,f||p||g?Xe(a)?h=a:Ed(a)?h=Na(a):p?(d=!1,h=$a(c,!0)):g?(d=!1,h=Ua(c,!0)):h=[]:ph(c)||hi(c)?(h=a,hi(a)?h=_d(a):(!Ue(a)||Ui(a))&&(h=Fa(c))):d=!1}d&&(o.set(c,h),s(h,c,r,i,o),o.delete(c)),mi(n,e,h)}function Wa(n,t,e,r,s){n!==t&&Ad(t,function(i,o){if(s||(s=new me),Ue(i))Nd(n,t,o,e,Wa,r,s);else{var a=r?r(yi(n,o),i,o+"",n,t,s):void 0;a===void 0&&(a=i),mi(n,o,a)}},fn)}function Xi(n,t){return Ka(n,t)}var Be=Wc(function(n,t,e){Wa(n,t,e)}),X=(n=>(n[n.TYPE=3]="TYPE",n[n.LEVEL=12]="LEVEL",n[n.ATTRIBUTE=13]="ATTRIBUTE",n[n.BLOT=14]="BLOT",n[n.INLINE=7]="INLINE",n[n.BLOCK=11]="BLOCK",n[n.BLOCK_BLOT=10]="BLOCK_BLOT",n[n.INLINE_BLOT=6]="INLINE_BLOT",n[n.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",n[n.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",n[n.ANY=15]="ANY",n))(X||{});class be{constructor(t,e,r={}){this.attrName=t,this.keyName=e;const s=X.TYPE&X.ATTRIBUTE;this.scope=r.scope!=null?r.scope&X.LEVEL|s:X.ATTRIBUTE,r.whitelist!=null&&(this.whitelist=r.whitelist)}static keys(t){return Array.from(t.attributes).map(e=>e.name)}add(t,e){return this.canAdd(t,e)?(t.setAttribute(this.keyName,e),!0):!1}canAdd(t,e){return this.whitelist==null?!0:typeof e=="string"?this.whitelist.indexOf(e.replace(/["']/g,""))>-1:this.whitelist.indexOf(e)>-1}remove(t){t.removeAttribute(this.keyName)}value(t){const e=t.getAttribute(this.keyName);return this.canAdd(t,e)&&e?e:""}}class _r extends Error{constructor(t){t="[Parchment] "+t,super(t),this.message=t,this.name=this.constructor.name}}const Za=class bi{constructor(){this.attributes={},this.classes={},this.tags={},this.types={}}static find(t,e=!1){if(t==null)return null;if(this.blots.has(t))return this.blots.get(t)||null;if(e){let r=null;try{r=t.parentNode}catch{return null}return this.find(r,e)}return null}create(t,e,r){const s=this.query(e);if(s==null)throw new _r(`Unable to create ${e} blot`);const i=s,o=e instanceof Node||e.nodeType===Node.TEXT_NODE?e:i.create(r),a=new i(t,o,r);return bi.blots.set(a.domNode,a),a}find(t,e=!1){return bi.find(t,e)}query(t,e=X.ANY){let r;return typeof t=="string"?r=this.types[t]||this.attributes[t]:t instanceof Text||t.nodeType===Node.TEXT_NODE?r=this.types.text:typeof t=="number"?t&X.LEVEL&X.BLOCK?r=this.types.block:t&X.LEVEL&X.INLINE&&(r=this.types.inline):t instanceof Element&&((t.getAttribute("class")||"").split(/\s+/).some(s=>(r=this.classes[s],!!r)),r=r||this.tags[t.tagName]),r==null?null:"scope"in r&&e&X.LEVEL&r.scope&&e&X.TYPE&r.scope?r:null}register(...t){return t.map(e=>{const r="blotName"in e,s="attrName"in e;if(!r&&!s)throw new _r("Invalid definition");if(r&&e.blotName==="abstract")throw new _r("Cannot register abstract class");const i=r?e.blotName:s?e.attrName:void 0;return this.types[i]=e,s?typeof e.keyName=="string"&&(this.attributes[e.keyName]=e):r&&(e.className&&(this.classes[e.className]=e),e.tagName&&(Array.isArray(e.tagName)?e.tagName=e.tagName.map(o=>o.toUpperCase()):e.tagName=e.tagName.toUpperCase(),(Array.isArray(e.tagName)?e.tagName:[e.tagName]).forEach(o=>{(this.tags[o]==null||e.className==null)&&(this.tags[o]=e)}))),e})}};Za.blots=new WeakMap;let Sr=Za;function Ho(n,t){return(n.getAttribute("class")||"").split(/\s+/).filter(e=>e.indexOf(`${t}-`)===0)}class Td extends be{static keys(t){return(t.getAttribute("class")||"").split(/\s+/).map(e=>e.split("-").slice(0,-1).join("-"))}add(t,e){return this.canAdd(t,e)?(this.remove(t),t.classList.add(`${this.keyName}-${e}`),!0):!1}remove(t){Ho(t,this.keyName).forEach(e=>{t.classList.remove(e)}),t.classList.length===0&&t.removeAttribute("class")}value(t){const e=(Ho(t,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(t,e)?e:""}}const le=Td;function Qs(n){const t=n.split("-"),e=t.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("");return t[0]+e}class Sd extends be{static keys(t){return(t.getAttribute("style")||"").split(";").map(e=>e.split(":")[0].trim())}add(t,e){return this.canAdd(t,e)?(t.style[Qs(this.keyName)]=e,!0):!1}remove(t){t.style[Qs(this.keyName)]="",t.getAttribute("style")||t.removeAttribute("style")}value(t){const e=t.style[Qs(this.keyName)];return this.canAdd(t,e)?e:""}}const Fe=Sd;class Od{constructor(t){this.attributes={},this.domNode=t,this.build()}attribute(t,e){e?t.add(this.domNode,e)&&(t.value(this.domNode)!=null?this.attributes[t.attrName]=t:delete this.attributes[t.attrName]):(t.remove(this.domNode),delete this.attributes[t.attrName])}build(){this.attributes={};const t=Sr.find(this.domNode);if(t==null)return;const e=be.keys(this.domNode),r=le.keys(this.domNode),s=Fe.keys(this.domNode);e.concat(r).concat(s).forEach(i=>{const o=t.scroll.query(i,X.ATTRIBUTE);o instanceof be&&(this.attributes[o.attrName]=o)})}copy(t){Object.keys(this.attributes).forEach(e=>{const r=this.attributes[e].value(this.domNode);t.format(e,r)})}move(t){this.copy(t),Object.keys(this.attributes).forEach(e=>{this.attributes[e].remove(this.domNode)}),this.attributes={}}values(){return Object.keys(this.attributes).reduce((t,e)=>(t[e]=this.attributes[e].value(this.domNode),t),{})}}const ns=Od,Xa=class{constructor(t,e){this.scroll=t,this.domNode=e,Sr.blots.set(e,this),this.prev=null,this.next=null}static create(t){if(this.tagName==null)throw new _r("Blot definition missing tagName");let e,r;return Array.isArray(this.tagName)?(typeof t=="string"?(r=t.toUpperCase(),parseInt(r,10).toString()===r&&(r=parseInt(r,10))):typeof t=="number"&&(r=t),typeof r=="number"?e=document.createElement(this.tagName[r-1]):r&&this.tagName.indexOf(r)>-1?e=document.createElement(r):e=document.createElement(this.tagName[0])):e=document.createElement(this.tagName),this.className&&e.classList.add(this.className),e}get statics(){return this.constructor}attach(){}clone(){const t=this.domNode.cloneNode(!1);return this.scroll.create(t)}detach(){this.parent!=null&&this.parent.removeChild(this),Sr.blots.delete(this.domNode)}deleteAt(t,e){this.isolate(t,e).remove()}formatAt(t,e,r,s){const i=this.isolate(t,e);if(this.scroll.query(r,X.BLOT)!=null&&s)i.wrap(r,s);else if(this.scroll.query(r,X.ATTRIBUTE)!=null){const o=this.scroll.create(this.statics.scope);i.wrap(o),o.format(r,s)}}insertAt(t,e,r){const s=r==null?this.scroll.create("text",e):this.scroll.create(e,r),i=this.split(t);this.parent.insertBefore(s,i||void 0)}isolate(t,e){const r=this.split(t);if(r==null)throw new Error("Attempt to isolate at end");return r.split(e),r}length(){return 1}offset(t=this.parent){return this.parent==null||this===t?0:this.parent.children.offset(this)+this.parent.offset(t)}optimize(t){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)}remove(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}replaceWith(t,e){const r=typeof t=="string"?this.scroll.create(t,e):t;return this.parent!=null&&(this.parent.insertBefore(r,this.next||void 0),this.remove()),r}split(t,e){return t===0?this:this.next}update(t,e){}wrap(t,e){const r=typeof t=="string"?this.scroll.create(t,e):t;if(this.parent!=null&&this.parent.insertBefore(r,this.next||void 0),typeof r.appendChild!="function")throw new _r(`Cannot wrap ${t}`);return r.appendChild(this),r}};Xa.blotName="abstract";let Ya=Xa;const Ja=class extends Ya{static value(t){return!0}index(t,e){return this.domNode===t||this.domNode.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(e,1):-1}position(t,e){let r=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return t>0&&(r+=1),[this.parent.domNode,r]}value(){return{[this.statics.blotName]:this.statics.value(this.domNode)||!0}}};Ja.scope=X.INLINE_BLOT;let kd=Ja;const Pt=kd;class Cd{constructor(){this.head=null,this.tail=null,this.length=0}append(...t){if(this.insertBefore(t[0],null),t.length>1){const e=t.slice(1);this.append(...e)}}at(t){const e=this.iterator();let r=e();for(;r&&t>0;)t-=1,r=e();return r}contains(t){const e=this.iterator();let r=e();for(;r;){if(r===t)return!0;r=e()}return!1}indexOf(t){const e=this.iterator();let r=e(),s=0;for(;r;){if(r===t)return s;s+=1,r=e()}return-1}insertBefore(t,e){t!=null&&(this.remove(t),t.next=e,e!=null?(t.prev=e.prev,e.prev!=null&&(e.prev.next=t),e.prev=t,e===this.head&&(this.head=t)):this.tail!=null?(this.tail.next=t,t.prev=this.tail,this.tail=t):(t.prev=null,this.head=this.tail=t),this.length+=1)}offset(t){let e=0,r=this.head;for(;r!=null;){if(r===t)return e;e+=r.length(),r=r.next}return-1}remove(t){this.contains(t)&&(t.prev!=null&&(t.prev.next=t.next),t.next!=null&&(t.next.prev=t.prev),t===this.head&&(this.head=t.next),t===this.tail&&(this.tail=t.prev),this.length-=1)}iterator(t=this.head){return()=>{const e=t;return t!=null&&(t=t.next),e}}find(t,e=!1){const r=this.iterator();let s=r();for(;s;){const i=s.length();if(t<i||e&&t===i&&(s.next==null||s.next.length()!==0))return[s,t];t-=i,s=r()}return[null,0]}forEach(t){const e=this.iterator();let r=e();for(;r;)t(r),r=e()}forEachAt(t,e,r){if(e<=0)return;const[s,i]=this.find(t);let o=t-i;const a=this.iterator(s);let c=a();for(;c&&o<t+e;){const u=c.length();t>o?r(c,t-o,Math.min(e,o+u-t)):r(c,0,Math.min(u,t+e-o)),o+=u,c=a()}}map(t){return this.reduce((e,r)=>(e.push(t(r)),e),[])}reduce(t,e){const r=this.iterator();let s=r();for(;s;)e=t(e,s),s=r();return e}}function zo(n,t){const e=t.find(n);if(e)return e;try{return t.create(n)}catch{const r=t.create(X.INLINE);return Array.from(n.childNodes).forEach(s=>{r.domNode.appendChild(s)}),n.parentNode&&n.parentNode.replaceChild(r.domNode,n),r.attach(),r}}const Qa=class je extends Ya{constructor(t,e){super(t,e),this.uiNode=null,this.build()}appendChild(t){this.insertBefore(t)}attach(){super.attach(),this.children.forEach(t=>{t.attach()})}attachUI(t){this.uiNode!=null&&this.uiNode.remove(),this.uiNode=t,je.uiClass&&this.uiNode.classList.add(je.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}build(){this.children=new Cd,Array.from(this.domNode.childNodes).filter(t=>t!==this.uiNode).reverse().forEach(t=>{try{const e=zo(t,this.scroll);this.insertBefore(e,this.children.head||void 0)}catch(e){if(e instanceof _r)return;throw e}})}deleteAt(t,e){if(t===0&&e===this.length())return this.remove();this.children.forEachAt(t,e,(r,s,i)=>{r.deleteAt(s,i)})}descendant(t,e=0){const[r,s]=this.children.find(e);return t.blotName==null&&t(r)||t.blotName!=null&&r instanceof t?[r,s]:r instanceof je?r.descendant(t,s):[null,-1]}descendants(t,e=0,r=Number.MAX_VALUE){let s=[],i=r;return this.children.forEachAt(e,r,(o,a,c)=>{(t.blotName==null&&t(o)||t.blotName!=null&&o instanceof t)&&s.push(o),o instanceof je&&(s=s.concat(o.descendants(t,a,i))),i-=c}),s}detach(){this.children.forEach(t=>{t.detach()}),super.detach()}enforceAllowedChildren(){let t=!1;this.children.forEach(e=>{t||this.statics.allowedChildren.some(r=>e instanceof r)||(e.statics.scope===X.BLOCK_BLOT?(e.next!=null&&this.splitAfter(e),e.prev!=null&&this.splitAfter(e.prev),e.parent.unwrap(),t=!0):e instanceof je?e.unwrap():e.remove())})}formatAt(t,e,r,s){this.children.forEachAt(t,e,(i,o,a)=>{i.formatAt(o,a,r,s)})}insertAt(t,e,r){const[s,i]=this.children.find(t);if(s)s.insertAt(i,e,r);else{const o=r==null?this.scroll.create("text",e):this.scroll.create(e,r);this.appendChild(o)}}insertBefore(t,e){t.parent!=null&&t.parent.children.remove(t);let r=null;this.children.insertBefore(t,e||null),t.parent=this,e!=null&&(r=e.domNode),(this.domNode.parentNode!==t.domNode||this.domNode.nextSibling!==r)&&this.domNode.insertBefore(t.domNode,r),t.attach()}length(){return this.children.reduce((t,e)=>t+e.length(),0)}moveChildren(t,e){this.children.forEach(r=>{t.insertBefore(r,e)})}optimize(t){if(super.optimize(t),this.enforceAllowedChildren(),this.uiNode!=null&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length===0)if(this.statics.defaultChild!=null){const e=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(e)}else this.remove()}path(t,e=!1){const[r,s]=this.children.find(t,e),i=[[this,t]];return r instanceof je?i.concat(r.path(s,e)):(r!=null&&i.push([r,s]),i)}removeChild(t){this.children.remove(t)}replaceWith(t,e){const r=typeof t=="string"?this.scroll.create(t,e):t;return r instanceof je&&this.moveChildren(r),super.replaceWith(r)}split(t,e=!1){if(!e){if(t===0)return this;if(t===this.length())return this.next}const r=this.clone();return this.parent&&this.parent.insertBefore(r,this.next||void 0),this.children.forEachAt(t,this.length(),(s,i,o)=>{const a=s.split(i,e);a!=null&&r.appendChild(a)}),r}splitAfter(t){const e=this.clone();for(;t.next!=null;)e.appendChild(t.next);return this.parent&&this.parent.insertBefore(e,this.next||void 0),e}unwrap(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}update(t,e){const r=[],s=[];t.forEach(i=>{i.target===this.domNode&&i.type==="childList"&&(r.push(...i.addedNodes),s.push(...i.removedNodes))}),s.forEach(i=>{if(i.parentNode!=null&&i.tagName!=="IFRAME"&&document.body.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY)return;const o=this.scroll.find(i);o!=null&&(o.domNode.parentNode==null||o.domNode.parentNode===this.domNode)&&o.detach()}),r.filter(i=>i.parentNode===this.domNode&&i!==this.uiNode).sort((i,o)=>i===o?0:i.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1).forEach(i=>{let o=null;i.nextSibling!=null&&(o=this.scroll.find(i.nextSibling));const a=zo(i,this.scroll);(a.next!==o||a.next==null)&&(a.parent!=null&&a.parent.removeChild(this),this.insertBefore(a,o||void 0))}),this.enforceAllowedChildren()}};Qa.uiClass="";let Ld=Qa;const oe=Ld;function qd(n,t){if(Object.keys(n).length!==Object.keys(t).length)return!1;for(const e in n)if(n[e]!==t[e])return!1;return!0}const yr=class br extends oe{static create(t){return super.create(t)}static formats(t,e){const r=e.query(br.blotName);if(!(r!=null&&t.tagName===r.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return t.tagName.toLowerCase()}}constructor(t,e){super(t,e),this.attributes=new ns(this.domNode)}format(t,e){if(t===this.statics.blotName&&!e)this.children.forEach(r=>{r instanceof br||(r=r.wrap(br.blotName,!0)),this.attributes.copy(r)}),this.unwrap();else{const r=this.scroll.query(t,X.INLINE);if(r==null)return;r instanceof be?this.attributes.attribute(r,e):e&&(t!==this.statics.blotName||this.formats()[t]!==e)&&this.replaceWith(t,e)}}formats(){const t=this.attributes.values(),e=this.statics.formats(this.domNode,this.scroll);return e!=null&&(t[this.statics.blotName]=e),t}formatAt(t,e,r,s){this.formats()[r]!=null||this.scroll.query(r,X.ATTRIBUTE)?this.isolate(t,e).format(r,s):super.formatAt(t,e,r,s)}optimize(t){super.optimize(t);const e=this.formats();if(Object.keys(e).length===0)return this.unwrap();const r=this.next;r instanceof br&&r.prev===this&&qd(e,r.formats())&&(r.moveChildren(this),r.remove())}replaceWith(t,e){const r=super.replaceWith(t,e);return this.attributes.copy(r),r}update(t,e){super.update(t,e),t.some(r=>r.target===this.domNode&&r.type==="attributes")&&this.attributes.build()}wrap(t,e){const r=super.wrap(t,e);return r instanceof br&&this.attributes.move(r),r}};yr.allowedChildren=[yr,Pt],yr.blotName="inline",yr.scope=X.INLINE_BLOT,yr.tagName="SPAN";let Id=yr;const Yi=Id,vr=class vi extends oe{static create(t){return super.create(t)}static formats(t,e){const r=e.query(vi.blotName);if(!(r!=null&&t.tagName===r.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return t.tagName.toLowerCase()}}constructor(t,e){super(t,e),this.attributes=new ns(this.domNode)}format(t,e){const r=this.scroll.query(t,X.BLOCK);r!=null&&(r instanceof be?this.attributes.attribute(r,e):t===this.statics.blotName&&!e?this.replaceWith(vi.blotName):e&&(t!==this.statics.blotName||this.formats()[t]!==e)&&this.replaceWith(t,e))}formats(){const t=this.attributes.values(),e=this.statics.formats(this.domNode,this.scroll);return e!=null&&(t[this.statics.blotName]=e),t}formatAt(t,e,r,s){this.scroll.query(r,X.BLOCK)!=null?this.format(r,s):super.formatAt(t,e,r,s)}insertAt(t,e,r){if(r==null||this.scroll.query(e,X.INLINE)!=null)super.insertAt(t,e,r);else{const s=this.split(t);if(s!=null){const i=this.scroll.create(e,r);s.parent.insertBefore(i,s)}else throw new Error("Attempt to insertAt after block boundaries")}}replaceWith(t,e){const r=super.replaceWith(t,e);return this.attributes.copy(r),r}update(t,e){super.update(t,e),t.some(r=>r.target===this.domNode&&r.type==="attributes")&&this.attributes.build()}};vr.blotName="block",vr.scope=X.BLOCK_BLOT,vr.tagName="P",vr.allowedChildren=[Yi,vr,Pt];let jd=vr;const sn=jd,wi=class extends oe{checkMerge(){return this.next!==null&&this.next.statics.blotName===this.statics.blotName}deleteAt(t,e){super.deleteAt(t,e),this.enforceAllowedChildren()}formatAt(t,e,r,s){super.formatAt(t,e,r,s),this.enforceAllowedChildren()}insertAt(t,e,r){super.insertAt(t,e,r),this.enforceAllowedChildren()}optimize(t){super.optimize(t),this.children.length>0&&this.next!=null&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}};wi.blotName="container",wi.scope=X.BLOCK_BLOT;let Rd=wi;const ss=Rd;class Pd extends Pt{static formats(t,e){}format(t,e){super.formatAt(0,this.length(),t,e)}formatAt(t,e,r,s){t===0&&e===this.length()?this.format(r,s):super.formatAt(t,e,r,s)}formats(){return this.statics.formats(this.domNode,this.scroll)}}const Gt=Pd,$d={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},Md=100,wr=class extends oe{constructor(t,e){super(null,e),this.registry=t,this.scroll=this,this.build(),this.observer=new MutationObserver(r=>{this.update(r)}),this.observer.observe(this.domNode,$d),this.attach()}create(t,e){return this.registry.create(this,t,e)}find(t,e=!1){const r=this.registry.find(t,e);return r?r.scroll===this?r:e?this.find(r.scroll.domNode.parentNode,!0):null:null}query(t,e=X.ANY){return this.registry.query(t,e)}register(...t){return this.registry.register(...t)}build(){this.scroll!=null&&super.build()}detach(){super.detach(),this.observer.disconnect()}deleteAt(t,e){this.update(),t===0&&e===this.length()?this.children.forEach(r=>{r.remove()}):super.deleteAt(t,e)}formatAt(t,e,r,s){this.update(),super.formatAt(t,e,r,s)}insertAt(t,e,r){this.update(),super.insertAt(t,e,r)}optimize(t=[],e={}){super.optimize(e);const r=e.mutationsMap||new WeakMap;let s=Array.from(this.observer.takeRecords());for(;s.length>0;)t.push(s.pop());const i=(c,u=!0)=>{c==null||c===this||c.domNode.parentNode!=null&&(r.has(c.domNode)||r.set(c.domNode,[]),u&&i(c.parent))},o=c=>{r.has(c.domNode)&&(c instanceof oe&&c.children.forEach(o),r.delete(c.domNode),c.optimize(e))};let a=t;for(let c=0;a.length>0;c+=1){if(c>=Md)throw new Error("[Parchment] Maximum optimize iterations reached");for(a.forEach(u=>{const h=this.find(u.target,!0);h!=null&&(h.domNode===u.target&&(u.type==="childList"?(i(this.find(u.previousSibling,!1)),Array.from(u.addedNodes).forEach(d=>{const f=this.find(d,!1);i(f,!1),f instanceof oe&&f.children.forEach(p=>{i(p,!1)})})):u.type==="attributes"&&i(h.prev)),i(h))}),this.children.forEach(o),a=Array.from(this.observer.takeRecords()),s=a.slice();s.length>0;)t.push(s.pop())}}update(t,e={}){t=t||this.observer.takeRecords();const r=new WeakMap;t.map(s=>{const i=this.find(s.target,!0);return i==null?null:r.has(i.domNode)?(r.get(i.domNode).push(s),null):(r.set(i.domNode,[s]),i)}).forEach(s=>{s!=null&&s!==this&&r.has(s.domNode)&&s.update(r.get(s.domNode)||[],e)}),e.mutationsMap=r,r.has(this.domNode)&&super.update(r.get(this.domNode),e),this.optimize(t,e)}};wr.blotName="scroll",wr.defaultChild=sn,wr.allowedChildren=[sn,ss],wr.scope=X.BLOCK_BLOT,wr.tagName="DIV";let Bd=wr;const Ji=Bd,xi=class tl extends Pt{static create(t){return document.createTextNode(t)}static value(t){return t.data}constructor(t,e){super(t,e),this.text=this.statics.value(this.domNode)}deleteAt(t,e){this.domNode.data=this.text=this.text.slice(0,t)+this.text.slice(t+e)}index(t,e){return this.domNode===t?e:-1}insertAt(t,e,r){r==null?(this.text=this.text.slice(0,t)+e+this.text.slice(t),this.domNode.data=this.text):super.insertAt(t,e,r)}length(){return this.text.length}optimize(t){super.optimize(t),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof tl&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}position(t,e=!1){return[this.domNode,t]}split(t,e=!1){if(!e){if(t===0)return this;if(t===this.length())return this.next}const r=this.scroll.create(this.domNode.splitText(t));return this.parent.insertBefore(r,this.next||void 0),this.text=this.statics.value(this.domNode),r}update(t,e){t.some(r=>r.type==="characterData"&&r.target===this.domNode)&&(this.text=this.statics.value(this.domNode))}value(){return this.text}};xi.blotName="text",xi.scope=X.INLINE_BLOT;let Dd=xi;const Xn=Dd,Ud=Object.freeze(Object.defineProperty({__proto__:null,Attributor:be,AttributorStore:ns,BlockBlot:sn,ClassAttributor:le,ContainerBlot:ss,EmbedBlot:Gt,InlineBlot:Yi,LeafBlot:Pt,ParentBlot:oe,Registry:Sr,Scope:X,ScrollBlot:Ji,StyleAttributor:Fe,TextBlot:Xn},Symbol.toStringTag,{value:"Module"}));var Ai={exports:{}},Vt=-1,Ut=1,Ot=0;function on(n,t,e,r,s){if(n===t)return n?[[Ot,n]]:[];if(e!=null){var i=Xd(n,t,e);if(i)return i}var o=Qi(n,t),a=n.substring(0,o);n=n.substring(o),t=t.substring(o),o=is(n,t);var c=n.substring(n.length-o);n=n.substring(0,n.length-o),t=t.substring(0,t.length-o);var u=Fd(n,t);return a&&u.unshift([Ot,a]),c&&u.push([Ot,c]),to(u,s),r&&Vd(u),u}function Fd(n,t){var e;if(!n)return[[Ut,t]];if(!t)return[[Vt,n]];var r=n.length>t.length?n:t,s=n.length>t.length?t:n,i=r.indexOf(s);if(i!==-1)return e=[[Ut,r.substring(0,i)],[Ot,s],[Ut,r.substring(i+s.length)]],n.length>t.length&&(e[0][0]=e[2][0]=Vt),e;if(s.length===1)return[[Vt,n],[Ut,t]];var o=zd(n,t);if(o){var a=o[0],c=o[1],u=o[2],h=o[3],d=o[4],f=on(a,u),p=on(c,h);return f.concat([[Ot,d]],p)}return Hd(n,t)}function Hd(n,t){for(var e=n.length,r=t.length,s=Math.ceil((e+r)/2),i=s,o=2*s,a=new Array(o),c=new Array(o),u=0;u<o;u++)a[u]=-1,c[u]=-1;a[i+1]=0,c[i+1]=0;for(var h=e-r,d=h%2!==0,f=0,p=0,g=0,E=0,v=0;v<s;v++){for(var w=-v+f;w<=v-p;w+=2){var A=i+w,_;w===-v||w!==v&&a[A-1]<a[A+1]?_=a[A+1]:_=a[A-1]+1;for(var b=_-w;_<e&&b<r&&n.charAt(_)===t.charAt(b);)_++,b++;if(a[A]=_,_>e)p+=2;else if(b>r)f+=2;else if(d){var N=i+h-w;if(N>=0&&N<o&&c[N]!==-1){var y=e-c[N];if(_>=y)return Vo(n,t,_,b)}}}for(var S=-v+g;S<=v-E;S+=2){var N=i+S,y;S===-v||S!==v&&c[N-1]<c[N+1]?y=c[N+1]:y=c[N-1]+1;for(var x=y-S;y<e&&x<r&&n.charAt(e-y-1)===t.charAt(r-x-1);)y++,x++;if(c[N]=y,y>e)E+=2;else if(x>r)g+=2;else if(!d){var A=i+h-S;if(A>=0&&A<o&&a[A]!==-1){var _=a[A],b=i+_-A;if(y=e-y,_>=y)return Vo(n,t,_,b)}}}}return[[Vt,n],[Ut,t]]}function Vo(n,t,e,r){var s=n.substring(0,e),i=t.substring(0,r),o=n.substring(e),a=t.substring(r),c=on(s,i),u=on(o,a);return c.concat(u)}function Qi(n,t){if(!n||!t||n.charAt(0)!==t.charAt(0))return 0;for(var e=0,r=Math.min(n.length,t.length),s=r,i=0;e<s;)n.substring(i,s)==t.substring(i,s)?(e=s,i=e):r=s,s=Math.floor((r-e)/2+e);return el(n.charCodeAt(s-1))&&s--,s}function Go(n,t){var e=n.length,r=t.length;if(e==0||r==0)return 0;e>r?n=n.substring(e-r):e<r&&(t=t.substring(0,e));var s=Math.min(e,r);if(n==t)return s;for(var i=0,o=1;;){var a=n.substring(s-o),c=t.indexOf(a);if(c==-1)return i;o+=c,(c==0||n.substring(s-o)==t.substring(0,o))&&(i=o,o++)}}function is(n,t){if(!n||!t||n.slice(-1)!==t.slice(-1))return 0;for(var e=0,r=Math.min(n.length,t.length),s=r,i=0;e<s;)n.substring(n.length-s,n.length-i)==t.substring(t.length-s,t.length-i)?(e=s,i=e):r=s,s=Math.floor((r-e)/2+e);return rl(n.charCodeAt(n.length-s))&&s--,s}function zd(n,t){var e=n.length>t.length?n:t,r=n.length>t.length?t:n;if(e.length<4||r.length*2<e.length)return null;function s(p,g,E){for(var v=p.substring(E,E+Math.floor(p.length/4)),w=-1,A="",_,b,N,y;(w=g.indexOf(v,w+1))!==-1;){var S=Qi(p.substring(E),g.substring(w)),x=is(p.substring(0,E),g.substring(0,w));A.length<x+S&&(A=g.substring(w-x,w)+g.substring(w,w+S),_=p.substring(0,E-x),b=p.substring(E+S),N=g.substring(0,w-x),y=g.substring(w+S))}return A.length*2>=p.length?[_,b,N,y,A]:null}var i=s(e,r,Math.ceil(e.length/4)),o=s(e,r,Math.ceil(e.length/2)),a;if(!i&&!o)return null;o?i?a=i[4].length>o[4].length?i:o:a=o:a=i;var c,u,h,d;n.length>t.length?(c=a[0],u=a[1],h=a[2],d=a[3]):(h=a[0],d=a[1],c=a[2],u=a[3]);var f=a[4];return[c,u,h,d,f]}function Vd(n){for(var t=!1,e=[],r=0,s=null,i=0,o=0,a=0,c=0,u=0;i<n.length;)n[i][0]==Ot?(e[r++]=i,o=c,a=u,c=0,u=0,s=n[i][1]):(n[i][0]==Ut?c+=n[i][1].length:u+=n[i][1].length,s&&s.length<=Math.max(o,a)&&s.length<=Math.max(c,u)&&(n.splice(e[r-1],0,[Vt,s]),n[e[r-1]+1][0]=Ut,r--,r--,i=r>0?e[r-1]:-1,o=0,a=0,c=0,u=0,s=null,t=!0)),i++;for(t&&to(n),Wd(n),i=1;i<n.length;){if(n[i-1][0]==Vt&&n[i][0]==Ut){var h=n[i-1][1],d=n[i][1],f=Go(h,d),p=Go(d,h);f>=p?(f>=h.length/2||f>=d.length/2)&&(n.splice(i,0,[Ot,d.substring(0,f)]),n[i-1][1]=h.substring(0,h.length-f),n[i+1][1]=d.substring(f),i++):(p>=h.length/2||p>=d.length/2)&&(n.splice(i,0,[Ot,h.substring(0,p)]),n[i-1][0]=Ut,n[i-1][1]=d.substring(0,d.length-p),n[i+1][0]=Vt,n[i+1][1]=h.substring(p),i++),i++}i++}}var Ko=/[^a-zA-Z0-9]/,Wo=/\s/,Zo=/[\r\n]/,Gd=/\n\r?\n$/,Kd=/^\r?\n\r?\n/;function Wd(n){function t(p,g){if(!p||!g)return 6;var E=p.charAt(p.length-1),v=g.charAt(0),w=E.match(Ko),A=v.match(Ko),_=w&&E.match(Wo),b=A&&v.match(Wo),N=_&&E.match(Zo),y=b&&v.match(Zo),S=N&&p.match(Gd),x=y&&g.match(Kd);return S||x?5:N||y?4:w&&!_&&b?3:_||b?2:w||A?1:0}for(var e=1;e<n.length-1;){if(n[e-1][0]==Ot&&n[e+1][0]==Ot){var r=n[e-1][1],s=n[e][1],i=n[e+1][1],o=is(r,s);if(o){var a=s.substring(s.length-o);r=r.substring(0,r.length-o),s=a+s.substring(0,s.length-o),i=a+i}for(var c=r,u=s,h=i,d=t(r,s)+t(s,i);s.charAt(0)===i.charAt(0);){r+=s.charAt(0),s=s.substring(1)+i.charAt(0),i=i.substring(1);var f=t(r,s)+t(s,i);f>=d&&(d=f,c=r,u=s,h=i)}n[e-1][1]!=c&&(c?n[e-1][1]=c:(n.splice(e-1,1),e--),n[e][1]=u,h?n[e+1][1]=h:(n.splice(e+1,1),e--))}e++}}function to(n,t){n.push([Ot,""]);for(var e=0,r=0,s=0,i="",o="",a;e<n.length;){if(e<n.length-1&&!n[e][1]){n.splice(e,1);continue}switch(n[e][0]){case Ut:s++,o+=n[e][1],e++;break;case Vt:r++,i+=n[e][1],e++;break;case Ot:var c=e-s-r-1;if(t){if(c>=0&&sl(n[c][1])){var u=n[c][1].slice(-1);if(n[c][1]=n[c][1].slice(0,-1),i=u+i,o=u+o,!n[c][1]){n.splice(c,1),e--;var h=c-1;n[h]&&n[h][0]===Ut&&(s++,o=n[h][1]+o,h--),n[h]&&n[h][0]===Vt&&(r++,i=n[h][1]+i,h--),c=h}}if(nl(n[e][1])){var u=n[e][1].charAt(0);n[e][1]=n[e][1].slice(1),i+=u,o+=u}}if(e<n.length-1&&!n[e][1]){n.splice(e,1);break}if(i.length>0||o.length>0){i.length>0&&o.length>0&&(a=Qi(o,i),a!==0&&(c>=0?n[c][1]+=o.substring(0,a):(n.splice(0,0,[Ot,o.substring(0,a)]),e++),o=o.substring(a),i=i.substring(a)),a=is(o,i),a!==0&&(n[e][1]=o.substring(o.length-a)+n[e][1],o=o.substring(0,o.length-a),i=i.substring(0,i.length-a)));var d=s+r;i.length===0&&o.length===0?(n.splice(e-d,d),e=e-d):i.length===0?(n.splice(e-d,d,[Ut,o]),e=e-d+1):o.length===0?(n.splice(e-d,d,[Vt,i]),e=e-d+1):(n.splice(e-d,d,[Vt,i],[Ut,o]),e=e-d+2)}e!==0&&n[e-1][0]===Ot?(n[e-1][1]+=n[e][1],n.splice(e,1)):e++,s=0,r=0,i="",o="";break}}n[n.length-1][1]===""&&n.pop();var f=!1;for(e=1;e<n.length-1;)n[e-1][0]===Ot&&n[e+1][0]===Ot&&(n[e][1].substring(n[e][1].length-n[e-1][1].length)===n[e-1][1]?(n[e][1]=n[e-1][1]+n[e][1].substring(0,n[e][1].length-n[e-1][1].length),n[e+1][1]=n[e-1][1]+n[e+1][1],n.splice(e-1,1),f=!0):n[e][1].substring(0,n[e+1][1].length)==n[e+1][1]&&(n[e-1][1]+=n[e+1][1],n[e][1]=n[e][1].substring(n[e+1][1].length)+n[e+1][1],n.splice(e+1,1),f=!0)),e++;f&&to(n,t)}function el(n){return n>=55296&&n<=56319}function rl(n){return n>=56320&&n<=57343}function nl(n){return rl(n.charCodeAt(0))}function sl(n){return el(n.charCodeAt(n.length-1))}function Zd(n){for(var t=[],e=0;e<n.length;e++)n[e][1].length>0&&t.push(n[e]);return t}function ti(n,t,e,r){return sl(n)||nl(r)?null:Zd([[Ot,n],[Vt,t],[Ut,e],[Ot,r]])}function Xd(n,t,e){var r=typeof e=="number"?{index:e,length:0}:e.oldRange,s=typeof e=="number"?null:e.newRange,i=n.length,o=t.length;if(r.length===0&&(s===null||s.length===0)){var a=r.index,c=n.slice(0,a),u=n.slice(a),h=s?s.index:null;t:{var d=a+o-i;if(h!==null&&h!==d||d<0||d>o)break t;var f=t.slice(0,d),p=t.slice(d);if(p!==u)break t;var g=Math.min(a,d),E=c.slice(0,g),v=f.slice(0,g);if(E!==v)break t;var w=c.slice(g),A=f.slice(g);return ti(E,w,A,u)}t:{if(h!==null&&h!==a)break t;var _=a,f=t.slice(0,_),p=t.slice(_);if(f!==c)break t;var b=Math.min(i-_,o-_),N=u.slice(u.length-b),y=p.slice(p.length-b);if(N!==y)break t;var w=u.slice(0,u.length-b),A=p.slice(0,p.length-b);return ti(c,w,A,N)}}if(r.length>0&&s&&s.length===0)t:{var E=n.slice(0,r.index),N=n.slice(r.index+r.length),g=E.length,b=N.length;if(o<g+b)break t;var v=t.slice(0,g),y=t.slice(o-b);if(E!==v||N!==y)break t;var w=n.slice(g,i-b),A=t.slice(g,o-b);return ti(E,w,A,N)}return null}function os(n,t,e,r){return on(n,t,e,r,!0)}os.INSERT=Ut;os.DELETE=Vt;os.EQUAL=Ot;var Yd=os,Yn={exports:{}};Yn.exports;(function(n,t){var e=200,r="__lodash_hash_undefined__",s=9007199254740991,i="[object Arguments]",o="[object Array]",a="[object Boolean]",c="[object Date]",u="[object Error]",h="[object Function]",d="[object GeneratorFunction]",f="[object Map]",p="[object Number]",g="[object Object]",E="[object Promise]",v="[object RegExp]",w="[object Set]",A="[object String]",_="[object Symbol]",b="[object WeakMap]",N="[object ArrayBuffer]",y="[object DataView]",S="[object Float32Array]",x="[object Float64Array]",I="[object Int8Array]",Z="[object Int16Array]",j="[object Int32Array]",k="[object Uint8Array]",P="[object Uint8ClampedArray]",D="[object Uint16Array]",F="[object Uint32Array]",G=/[\\^$.*+?()[\]{}|]/g,W=/\w*$/,z=/^\[object .+?Constructor\]$/,H=/^(?:0|[1-9]\d*)$/,$={};$[i]=$[o]=$[N]=$[y]=$[a]=$[c]=$[S]=$[x]=$[I]=$[Z]=$[j]=$[f]=$[p]=$[g]=$[v]=$[w]=$[A]=$[_]=$[k]=$[P]=$[D]=$[F]=!0,$[u]=$[h]=$[b]=!1;var nt=typeof Pe=="object"&&Pe&&Pe.Object===Object&&Pe,J=typeof self=="object"&&self&&self.Object===Object&&self,B=nt||J||Function("return this")(),R=t&&!t.nodeType&&t,O=R&&!0&&n&&!n.nodeType&&n,M=O&&O.exports===R;function st(l,m){return l.set(m[0],m[1]),l}function ft(l,m){return l.add(m),l}function mt(l,m){for(var T=-1,L=l?l.length:0;++T<L&&m(l[T],T,l)!==!1;);return l}function pt(l,m){for(var T=-1,L=m.length,et=l.length;++T<L;)l[et+T]=m[T];return l}function lt(l,m,T,L){for(var et=-1,Y=l?l.length:0;++et<Y;)T=m(T,l[et],et,l);return T}function bt(l,m){for(var T=-1,L=Array(l);++T<l;)L[T]=m(T);return L}function xt(l,m){return l==null?void 0:l[m]}function wt(l){var m=!1;if(l!=null&&typeof l.toString!="function")try{m=!!(l+"")}catch{}return m}function At(l){var m=-1,T=Array(l.size);return l.forEach(function(L,et){T[++m]=[et,L]}),T}function ht(l,m){return function(T){return l(m(T))}}function yt(l){var m=-1,T=Array(l.size);return l.forEach(function(L){T[++m]=L}),T}var Mt=Array.prototype,Et=Function.prototype,ir=Object.prototype,qr=B["__core-js_shared__"],yn=function(){var l=/[^.]+$/.exec(qr&&qr.keys&&qr.keys.IE_PROTO||"");return l?"Symbol(src)_1."+l:""}(),bn=Et.toString,he=ir.hasOwnProperty,or=ir.toString,hs=RegExp("^"+bn.call(he).replace(G,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),He=M?B.Buffer:void 0,ar=B.Symbol,Ir=B.Uint8Array,Kt=ht(Object.getPrototypeOf,Object),vn=Object.create,wn=ir.propertyIsEnumerable,fs=Mt.splice,jr=Object.getOwnPropertySymbols,lr=He?He.isBuffer:void 0,xn=ht(Object.keys,Object),cr=te(B,"DataView"),ze=te(B,"Map"),Qt=te(B,"Promise"),ur=te(B,"Set"),Rr=te(B,"WeakMap"),Ve=te(Object,"create"),Pr=Bt(cr),Ge=Bt(ze),$r=Bt(Qt),Mr=Bt(ur),Br=Bt(Rr),Le=ar?ar.prototype:void 0,An=Le?Le.valueOf:void 0;function xe(l){var m=-1,T=l?l.length:0;for(this.clear();++m<T;){var L=l[m];this.set(L[0],L[1])}}function ds(){this.__data__=Ve?Ve(null):{}}function ps(l){return this.has(l)&&delete this.__data__[l]}function gs(l){var m=this.__data__;if(Ve){var T=m[l];return T===r?void 0:T}return he.call(m,l)?m[l]:void 0}function En(l){var m=this.__data__;return Ve?m[l]!==void 0:he.call(m,l)}function Dr(l,m){var T=this.__data__;return T[l]=Ve&&m===void 0?r:m,this}xe.prototype.clear=ds,xe.prototype.delete=ps,xe.prototype.get=gs,xe.prototype.has=En,xe.prototype.set=Dr;function kt(l){var m=-1,T=l?l.length:0;for(this.clear();++m<T;){var L=l[m];this.set(L[0],L[1])}}function ms(){this.__data__=[]}function ys(l){var m=this.__data__,T=fr(m,l);if(T<0)return!1;var L=m.length-1;return T==L?m.pop():fs.call(m,T,1),!0}function bs(l){var m=this.__data__,T=fr(m,l);return T<0?void 0:m[T][1]}function vs(l){return fr(this.__data__,l)>-1}function ws(l,m){var T=this.__data__,L=fr(T,l);return L<0?T.push([l,m]):T[L][1]=m,this}kt.prototype.clear=ms,kt.prototype.delete=ys,kt.prototype.get=bs,kt.prototype.has=vs,kt.prototype.set=ws;function It(l){var m=-1,T=l?l.length:0;for(this.clear();++m<T;){var L=l[m];this.set(L[0],L[1])}}function xs(){this.__data__={hash:new xe,map:new(ze||kt),string:new xe}}function As(l){return We(this,l).delete(l)}function Es(l){return We(this,l).get(l)}function _s(l){return We(this,l).has(l)}function Ns(l,m){return We(this,l).set(l,m),this}It.prototype.clear=xs,It.prototype.delete=As,It.prototype.get=Es,It.prototype.has=_s,It.prototype.set=Ns;function Ft(l){this.__data__=new kt(l)}function Ts(){this.__data__=new kt}function Ss(l){return this.__data__.delete(l)}function Os(l){return this.__data__.get(l)}function ks(l){return this.__data__.has(l)}function Cs(l,m){var T=this.__data__;if(T instanceof kt){var L=T.__data__;if(!ze||L.length<e-1)return L.push([l,m]),this;T=this.__data__=new It(L)}return T.set(l,m),this}Ft.prototype.clear=Ts,Ft.prototype.delete=Ss,Ft.prototype.get=Os,Ft.prototype.has=ks,Ft.prototype.set=Cs;function hr(l,m){var T=zr(l)||pr(l)?bt(l.length,String):[],L=T.length,et=!!L;for(var Y in l)he.call(l,Y)&&!(et&&(Y=="length"||zs(Y,L)))&&T.push(Y);return T}function _n(l,m,T){var L=l[m];(!(he.call(l,m)&&kn(L,T))||T===void 0&&!(m in l))&&(l[m]=T)}function fr(l,m){for(var T=l.length;T--;)if(kn(l[T][0],m))return T;return-1}function fe(l,m){return l&&Hr(m,Gr(m),l)}function Ur(l,m,T,L,et,Y,at){var ot;if(L&&(ot=Y?L(l,et,Y,at):L(l)),ot!==void 0)return ot;if(!pe(l))return l;var _t=zr(l);if(_t){if(ot=Fs(l),!m)return Bs(l,ot)}else{var ct=Ee(l),jt=ct==h||ct==d;if(Cn(l))return dr(l,m);if(ct==g||ct==i||jt&&!Y){if(wt(l))return Y?l:{};if(ot=de(jt?{}:l),!m)return Ds(l,fe(ot,l))}else{if(!$[ct])return Y?l:{};ot=Hs(l,ct,Ur,m)}}at||(at=new Ft);var Ht=at.get(l);if(Ht)return Ht;if(at.set(l,ot),!_t)var St=T?Us(l):Gr(l);return mt(St||l,function(Rt,Ct){St&&(Ct=Rt,Rt=l[Ct]),_n(ot,Ct,Ur(Rt,m,T,L,Ct,l,at))}),ot}function Ls(l){return pe(l)?vn(l):{}}function qs(l,m,T){var L=m(l);return zr(l)?L:pt(L,T(l))}function Is(l){return or.call(l)}function js(l){if(!pe(l)||Gs(l))return!1;var m=Vr(l)||wt(l)?hs:z;return m.test(Bt(l))}function Rs(l){if(!Sn(l))return xn(l);var m=[];for(var T in Object(l))he.call(l,T)&&T!="constructor"&&m.push(T);return m}function dr(l,m){if(m)return l.slice();var T=new l.constructor(l.length);return l.copy(T),T}function Fr(l){var m=new l.constructor(l.byteLength);return new Ir(m).set(new Ir(l)),m}function Ke(l,m){var T=m?Fr(l.buffer):l.buffer;return new l.constructor(T,l.byteOffset,l.byteLength)}function Nn(l,m,T){var L=m?T(At(l),!0):At(l);return lt(L,st,new l.constructor)}function Tn(l){var m=new l.constructor(l.source,W.exec(l));return m.lastIndex=l.lastIndex,m}function Ps(l,m,T){var L=m?T(yt(l),!0):yt(l);return lt(L,ft,new l.constructor)}function $s(l){return An?Object(An.call(l)):{}}function Ms(l,m){var T=m?Fr(l.buffer):l.buffer;return new l.constructor(T,l.byteOffset,l.length)}function Bs(l,m){var T=-1,L=l.length;for(m||(m=Array(L));++T<L;)m[T]=l[T];return m}function Hr(l,m,T,L){T||(T={});for(var et=-1,Y=m.length;++et<Y;){var at=m[et],ot=void 0;_n(T,at,ot===void 0?l[at]:ot)}return T}function Ds(l,m){return Hr(l,Ae(l),m)}function Us(l){return qs(l,Gr,Ae)}function We(l,m){var T=l.__data__;return Vs(m)?T[typeof m=="string"?"string":"hash"]:T.map}function te(l,m){var T=xt(l,m);return js(T)?T:void 0}var Ae=jr?ht(jr,Object):Ws,Ee=Is;(cr&&Ee(new cr(new ArrayBuffer(1)))!=y||ze&&Ee(new ze)!=f||Qt&&Ee(Qt.resolve())!=E||ur&&Ee(new ur)!=w||Rr&&Ee(new Rr)!=b)&&(Ee=function(l){var m=or.call(l),T=m==g?l.constructor:void 0,L=T?Bt(T):void 0;if(L)switch(L){case Pr:return y;case Ge:return f;case $r:return E;case Mr:return w;case Br:return b}return m});function Fs(l){var m=l.length,T=l.constructor(m);return m&&typeof l[0]=="string"&&he.call(l,"index")&&(T.index=l.index,T.input=l.input),T}function de(l){return typeof l.constructor=="function"&&!Sn(l)?Ls(Kt(l)):{}}function Hs(l,m,T,L){var et=l.constructor;switch(m){case N:return Fr(l);case a:case c:return new et(+l);case y:return Ke(l,L);case S:case x:case I:case Z:case j:case k:case P:case D:case F:return Ms(l,L);case f:return Nn(l,L,T);case p:case A:return new et(l);case v:return Tn(l);case w:return Ps(l,L,T);case _:return $s(l)}}function zs(l,m){return m=m??s,!!m&&(typeof l=="number"||H.test(l))&&l>-1&&l%1==0&&l<m}function Vs(l){var m=typeof l;return m=="string"||m=="number"||m=="symbol"||m=="boolean"?l!=="__proto__":l===null}function Gs(l){return!!yn&&yn in l}function Sn(l){var m=l&&l.constructor,T=typeof m=="function"&&m.prototype||ir;return l===T}function Bt(l){if(l!=null){try{return bn.call(l)}catch{}try{return l+""}catch{}}return""}function On(l){return Ur(l,!0,!0)}function kn(l,m){return l===m||l!==l&&m!==m}function pr(l){return Ks(l)&&he.call(l,"callee")&&(!wn.call(l,"callee")||or.call(l)==i)}var zr=Array.isArray;function gr(l){return l!=null&&Ln(l.length)&&!Vr(l)}function Ks(l){return qn(l)&&gr(l)}var Cn=lr||Zs;function Vr(l){var m=pe(l)?or.call(l):"";return m==h||m==d}function Ln(l){return typeof l=="number"&&l>-1&&l%1==0&&l<=s}function pe(l){var m=typeof l;return!!l&&(m=="object"||m=="function")}function qn(l){return!!l&&typeof l=="object"}function Gr(l){return gr(l)?hr(l):Rs(l)}function Ws(){return[]}function Zs(){return!1}n.exports=On})(Yn,Yn.exports);var il=Yn.exports,Jn={exports:{}};Jn.exports;(function(n,t){var e=200,r="__lodash_hash_undefined__",s=1,i=2,o=9007199254740991,a="[object Arguments]",c="[object Array]",u="[object AsyncFunction]",h="[object Boolean]",d="[object Date]",f="[object Error]",p="[object Function]",g="[object GeneratorFunction]",E="[object Map]",v="[object Number]",w="[object Null]",A="[object Object]",_="[object Promise]",b="[object Proxy]",N="[object RegExp]",y="[object Set]",S="[object String]",x="[object Symbol]",I="[object Undefined]",Z="[object WeakMap]",j="[object ArrayBuffer]",k="[object DataView]",P="[object Float32Array]",D="[object Float64Array]",F="[object Int8Array]",G="[object Int16Array]",W="[object Int32Array]",z="[object Uint8Array]",H="[object Uint8ClampedArray]",$="[object Uint16Array]",nt="[object Uint32Array]",J=/[\\^$.*+?()[\]{}|]/g,B=/^\[object .+?Constructor\]$/,R=/^(?:0|[1-9]\d*)$/,O={};O[P]=O[D]=O[F]=O[G]=O[W]=O[z]=O[H]=O[$]=O[nt]=!0,O[a]=O[c]=O[j]=O[h]=O[k]=O[d]=O[f]=O[p]=O[E]=O[v]=O[A]=O[N]=O[y]=O[S]=O[Z]=!1;var M=typeof Pe=="object"&&Pe&&Pe.Object===Object&&Pe,st=typeof self=="object"&&self&&self.Object===Object&&self,ft=M||st||Function("return this")(),mt=t&&!t.nodeType&&t,pt=mt&&!0&&n&&!n.nodeType&&n,lt=pt&&pt.exports===mt,bt=lt&&M.process,xt=function(){try{return bt&&bt.binding&&bt.binding("util")}catch{}}(),wt=xt&&xt.isTypedArray;function At(l,m){for(var T=-1,L=l==null?0:l.length,et=0,Y=[];++T<L;){var at=l[T];m(at,T,l)&&(Y[et++]=at)}return Y}function ht(l,m){for(var T=-1,L=m.length,et=l.length;++T<L;)l[et+T]=m[T];return l}function yt(l,m){for(var T=-1,L=l==null?0:l.length;++T<L;)if(m(l[T],T,l))return!0;return!1}function Mt(l,m){for(var T=-1,L=Array(l);++T<l;)L[T]=m(T);return L}function Et(l){return function(m){return l(m)}}function ir(l,m){return l.has(m)}function qr(l,m){return l==null?void 0:l[m]}function yn(l){var m=-1,T=Array(l.size);return l.forEach(function(L,et){T[++m]=[et,L]}),T}function bn(l,m){return function(T){return l(m(T))}}function he(l){var m=-1,T=Array(l.size);return l.forEach(function(L){T[++m]=L}),T}var or=Array.prototype,hs=Function.prototype,He=Object.prototype,ar=ft["__core-js_shared__"],Ir=hs.toString,Kt=He.hasOwnProperty,vn=function(){var l=/[^.]+$/.exec(ar&&ar.keys&&ar.keys.IE_PROTO||"");return l?"Symbol(src)_1."+l:""}(),wn=He.toString,fs=RegExp("^"+Ir.call(Kt).replace(J,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),jr=lt?ft.Buffer:void 0,lr=ft.Symbol,xn=ft.Uint8Array,cr=He.propertyIsEnumerable,ze=or.splice,Qt=lr?lr.toStringTag:void 0,ur=Object.getOwnPropertySymbols,Rr=jr?jr.isBuffer:void 0,Ve=bn(Object.keys,Object),Pr=Ae(ft,"DataView"),Ge=Ae(ft,"Map"),$r=Ae(ft,"Promise"),Mr=Ae(ft,"Set"),Br=Ae(ft,"WeakMap"),Le=Ae(Object,"create"),An=Bt(Pr),xe=Bt(Ge),ds=Bt($r),ps=Bt(Mr),gs=Bt(Br),En=lr?lr.prototype:void 0,Dr=En?En.valueOf:void 0;function kt(l){var m=-1,T=l==null?0:l.length;for(this.clear();++m<T;){var L=l[m];this.set(L[0],L[1])}}function ms(){this.__data__=Le?Le(null):{},this.size=0}function ys(l){var m=this.has(l)&&delete this.__data__[l];return this.size-=m?1:0,m}function bs(l){var m=this.__data__;if(Le){var T=m[l];return T===r?void 0:T}return Kt.call(m,l)?m[l]:void 0}function vs(l){var m=this.__data__;return Le?m[l]!==void 0:Kt.call(m,l)}function ws(l,m){var T=this.__data__;return this.size+=this.has(l)?0:1,T[l]=Le&&m===void 0?r:m,this}kt.prototype.clear=ms,kt.prototype.delete=ys,kt.prototype.get=bs,kt.prototype.has=vs,kt.prototype.set=ws;function It(l){var m=-1,T=l==null?0:l.length;for(this.clear();++m<T;){var L=l[m];this.set(L[0],L[1])}}function xs(){this.__data__=[],this.size=0}function As(l){var m=this.__data__,T=dr(m,l);if(T<0)return!1;var L=m.length-1;return T==L?m.pop():ze.call(m,T,1),--this.size,!0}function Es(l){var m=this.__data__,T=dr(m,l);return T<0?void 0:m[T][1]}function _s(l){return dr(this.__data__,l)>-1}function Ns(l,m){var T=this.__data__,L=dr(T,l);return L<0?(++this.size,T.push([l,m])):T[L][1]=m,this}It.prototype.clear=xs,It.prototype.delete=As,It.prototype.get=Es,It.prototype.has=_s,It.prototype.set=Ns;function Ft(l){var m=-1,T=l==null?0:l.length;for(this.clear();++m<T;){var L=l[m];this.set(L[0],L[1])}}function Ts(){this.size=0,this.__data__={hash:new kt,map:new(Ge||It),string:new kt}}function Ss(l){var m=te(this,l).delete(l);return this.size-=m?1:0,m}function Os(l){return te(this,l).get(l)}function ks(l){return te(this,l).has(l)}function Cs(l,m){var T=te(this,l),L=T.size;return T.set(l,m),this.size+=T.size==L?0:1,this}Ft.prototype.clear=Ts,Ft.prototype.delete=Ss,Ft.prototype.get=Os,Ft.prototype.has=ks,Ft.prototype.set=Cs;function hr(l){var m=-1,T=l==null?0:l.length;for(this.__data__=new Ft;++m<T;)this.add(l[m])}function _n(l){return this.__data__.set(l,r),this}function fr(l){return this.__data__.has(l)}hr.prototype.add=hr.prototype.push=_n,hr.prototype.has=fr;function fe(l){var m=this.__data__=new It(l);this.size=m.size}function Ur(){this.__data__=new It,this.size=0}function Ls(l){var m=this.__data__,T=m.delete(l);return this.size=m.size,T}function qs(l){return this.__data__.get(l)}function Is(l){return this.__data__.has(l)}function js(l,m){var T=this.__data__;if(T instanceof It){var L=T.__data__;if(!Ge||L.length<e-1)return L.push([l,m]),this.size=++T.size,this;T=this.__data__=new Ft(L)}return T.set(l,m),this.size=T.size,this}fe.prototype.clear=Ur,fe.prototype.delete=Ls,fe.prototype.get=qs,fe.prototype.has=Is,fe.prototype.set=js;function Rs(l,m){var T=pr(l),L=!T&&kn(l),et=!T&&!L&&gr(l),Y=!T&&!L&&!et&&qn(l),at=T||L||et||Y,ot=at?Mt(l.length,String):[],_t=ot.length;for(var ct in l)Kt.call(l,ct)&&!(at&&(ct=="length"||et&&(ct=="offset"||ct=="parent")||Y&&(ct=="buffer"||ct=="byteLength"||ct=="byteOffset")||Hs(ct,_t)))&&ot.push(ct);return ot}function dr(l,m){for(var T=l.length;T--;)if(On(l[T][0],m))return T;return-1}function Fr(l,m,T){var L=m(l);return pr(l)?L:ht(L,T(l))}function Ke(l){return l==null?l===void 0?I:w:Qt&&Qt in Object(l)?Ee(l):Sn(l)}function Nn(l){return pe(l)&&Ke(l)==a}function Tn(l,m,T,L,et){return l===m?!0:l==null||m==null||!pe(l)&&!pe(m)?l!==l&&m!==m:Ps(l,m,T,L,Tn,et)}function Ps(l,m,T,L,et,Y){var at=pr(l),ot=pr(m),_t=at?c:de(l),ct=ot?c:de(m);_t=_t==a?A:_t,ct=ct==a?A:ct;var jt=_t==A,Ht=ct==A,St=_t==ct;if(St&&gr(l)){if(!gr(m))return!1;at=!0,jt=!1}if(St&&!jt)return Y||(Y=new fe),at||qn(l)?Hr(l,m,T,L,et,Y):Ds(l,m,_t,T,L,et,Y);if(!(T&s)){var Rt=jt&&Kt.call(l,"__wrapped__"),Ct=Ht&&Kt.call(m,"__wrapped__");if(Rt||Ct){var qe=Rt?l.value():l,_e=Ct?m.value():m;return Y||(Y=new fe),et(qe,_e,T,L,Y)}}return St?(Y||(Y=new fe),Us(l,m,T,L,et,Y)):!1}function $s(l){if(!Ln(l)||Vs(l))return!1;var m=Cn(l)?fs:B;return m.test(Bt(l))}function Ms(l){return pe(l)&&Vr(l.length)&&!!O[Ke(l)]}function Bs(l){if(!Gs(l))return Ve(l);var m=[];for(var T in Object(l))Kt.call(l,T)&&T!="constructor"&&m.push(T);return m}function Hr(l,m,T,L,et,Y){var at=T&s,ot=l.length,_t=m.length;if(ot!=_t&&!(at&&_t>ot))return!1;var ct=Y.get(l);if(ct&&Y.get(m))return ct==m;var jt=-1,Ht=!0,St=T&i?new hr:void 0;for(Y.set(l,m),Y.set(m,l);++jt<ot;){var Rt=l[jt],Ct=m[jt];if(L)var qe=at?L(Ct,Rt,jt,m,l,Y):L(Rt,Ct,jt,l,m,Y);if(qe!==void 0){if(qe)continue;Ht=!1;break}if(St){if(!yt(m,function(_e,Ze){if(!ir(St,Ze)&&(Rt===_e||et(Rt,_e,T,L,Y)))return St.push(Ze)})){Ht=!1;break}}else if(!(Rt===Ct||et(Rt,Ct,T,L,Y))){Ht=!1;break}}return Y.delete(l),Y.delete(m),Ht}function Ds(l,m,T,L,et,Y,at){switch(T){case k:if(l.byteLength!=m.byteLength||l.byteOffset!=m.byteOffset)return!1;l=l.buffer,m=m.buffer;case j:return!(l.byteLength!=m.byteLength||!Y(new xn(l),new xn(m)));case h:case d:case v:return On(+l,+m);case f:return l.name==m.name&&l.message==m.message;case N:case S:return l==m+"";case E:var ot=yn;case y:var _t=L&s;if(ot||(ot=he),l.size!=m.size&&!_t)return!1;var ct=at.get(l);if(ct)return ct==m;L|=i,at.set(l,m);var jt=Hr(ot(l),ot(m),L,et,Y,at);return at.delete(l),jt;case x:if(Dr)return Dr.call(l)==Dr.call(m)}return!1}function Us(l,m,T,L,et,Y){var at=T&s,ot=We(l),_t=ot.length,ct=We(m),jt=ct.length;if(_t!=jt&&!at)return!1;for(var Ht=_t;Ht--;){var St=ot[Ht];if(!(at?St in m:Kt.call(m,St)))return!1}var Rt=Y.get(l);if(Rt&&Y.get(m))return Rt==m;var Ct=!0;Y.set(l,m),Y.set(m,l);for(var qe=at;++Ht<_t;){St=ot[Ht];var _e=l[St],Ze=m[St];if(L)var po=at?L(Ze,_e,St,m,l,Y):L(_e,Ze,St,l,m,Y);if(!(po===void 0?_e===Ze||et(_e,Ze,T,L,Y):po)){Ct=!1;break}qe||(qe=St=="constructor")}if(Ct&&!qe){var In=l.constructor,jn=m.constructor;In!=jn&&"constructor"in l&&"constructor"in m&&!(typeof In=="function"&&In instanceof In&&typeof jn=="function"&&jn instanceof jn)&&(Ct=!1)}return Y.delete(l),Y.delete(m),Ct}function We(l){return Fr(l,Gr,Fs)}function te(l,m){var T=l.__data__;return zs(m)?T[typeof m=="string"?"string":"hash"]:T.map}function Ae(l,m){var T=qr(l,m);return $s(T)?T:void 0}function Ee(l){var m=Kt.call(l,Qt),T=l[Qt];try{l[Qt]=void 0;var L=!0}catch{}var et=wn.call(l);return L&&(m?l[Qt]=T:delete l[Qt]),et}var Fs=ur?function(l){return l==null?[]:(l=Object(l),At(ur(l),function(m){return cr.call(l,m)}))}:Ws,de=Ke;(Pr&&de(new Pr(new ArrayBuffer(1)))!=k||Ge&&de(new Ge)!=E||$r&&de($r.resolve())!=_||Mr&&de(new Mr)!=y||Br&&de(new Br)!=Z)&&(de=function(l){var m=Ke(l),T=m==A?l.constructor:void 0,L=T?Bt(T):"";if(L)switch(L){case An:return k;case xe:return E;case ds:return _;case ps:return y;case gs:return Z}return m});function Hs(l,m){return m=m??o,!!m&&(typeof l=="number"||R.test(l))&&l>-1&&l%1==0&&l<m}function zs(l){var m=typeof l;return m=="string"||m=="number"||m=="symbol"||m=="boolean"?l!=="__proto__":l===null}function Vs(l){return!!vn&&vn in l}function Gs(l){var m=l&&l.constructor,T=typeof m=="function"&&m.prototype||He;return l===T}function Sn(l){return wn.call(l)}function Bt(l){if(l!=null){try{return Ir.call(l)}catch{}try{return l+""}catch{}}return""}function On(l,m){return l===m||l!==l&&m!==m}var kn=Nn(function(){return arguments}())?Nn:function(l){return pe(l)&&Kt.call(l,"callee")&&!cr.call(l,"callee")},pr=Array.isArray;function zr(l){return l!=null&&Vr(l.length)&&!Cn(l)}var gr=Rr||Zs;function Ks(l,m){return Tn(l,m)}function Cn(l){if(!Ln(l))return!1;var m=Ke(l);return m==p||m==g||m==u||m==b}function Vr(l){return typeof l=="number"&&l>-1&&l%1==0&&l<=o}function Ln(l){var m=typeof l;return l!=null&&(m=="object"||m=="function")}function pe(l){return l!=null&&typeof l=="object"}var qn=wt?Et(wt):Ms;function Gr(l){return zr(l)?Rs(l):Bs(l)}function Ws(){return[]}function Zs(){return!1}n.exports=Ks})(Jn,Jn.exports);var ol=Jn.exports,eo={};Object.defineProperty(eo,"__esModule",{value:!0});const Jd=il,Qd=ol;var Ei;(function(n){function t(i={},o={},a=!1){typeof i!="object"&&(i={}),typeof o!="object"&&(o={});let c=Jd(o);a||(c=Object.keys(c).reduce((u,h)=>(c[h]!=null&&(u[h]=c[h]),u),{}));for(const u in i)i[u]!==void 0&&o[u]===void 0&&(c[u]=i[u]);return Object.keys(c).length>0?c:void 0}n.compose=t;function e(i={},o={}){typeof i!="object"&&(i={}),typeof o!="object"&&(o={});const a=Object.keys(i).concat(Object.keys(o)).reduce((c,u)=>(Qd(i[u],o[u])||(c[u]=o[u]===void 0?null:o[u]),c),{});return Object.keys(a).length>0?a:void 0}n.diff=e;function r(i={},o={}){i=i||{};const a=Object.keys(o).reduce((c,u)=>(o[u]!==i[u]&&i[u]!==void 0&&(c[u]=o[u]),c),{});return Object.keys(i).reduce((c,u)=>(i[u]!==o[u]&&o[u]===void 0&&(c[u]=null),c),a)}n.invert=r;function s(i,o,a=!1){if(typeof i!="object")return o;if(typeof o!="object")return;if(!a)return o;const c=Object.keys(o).reduce((u,h)=>(i[h]===void 0&&(u[h]=o[h]),u),{});return Object.keys(c).length>0?c:void 0}n.transform=s})(Ei||(Ei={}));eo.default=Ei;var as={};Object.defineProperty(as,"__esModule",{value:!0});var _i;(function(n){function t(e){return typeof e.delete=="number"?e.delete:typeof e.retain=="number"?e.retain:typeof e.retain=="object"&&e.retain!==null?1:typeof e.insert=="string"?e.insert.length:1}n.length=t})(_i||(_i={}));as.default=_i;var ro={};Object.defineProperty(ro,"__esModule",{value:!0});const Xo=as;class tp{constructor(t){this.ops=t,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(t){t||(t=1/0);const e=this.ops[this.index];if(e){const r=this.offset,s=Xo.default.length(e);if(t>=s-r?(t=s-r,this.index+=1,this.offset=0):this.offset+=t,typeof e.delete=="number")return{delete:t};{const i={};return e.attributes&&(i.attributes=e.attributes),typeof e.retain=="number"?i.retain=t:typeof e.retain=="object"&&e.retain!==null?i.retain=e.retain:typeof e.insert=="string"?i.insert=e.insert.substr(r,t):i.insert=e.insert,i}}else return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?Xo.default.length(this.ops[this.index])-this.offset:1/0}peekType(){const t=this.ops[this.index];return t?typeof t.delete=="number"?"delete":typeof t.retain=="number"||typeof t.retain=="object"&&t.retain!==null?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);{const t=this.offset,e=this.index,r=this.next(),s=this.ops.slice(this.index);return this.offset=t,this.index=e,[r].concat(s)}}else return[]}}ro.default=tp;(function(n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.AttributeMap=t.OpIterator=t.Op=void 0;const e=Yd,r=il,s=ol,i=eo;t.AttributeMap=i.default;const o=as;t.Op=o.default;const a=ro;t.OpIterator=a.default;const c="\0",u=(d,f)=>{if(typeof d!="object"||d===null)throw new Error(`cannot retain a ${typeof d}`);if(typeof f!="object"||f===null)throw new Error(`cannot retain a ${typeof f}`);const p=Object.keys(d)[0];if(!p||p!==Object.keys(f)[0])throw new Error(`embed types not matched: ${p} != ${Object.keys(f)[0]}`);return[p,d[p],f[p]]};class h{constructor(f){Array.isArray(f)?this.ops=f:f!=null&&Array.isArray(f.ops)?this.ops=f.ops:this.ops=[]}static registerEmbed(f,p){this.handlers[f]=p}static unregisterEmbed(f){delete this.handlers[f]}static getHandler(f){const p=this.handlers[f];if(!p)throw new Error(`no handlers for embed type "${f}"`);return p}insert(f,p){const g={};return typeof f=="string"&&f.length===0?this:(g.insert=f,p!=null&&typeof p=="object"&&Object.keys(p).length>0&&(g.attributes=p),this.push(g))}delete(f){return f<=0?this:this.push({delete:f})}retain(f,p){if(typeof f=="number"&&f<=0)return this;const g={retain:f};return p!=null&&typeof p=="object"&&Object.keys(p).length>0&&(g.attributes=p),this.push(g)}push(f){let p=this.ops.length,g=this.ops[p-1];if(f=r(f),typeof g=="object"){if(typeof f.delete=="number"&&typeof g.delete=="number")return this.ops[p-1]={delete:g.delete+f.delete},this;if(typeof g.delete=="number"&&f.insert!=null&&(p-=1,g=this.ops[p-1],typeof g!="object"))return this.ops.unshift(f),this;if(s(f.attributes,g.attributes)){if(typeof f.insert=="string"&&typeof g.insert=="string")return this.ops[p-1]={insert:g.insert+f.insert},typeof f.attributes=="object"&&(this.ops[p-1].attributes=f.attributes),this;if(typeof f.retain=="number"&&typeof g.retain=="number")return this.ops[p-1]={retain:g.retain+f.retain},typeof f.attributes=="object"&&(this.ops[p-1].attributes=f.attributes),this}}return p===this.ops.length?this.ops.push(f):this.ops.splice(p,0,f),this}chop(){const f=this.ops[this.ops.length-1];return f&&typeof f.retain=="number"&&!f.attributes&&this.ops.pop(),this}filter(f){return this.ops.filter(f)}forEach(f){this.ops.forEach(f)}map(f){return this.ops.map(f)}partition(f){const p=[],g=[];return this.forEach(E=>{(f(E)?p:g).push(E)}),[p,g]}reduce(f,p){return this.ops.reduce(f,p)}changeLength(){return this.reduce((f,p)=>p.insert?f+o.default.length(p):p.delete?f-p.delete:f,0)}length(){return this.reduce((f,p)=>f+o.default.length(p),0)}slice(f=0,p=1/0){const g=[],E=new a.default(this.ops);let v=0;for(;v<p&&E.hasNext();){let w;v<f?w=E.next(f-v):(w=E.next(p-v),g.push(w)),v+=o.default.length(w)}return new h(g)}compose(f){const p=new a.default(this.ops),g=new a.default(f.ops),E=[],v=g.peek();if(v!=null&&typeof v.retain=="number"&&v.attributes==null){let A=v.retain;for(;p.peekType()==="insert"&&p.peekLength()<=A;)A-=p.peekLength(),E.push(p.next());v.retain-A>0&&g.next(v.retain-A)}const w=new h(E);for(;p.hasNext()||g.hasNext();)if(g.peekType()==="insert")w.push(g.next());else if(p.peekType()==="delete")w.push(p.next());else{const A=Math.min(p.peekLength(),g.peekLength()),_=p.next(A),b=g.next(A);if(b.retain){const N={};if(typeof _.retain=="number")N.retain=typeof b.retain=="number"?A:b.retain;else if(typeof b.retain=="number")_.retain==null?N.insert=_.insert:N.retain=_.retain;else{const S=_.retain==null?"insert":"retain",[x,I,Z]=u(_[S],b.retain),j=h.getHandler(x);N[S]={[x]:j.compose(I,Z,S==="retain")}}const y=i.default.compose(_.attributes,b.attributes,typeof _.retain=="number");if(y&&(N.attributes=y),w.push(N),!g.hasNext()&&s(w.ops[w.ops.length-1],N)){const S=new h(p.rest());return w.concat(S).chop()}}else typeof b.delete=="number"&&(typeof _.retain=="number"||typeof _.retain=="object"&&_.retain!==null)&&w.push(b)}return w.chop()}concat(f){const p=new h(this.ops.slice());return f.ops.length>0&&(p.push(f.ops[0]),p.ops=p.ops.concat(f.ops.slice(1))),p}diff(f,p){if(this.ops===f.ops)return new h;const g=[this,f].map(_=>_.map(b=>{if(b.insert!=null)return typeof b.insert=="string"?b.insert:c;const N=_===f?"on":"with";throw new Error("diff() called "+N+" non-document")}).join("")),E=new h,v=e(g[0],g[1],p,!0),w=new a.default(this.ops),A=new a.default(f.ops);return v.forEach(_=>{let b=_[1].length;for(;b>0;){let N=0;switch(_[0]){case e.INSERT:N=Math.min(A.peekLength(),b),E.push(A.next(N));break;case e.DELETE:N=Math.min(b,w.peekLength()),w.next(N),E.delete(N);break;case e.EQUAL:N=Math.min(w.peekLength(),A.peekLength(),b);const y=w.next(N),S=A.next(N);s(y.insert,S.insert)?E.retain(N,i.default.diff(y.attributes,S.attributes)):E.push(S).delete(N);break}b-=N}}),E.chop()}eachLine(f,p=`
`){const g=new a.default(this.ops);let E=new h,v=0;for(;g.hasNext();){if(g.peekType()!=="insert")return;const w=g.peek(),A=o.default.length(w)-g.peekLength(),_=typeof w.insert=="string"?w.insert.indexOf(p,A)-A:-1;if(_<0)E.push(g.next());else if(_>0)E.push(g.next(_));else{if(f(E,g.next(1).attributes||{},v)===!1)return;v+=1,E=new h}}E.length()>0&&f(E,{},v)}invert(f){const p=new h;return this.reduce((g,E)=>{if(E.insert)p.delete(o.default.length(E));else{if(typeof E.retain=="number"&&E.attributes==null)return p.retain(E.retain),g+E.retain;if(E.delete||typeof E.retain=="number"){const v=E.delete||E.retain;return f.slice(g,g+v).forEach(A=>{E.delete?p.push(A):E.retain&&E.attributes&&p.retain(o.default.length(A),i.default.invert(E.attributes,A.attributes))}),g+v}else if(typeof E.retain=="object"&&E.retain!==null){const v=f.slice(g,g+1),w=new a.default(v.ops).next(),[A,_,b]=u(E.retain,w.insert),N=h.getHandler(A);return p.retain({[A]:N.invert(_,b)},i.default.invert(E.attributes,w.attributes)),g+1}}return g},0),p.chop()}transform(f,p=!1){if(p=!!p,typeof f=="number")return this.transformPosition(f,p);const g=f,E=new a.default(this.ops),v=new a.default(g.ops),w=new h;for(;E.hasNext()||v.hasNext();)if(E.peekType()==="insert"&&(p||v.peekType()!=="insert"))w.retain(o.default.length(E.next()));else if(v.peekType()==="insert")w.push(v.next());else{const A=Math.min(E.peekLength(),v.peekLength()),_=E.next(A),b=v.next(A);if(_.delete)continue;if(b.delete)w.push(b);else{const N=_.retain,y=b.retain;let S=typeof y=="object"&&y!==null?y:A;if(typeof N=="object"&&N!==null&&typeof y=="object"&&y!==null){const x=Object.keys(N)[0];if(x===Object.keys(y)[0]){const I=h.getHandler(x);I&&(S={[x]:I.transform(N[x],y[x],p)})}}w.retain(S,i.default.transform(_.attributes,b.attributes,p))}}return w.chop()}transformPosition(f,p=!1){p=!!p;const g=new a.default(this.ops);let E=0;for(;g.hasNext()&&E<=f;){const v=g.peekLength(),w=g.peekType();if(g.next(),w==="delete"){f-=Math.min(v,f-E);continue}else w==="insert"&&(E<f||!p)&&(f+=v);E+=v}return f}}h.Op=o.default,h.OpIterator=a.default,h.AttributeMap=i.default,h.handlers={},t.default=h,n.exports=h,n.exports.default=h})(Ai,Ai.exports);var Jt=Ai.exports;const K=Di(Jt);class ce extends Gt{static value(){}optimize(){(this.prev||this.next)&&this.remove()}length(){return 0}value(){return""}}ce.blotName="break";ce.tagName="BR";let ae=class extends Xn{};function ls(n){return n.replace(/[&<>"']/g,t=>({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"})[t])}const ge=class ge extends Yi{static compare(t,e){const r=ge.order.indexOf(t),s=ge.order.indexOf(e);return r>=0||s>=0?r-s:t===e?0:t<e?-1:1}formatAt(t,e,r,s){if(ge.compare(this.statics.blotName,r)<0&&this.scroll.query(r,X.BLOT)){const i=this.isolate(t,e);s&&i.wrap(r,s)}else super.formatAt(t,e,r,s)}optimize(t){if(super.optimize(t),this.parent instanceof ge&&ge.compare(this.statics.blotName,this.parent.statics.blotName)>0){const e=this.parent.isolate(this.offset(),this.length());this.moveChildren(e),e.wrap(this)}}};U(ge,"allowedChildren",[ge,ce,Gt,ae]),U(ge,"order",["cursor","inline","link","underline","strike","italic","bold","script","code"]);let ve=ge;const Yo=1;class Lt extends sn{constructor(){super(...arguments);U(this,"cache",{})}delta(){return this.cache.delta==null&&(this.cache.delta=al(this)),this.cache.delta}deleteAt(e,r){super.deleteAt(e,r),this.cache={}}formatAt(e,r,s,i){r<=0||(this.scroll.query(s,X.BLOCK)?e+r===this.length()&&this.format(s,i):super.formatAt(e,Math.min(r,this.length()-e-1),s,i),this.cache={})}insertAt(e,r,s){if(s!=null){super.insertAt(e,r,s),this.cache={};return}if(r.length===0)return;const i=r.split(`
`),o=i.shift();o.length>0&&(e<this.length()-1||this.children.tail==null?super.insertAt(Math.min(e,this.length()-1),o):this.children.tail.insertAt(this.children.tail.length(),o),this.cache={});let a=this;i.reduce((c,u)=>(a=a.split(c,!0),a.insertAt(0,u),u.length),e+o.length)}insertBefore(e,r){const{head:s}=this.children;super.insertBefore(e,r),s instanceof ce&&s.remove(),this.cache={}}length(){return this.cache.length==null&&(this.cache.length=super.length()+Yo),this.cache.length}moveChildren(e,r){super.moveChildren(e,r),this.cache={}}optimize(e){super.optimize(e),this.cache={}}path(e){return super.path(e,!0)}removeChild(e){super.removeChild(e),this.cache={}}split(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(r&&(e===0||e>=this.length()-Yo)){const i=this.clone();return e===0?(this.parent.insertBefore(i,this),this):(this.parent.insertBefore(i,this.next),i)}const s=super.split(e,r);return this.cache={},s}}Lt.blotName="block";Lt.tagName="P";Lt.defaultChild=ce;Lt.allowedChildren=[ce,ve,Gt,ae];class Yt extends Gt{attach(){super.attach(),this.attributes=new ns(this.domNode)}delta(){return new K().insert(this.value(),{...this.formats(),...this.attributes.values()})}format(t,e){const r=this.scroll.query(t,X.BLOCK_ATTRIBUTE);r!=null&&this.attributes.attribute(r,e)}formatAt(t,e,r,s){this.format(r,s)}insertAt(t,e,r){if(r!=null){super.insertAt(t,e,r);return}const s=e.split(`
`),i=s.pop(),o=s.map(c=>{const u=this.scroll.create(Lt.blotName);return u.insertAt(0,c),u}),a=this.split(t);o.forEach(c=>{this.parent.insertBefore(c,a)}),i&&this.parent.insertBefore(this.scroll.create("text",i),a)}}Yt.scope=X.BLOCK_BLOT;function al(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n.descendants(Pt).reduce((e,r)=>r.length()===0?e:e.insert(r.value(),Zt(r,{},t)),new K).insert(`
`,Zt(n))}function Zt(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return n==null||("formats"in n&&typeof n.formats=="function"&&(t={...t,...n.formats()},e&&delete t["code-token"]),n.parent==null||n.parent.statics.blotName==="scroll"||n.parent.statics.scope!==n.statics.scope)?t:Zt(n.parent,t,e)}const Wt=class Wt extends Gt{static value(){}constructor(t,e,r){super(t,e),this.selection=r,this.textNode=document.createTextNode(Wt.CONTENTS),this.domNode.appendChild(this.textNode),this.savedLength=0}detach(){this.parent!=null&&this.parent.removeChild(this)}format(t,e){if(this.savedLength!==0){super.format(t,e);return}let r=this,s=0;for(;r!=null&&r.statics.scope!==X.BLOCK_BLOT;)s+=r.offset(r.parent),r=r.parent;r!=null&&(this.savedLength=Wt.CONTENTS.length,r.optimize(),r.formatAt(s,Wt.CONTENTS.length,t,e),this.savedLength=0)}index(t,e){return t===this.textNode?0:super.index(t,e)}length(){return this.savedLength}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove(),this.parent=null}restore(){if(this.selection.composing||this.parent==null)return null;const t=this.selection.getNativeRange();for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);const e=this.prev instanceof ae?this.prev:null,r=e?e.length():0,s=this.next instanceof ae?this.next:null,i=s?s.text:"",{textNode:o}=this,a=o.data.split(Wt.CONTENTS).join("");o.data=Wt.CONTENTS;let c;if(e)c=e,(a||s)&&(e.insertAt(e.length(),a+i),s&&s.remove());else if(s)c=s,s.insertAt(0,a);else{const u=document.createTextNode(a);c=this.scroll.create(u),this.parent.insertBefore(c,this)}if(this.remove(),t){const u=(f,p)=>e&&f===e.domNode?p:f===o?r+p-1:s&&f===s.domNode?r+a.length+p:null,h=u(t.start.node,t.start.offset),d=u(t.end.node,t.end.offset);if(h!==null&&d!==null)return{startNode:c.domNode,startOffset:h,endNode:c.domNode,endOffset:d}}return null}update(t,e){if(t.some(r=>r.type==="characterData"&&r.target===this.textNode)){const r=this.restore();r&&(e.range=r)}}optimize(t){super.optimize(t);let{parent:e}=this;for(;e;){if(e.domNode.tagName==="A"){this.savedLength=Wt.CONTENTS.length,e.isolate(this.offset(e),this.length()).unwrap(),this.savedLength=0;break}e=e.parent}}value(){return""}};U(Wt,"blotName","cursor"),U(Wt,"className","ql-cursor"),U(Wt,"tagName","span"),U(Wt,"CONTENTS","\uFEFF");let Or=Wt;var ll={exports:{}};(function(n){var t=Object.prototype.hasOwnProperty,e="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(e=!1));function s(c,u,h){this.fn=c,this.context=u,this.once=h||!1}function i(c,u,h,d,f){if(typeof h!="function")throw new TypeError("The listener must be a function");var p=new s(h,d||c,f),g=e?e+u:u;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],p]:c._events[g].push(p):(c._events[g]=p,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new r:delete c._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],h,d;if(this._eventsCount===0)return u;for(d in h=this._events)t.call(h,d)&&u.push(e?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(h)):u},a.prototype.listeners=function(u){var h=e?e+u:u,d=this._events[h];if(!d)return[];if(d.fn)return[d.fn];for(var f=0,p=d.length,g=new Array(p);f<p;f++)g[f]=d[f].fn;return g},a.prototype.listenerCount=function(u){var h=e?e+u:u,d=this._events[h];return d?d.fn?1:d.length:0},a.prototype.emit=function(u,h,d,f,p,g){var E=e?e+u:u;if(!this._events[E])return!1;var v=this._events[E],w=arguments.length,A,_;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),w){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,h),!0;case 3:return v.fn.call(v.context,h,d),!0;case 4:return v.fn.call(v.context,h,d,f),!0;case 5:return v.fn.call(v.context,h,d,f,p),!0;case 6:return v.fn.call(v.context,h,d,f,p,g),!0}for(_=1,A=new Array(w-1);_<w;_++)A[_-1]=arguments[_];v.fn.apply(v.context,A)}else{var b=v.length,N;for(_=0;_<b;_++)switch(v[_].once&&this.removeListener(u,v[_].fn,void 0,!0),w){case 1:v[_].fn.call(v[_].context);break;case 2:v[_].fn.call(v[_].context,h);break;case 3:v[_].fn.call(v[_].context,h,d);break;case 4:v[_].fn.call(v[_].context,h,d,f);break;default:if(!A)for(N=1,A=new Array(w-1);N<w;N++)A[N-1]=arguments[N];v[_].fn.apply(v[_].context,A)}}return!0},a.prototype.on=function(u,h,d){return i(this,u,h,d,!1)},a.prototype.once=function(u,h,d){return i(this,u,h,d,!0)},a.prototype.removeListener=function(u,h,d,f){var p=e?e+u:u;if(!this._events[p])return this;if(!h)return o(this,p),this;var g=this._events[p];if(g.fn)g.fn===h&&(!f||g.once)&&(!d||g.context===d)&&o(this,p);else{for(var E=0,v=[],w=g.length;E<w;E++)(g[E].fn!==h||f&&!g[E].once||d&&g[E].context!==d)&&v.push(g[E]);v.length?this._events[p]=v.length===1?v[0]:v:o(this,p)}return this},a.prototype.removeAllListeners=function(u){var h;return u?(h=e?e+u:u,this._events[h]&&o(this,h)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=e,a.EventEmitter=a,n.exports=a})(ll);var ep=ll.exports;const rp=Di(ep),Ni=new WeakMap,Ti=["error","warn","log","info"];let Si="warn";function cl(n){if(Si&&Ti.indexOf(n)<=Ti.indexOf(Si)){for(var t=arguments.length,e=new Array(t>1?t-1:0),r=1;r<t;r++)e[r-1]=arguments[r];console[n](...e)}}function Ce(n){return Ti.reduce((t,e)=>(t[e]=cl.bind(console,e,n),t),{})}Ce.level=n=>{Si=n};cl.level=Ce.level;const ei=Ce("quill:events"),np=["selectionchange","mousedown","mouseup","click"];np.forEach(n=>{document.addEventListener(n,function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];Array.from(document.querySelectorAll(".ql-container")).forEach(s=>{const i=Ni.get(s);i&&i.emitter&&i.emitter.handleDOM(...e)})})});class V extends rp{constructor(){super(),this.domListeners={},this.on("error",ei.error)}emit(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return ei.log.call(ei,...e),super.emit(...e)}handleDOM(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),s=1;s<e;s++)r[s-1]=arguments[s];(this.domListeners[t.type]||[]).forEach(i=>{let{node:o,handler:a}=i;(t.target===o||o.contains(t.target))&&a(t,...r)})}listenDOM(t,e,r){this.domListeners[t]||(this.domListeners[t]=[]),this.domListeners[t].push({node:e,handler:r})}}U(V,"events",{EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SCROLL_EMBED_UPDATE:"scroll-embed-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"}),U(V,"sources",{API:"api",SILENT:"silent",USER:"user"});const ri=Ce("quill:selection");class Je{constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.index=t,this.length=e}}class sp{constructor(t,e){this.emitter=e,this.scroll=t,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new Je(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,()=>{!this.mouseDown&&!this.composing&&setTimeout(this.update.bind(this,V.sources.USER),1)}),this.emitter.on(V.events.SCROLL_BEFORE_UPDATE,()=>{if(!this.hasFocus())return;const r=this.getNativeRange();r!=null&&r.start.node!==this.cursor.textNode&&this.emitter.once(V.events.SCROLL_UPDATE,(s,i)=>{try{this.root.contains(r.start.node)&&this.root.contains(r.end.node)&&this.setNativeRange(r.start.node,r.start.offset,r.end.node,r.end.offset);const o=i.some(a=>a.type==="characterData"||a.type==="childList"||a.type==="attributes"&&a.target===this.root);this.update(o?V.sources.SILENT:s)}catch{}})}),this.emitter.on(V.events.SCROLL_OPTIMIZE,(r,s)=>{if(s.range){const{startNode:i,startOffset:o,endNode:a,endOffset:c}=s.range;this.setNativeRange(i,o,a,c),this.update(V.sources.SILENT)}}),this.update(V.sources.SILENT)}handleComposition(){this.emitter.on(V.events.COMPOSITION_BEFORE_START,()=>{this.composing=!0}),this.emitter.on(V.events.COMPOSITION_END,()=>{if(this.composing=!1,this.cursor.parent){const t=this.cursor.restore();if(!t)return;setTimeout(()=>{this.setNativeRange(t.startNode,t.startOffset,t.endNode,t.endOffset)},1)}})}handleDragging(){this.emitter.listenDOM("mousedown",document.body,()=>{this.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,()=>{this.mouseDown=!1,this.update(V.sources.USER)})}focus(){this.hasFocus()||(this.root.focus({preventScroll:!0}),this.setRange(this.savedRange))}format(t,e){this.scroll.update();const r=this.getNativeRange();if(!(r==null||!r.native.collapsed||this.scroll.query(t,X.BLOCK))){if(r.start.node!==this.cursor.textNode){const s=this.scroll.find(r.start.node,!1);if(s==null)return;if(s instanceof Pt){const i=s.split(r.start.offset);s.parent.insertBefore(this.cursor,i)}else s.insertBefore(this.cursor,r.start.node);this.cursor.attach()}this.cursor.format(t,e),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}getBounds(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const r=this.scroll.length();t=Math.min(t,r-1),e=Math.min(t+e,r-1)-t;let s,[i,o]=this.scroll.leaf(t);if(i==null)return null;if(e>0&&o===i.length()){const[h]=this.scroll.leaf(t+1);if(h){const[d]=this.scroll.line(t),[f]=this.scroll.line(t+1);d===f&&(i=h,o=0)}}[s,o]=i.position(o,!0);const a=document.createRange();if(e>0)return a.setStart(s,o),[i,o]=this.scroll.leaf(t+e),i==null?null:([s,o]=i.position(o,!0),a.setEnd(s,o),a.getBoundingClientRect());let c="left",u;if(s instanceof Text){if(!s.data.length)return null;o<s.data.length?(a.setStart(s,o),a.setEnd(s,o+1)):(a.setStart(s,o-1),a.setEnd(s,o),c="right"),u=a.getBoundingClientRect()}else{if(!(i.domNode instanceof Element))return null;u=i.domNode.getBoundingClientRect(),o>0&&(c="right")}return{bottom:u.top+u.height,height:u.height,left:u[c],right:u[c],top:u.top,width:0}}getNativeRange(){const t=document.getSelection();if(t==null||t.rangeCount<=0)return null;const e=t.getRangeAt(0);if(e==null)return null;const r=this.normalizeNative(e);return ri.info("getNativeRange",r),r}getRange(){const t=this.scroll.domNode;if("isConnected"in t&&!t.isConnected)return[null,null];const e=this.getNativeRange();return e==null?[null,null]:[this.normalizedToRange(e),e]}hasFocus(){return document.activeElement===this.root||document.activeElement!=null&&ni(this.root,document.activeElement)}normalizedToRange(t){const e=[[t.start.node,t.start.offset]];t.native.collapsed||e.push([t.end.node,t.end.offset]);const r=e.map(o=>{const[a,c]=o,u=this.scroll.find(a,!0),h=u.offset(this.scroll);return c===0?h:u instanceof Pt?h+u.index(a,c):h+u.length()}),s=Math.min(Math.max(...r),this.scroll.length()-1),i=Math.min(s,...r);return new Je(i,s-i)}normalizeNative(t){if(!ni(this.root,t.startContainer)||!t.collapsed&&!ni(this.root,t.endContainer))return null;const e={start:{node:t.startContainer,offset:t.startOffset},end:{node:t.endContainer,offset:t.endOffset},native:t};return[e.start,e.end].forEach(r=>{let{node:s,offset:i}=r;for(;!(s instanceof Text)&&s.childNodes.length>0;)if(s.childNodes.length>i)s=s.childNodes[i],i=0;else if(s.childNodes.length===i)s=s.lastChild,s instanceof Text?i=s.data.length:s.childNodes.length>0?i=s.childNodes.length:i=s.childNodes.length+1;else break;r.node=s,r.offset=i}),e}rangeToNative(t){const e=this.scroll.length(),r=(s,i)=>{s=Math.min(e-1,s);const[o,a]=this.scroll.leaf(s);return o?o.position(a,i):[null,-1]};return[...r(t.index,!1),...r(t.index+t.length,!0)]}setNativeRange(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:e,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(ri.info("setNativeRange",t,e,r,s),t!=null&&(this.root.parentNode==null||t.parentNode==null||r.parentNode==null))return;const o=document.getSelection();if(o!=null)if(t!=null){this.hasFocus()||this.root.focus({preventScroll:!0});const{native:a}=this.getNativeRange()||{};if(a==null||i||t!==a.startContainer||e!==a.startOffset||r!==a.endContainer||s!==a.endOffset){t instanceof Element&&t.tagName==="BR"&&(e=Array.from(t.parentNode.childNodes).indexOf(t),t=t.parentNode),r instanceof Element&&r.tagName==="BR"&&(s=Array.from(r.parentNode.childNodes).indexOf(r),r=r.parentNode);const c=document.createRange();c.setStart(t,e),c.setEnd(r,s),o.removeAllRanges(),o.addRange(c)}}else o.removeAllRanges(),this.root.blur()}setRange(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:V.sources.API;if(typeof e=="string"&&(r=e,e=!1),ri.info("setRange",t),t!=null){const s=this.rangeToNative(t);this.setNativeRange(...s,e)}else this.setNativeRange(null);this.update(r)}update(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:V.sources.USER;const e=this.lastRange,[r,s]=this.getRange();if(this.lastRange=r,this.lastNative=s,this.lastRange!=null&&(this.savedRange=this.lastRange),!Xi(e,this.lastRange)){if(!this.composing&&s!=null&&s.native.collapsed&&s.start.node!==this.cursor.textNode){const o=this.cursor.restore();o&&this.setNativeRange(o.startNode,o.startOffset,o.endNode,o.endOffset)}const i=[V.events.SELECTION_CHANGE,Er(this.lastRange),Er(e),t];this.emitter.emit(V.events.EDITOR_CHANGE,...i),t!==V.sources.SILENT&&this.emitter.emit(...i)}}}function ni(n,t){try{t.parentNode}catch{return!1}return n.contains(t)}const ip=/^[ -~]*$/;class op{constructor(t){this.scroll=t,this.delta=this.getDelta()}applyDelta(t){this.scroll.update();let e=this.scroll.length();this.scroll.batchStart();const r=Jo(t),s=new K;return lp(r.ops.slice()).reduce((o,a)=>{const c=Jt.Op.length(a);let u=a.attributes||{},h=!1,d=!1;if(a.insert!=null){if(s.retain(c),typeof a.insert=="string"){const g=a.insert;d=!g.endsWith(`
`)&&(e<=o||!!this.scroll.descendant(Yt,o)[0]),this.scroll.insertAt(o,g);const[E,v]=this.scroll.line(o);let w=Be({},Zt(E));if(E instanceof Lt){const[A]=E.descendant(Pt,v);A&&(w=Be(w,Zt(A)))}u=Jt.AttributeMap.diff(w,u)||{}}else if(typeof a.insert=="object"){const g=Object.keys(a.insert)[0];if(g==null)return o;const E=this.scroll.query(g,X.INLINE)!=null;if(E)(e<=o||this.scroll.descendant(Yt,o)[0])&&(d=!0);else if(o>0){const[v,w]=this.scroll.descendant(Pt,o-1);v instanceof ae?v.value()[w]!==`
`&&(h=!0):v instanceof Gt&&v.statics.scope===X.INLINE_BLOT&&(h=!0)}if(this.scroll.insertAt(o,g,a.insert[g]),E){const[v]=this.scroll.descendant(Pt,o);if(v){const w=Be({},Zt(v));u=Jt.AttributeMap.diff(w,u)||{}}}}e+=c}else if(s.push(a),a.retain!==null&&typeof a.retain=="object"){const g=Object.keys(a.retain)[0];if(g==null)return o;this.scroll.updateEmbedAt(o,g,a.retain[g])}Object.keys(u).forEach(g=>{this.scroll.formatAt(o,c,g,u[g])});const f=h?1:0,p=d?1:0;return e+=f+p,s.retain(f),s.delete(p),o+c+f+p},0),s.reduce((o,a)=>typeof a.delete=="number"?(this.scroll.deleteAt(o,a.delete),o):o+Jt.Op.length(a),0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(r)}deleteText(t,e){return this.scroll.deleteAt(t,e),this.update(new K().retain(t).delete(e))}formatLine(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.scroll.update(),Object.keys(r).forEach(i=>{this.scroll.lines(t,Math.max(e,1)).forEach(o=>{o.format(i,r[i])})}),this.scroll.optimize();const s=new K().retain(t).retain(e,Er(r));return this.update(s)}formatText(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.keys(r).forEach(i=>{this.scroll.formatAt(t,e,i,r[i])});const s=new K().retain(t).retain(e,Er(r));return this.update(s)}getContents(t,e){return this.delta.slice(t,t+e)}getDelta(){return this.scroll.lines().reduce((t,e)=>t.concat(e.delta()),new K)}getFormat(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=[],s=[];e===0?this.scroll.path(t).forEach(a=>{const[c]=a;c instanceof Lt?r.push(c):c instanceof Pt&&s.push(c)}):(r=this.scroll.lines(t,e),s=this.scroll.descendants(Pt,t,e));const[i,o]=[r,s].map(a=>{const c=a.shift();if(c==null)return{};let u=Zt(c);for(;Object.keys(u).length>0;){const h=a.shift();if(h==null)return u;u=ap(Zt(h),u)}return u});return{...i,...o}}getHTML(t,e){const[r,s]=this.scroll.line(t);if(r){const i=r.length();return r.length()>=s+e&&!(s===0&&e===i)?an(r,s,e,!0):an(this.scroll,t,e,!0)}return""}getText(t,e){return this.getContents(t,e).filter(r=>typeof r.insert=="string").map(r=>r.insert).join("")}insertContents(t,e){const r=Jo(e),s=new K().retain(t).concat(r);return this.scroll.insertContents(t,r),this.update(s)}insertEmbed(t,e,r){return this.scroll.insertAt(t,e,r),this.update(new K().retain(t).insert({[e]:r}))}insertText(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return e=e.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(t,e),Object.keys(r).forEach(s=>{this.scroll.formatAt(t,e.length,s,r[s])}),this.update(new K().retain(t).insert(e,Er(r)))}isBlank(){if(this.scroll.children.length===0)return!0;if(this.scroll.children.length>1)return!1;const t=this.scroll.children.head;if((t==null?void 0:t.statics.blotName)!==Lt.blotName)return!1;const e=t;return e.children.length>1?!1:e.children.head instanceof ce}removeFormat(t,e){const r=this.getText(t,e),[s,i]=this.scroll.line(t+e);let o=0,a=new K;s!=null&&(o=s.length()-i,a=s.delta().slice(i,i+o-1).insert(`
`));const u=this.getContents(t,e+o).diff(new K().insert(r).concat(a)),h=new K().retain(t).concat(u);return this.applyDelta(h)}update(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;const s=this.delta;if(e.length===1&&e[0].type==="characterData"&&e[0].target.data.match(ip)&&this.scroll.find(e[0].target)){const i=this.scroll.find(e[0].target),o=Zt(i),a=i.offset(this.scroll),c=e[0].oldValue.replace(Or.CONTENTS,""),u=new K().insert(c),h=new K().insert(i.value()),d=r&&{oldRange:Qo(r.oldRange,-a),newRange:Qo(r.newRange,-a)};t=new K().retain(a).concat(u.diff(h,d)).reduce((p,g)=>g.insert?p.insert(g.insert,o):p.push(g),new K),this.delta=s.compose(t)}else this.delta=this.getDelta(),(!t||!Xi(s.compose(t),this.delta))&&(t=s.diff(this.delta,r));return t}}function xr(n,t,e){if(n.length===0){const[p]=si(e.pop());return t<=0?`</li></${p}>`:`</li></${p}>${xr([],t-1,e)}`}const[{child:r,offset:s,length:i,indent:o,type:a},...c]=n,[u,h]=si(a);if(o>t)return e.push(a),o===t+1?`<${u}><li${h}>${an(r,s,i)}${xr(c,o,e)}`:`<${u}><li>${xr(n,t+1,e)}`;const d=e[e.length-1];if(o===t&&a===d)return`</li><li${h}>${an(r,s,i)}${xr(c,o,e)}`;const[f]=si(e.pop());return`</li></${f}>${xr(n,t-1,e)}`}function an(n,t,e){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if("html"in n&&typeof n.html=="function")return n.html(t,e);if(n instanceof ae)return ls(n.value().slice(t,t+e));if(n instanceof oe){if(n.statics.blotName==="list-container"){const u=[];return n.children.forEachAt(t,e,(h,d,f)=>{const p="formats"in h&&typeof h.formats=="function"?h.formats():{};u.push({child:h,offset:d,length:f,indent:p.indent||0,type:p.list})}),xr(u,-1,[])}const s=[];if(n.children.forEachAt(t,e,(u,h,d)=>{s.push(an(u,h,d))}),r||n.statics.blotName==="list")return s.join("");const{outerHTML:i,innerHTML:o}=n.domNode,[a,c]=i.split(`>${o}<`);return a==="<table"?`<table style="border: 1px solid #000;">${s.join("")}<${c}`:`${a}>${s.join("")}<${c}`}return n.domNode instanceof Element?n.domNode.outerHTML:""}function ap(n,t){return Object.keys(t).reduce((e,r)=>{if(n[r]==null)return e;const s=t[r];return s===n[r]?e[r]=s:Array.isArray(s)?s.indexOf(n[r])<0?e[r]=s.concat([n[r]]):e[r]=s:e[r]=[s,n[r]],e},{})}function si(n){const t=n==="ordered"?"ol":"ul";switch(n){case"checked":return[t,' data-list="checked"'];case"unchecked":return[t,' data-list="unchecked"'];default:return[t,""]}}function Jo(n){return n.reduce((t,e)=>{if(typeof e.insert=="string"){const r=e.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return t.insert(r,e.attributes)}return t.push(e)},new K)}function Qo(n,t){let{index:e,length:r}=n;return new Je(e+t,r)}function lp(n){const t=[];return n.forEach(e=>{typeof e.insert=="string"?e.insert.split(`
`).forEach((s,i)=>{i&&t.push({insert:`
`,attributes:e.attributes}),s&&t.push({insert:s,attributes:e.attributes})}):t.push(e)}),t}class ue{constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.quill=t,this.options=e}}U(ue,"DEFAULTS",{});const Pn="\uFEFF";class no extends Gt{constructor(t,e){super(t,e),this.contentNode=document.createElement("span"),this.contentNode.setAttribute("contenteditable","false"),Array.from(this.domNode.childNodes).forEach(r=>{this.contentNode.appendChild(r)}),this.leftGuard=document.createTextNode(Pn),this.rightGuard=document.createTextNode(Pn),this.domNode.appendChild(this.leftGuard),this.domNode.appendChild(this.contentNode),this.domNode.appendChild(this.rightGuard)}index(t,e){return t===this.leftGuard?0:t===this.rightGuard?1:super.index(t,e)}restore(t){let e=null,r;const s=t.data.split(Pn).join("");if(t===this.leftGuard)if(this.prev instanceof ae){const i=this.prev.length();this.prev.insertAt(i,s),e={startNode:this.prev.domNode,startOffset:i+s.length}}else r=document.createTextNode(s),this.parent.insertBefore(this.scroll.create(r),this),e={startNode:r,startOffset:s.length};else t===this.rightGuard&&(this.next instanceof ae?(this.next.insertAt(0,s),e={startNode:this.next.domNode,startOffset:s.length}):(r=document.createTextNode(s),this.parent.insertBefore(this.scroll.create(r),this.next),e={startNode:r,startOffset:s.length}));return t.data=Pn,e}update(t,e){t.forEach(r=>{if(r.type==="characterData"&&(r.target===this.leftGuard||r.target===this.rightGuard)){const s=this.restore(r.target);s&&(e.range=s)}})}}class cp{constructor(t,e){U(this,"isComposing",!1);this.scroll=t,this.emitter=e,this.setupListeners()}setupListeners(){this.scroll.domNode.addEventListener("compositionstart",t=>{this.isComposing||this.handleCompositionStart(t)}),this.scroll.domNode.addEventListener("compositionend",t=>{this.isComposing&&queueMicrotask(()=>{this.handleCompositionEnd(t)})})}handleCompositionStart(t){const e=t.target instanceof Node?this.scroll.find(t.target,!0):null;e&&!(e instanceof no)&&(this.emitter.emit(V.events.COMPOSITION_BEFORE_START,t),this.scroll.batchStart(),this.emitter.emit(V.events.COMPOSITION_START,t),this.isComposing=!0)}handleCompositionEnd(t){this.emitter.emit(V.events.COMPOSITION_BEFORE_END,t),this.scroll.batchEnd(),this.emitter.emit(V.events.COMPOSITION_END,t),this.isComposing=!1}}const Jr=class Jr{constructor(t,e){U(this,"modules",{});this.quill=t,this.options=e}init(){Object.keys(this.options.modules).forEach(t=>{this.modules[t]==null&&this.addModule(t)})}addModule(t){const e=this.quill.constructor.import(`modules/${t}`);return this.modules[t]=new e(this.quill,this.options.modules[t]||{}),this.modules[t]}};U(Jr,"DEFAULTS",{modules:{}}),U(Jr,"themes",{default:Jr});let kr=Jr;const up=n=>n.parentElement||n.getRootNode().host||null,hp=n=>{const t=n.getBoundingClientRect(),e="offsetWidth"in n&&Math.abs(t.width)/n.offsetWidth||1,r="offsetHeight"in n&&Math.abs(t.height)/n.offsetHeight||1;return{top:t.top,right:t.left+n.clientWidth*e,bottom:t.top+n.clientHeight*r,left:t.left}},$n=n=>{const t=parseInt(n,10);return Number.isNaN(t)?0:t},ta=(n,t,e,r,s,i)=>n<e&&t>r?0:n<e?-(e-n+s):t>r?t-n>r-e?n+s-e:t-r+i:0,fp=(n,t)=>{var i,o,a;const e=n.ownerDocument;let r=t,s=n;for(;s;){const c=s===e.body,u=c?{top:0,right:((i=window.visualViewport)==null?void 0:i.width)??e.documentElement.clientWidth,bottom:((o=window.visualViewport)==null?void 0:o.height)??e.documentElement.clientHeight,left:0}:hp(s),h=getComputedStyle(s),d=ta(r.left,r.right,u.left,u.right,$n(h.scrollPaddingLeft),$n(h.scrollPaddingRight)),f=ta(r.top,r.bottom,u.top,u.bottom,$n(h.scrollPaddingTop),$n(h.scrollPaddingBottom));if(d||f)if(c)(a=e.defaultView)==null||a.scrollBy(d,f);else{const{scrollLeft:p,scrollTop:g}=s;f&&(s.scrollTop+=f),d&&(s.scrollLeft+=d);const E=s.scrollLeft-p,v=s.scrollTop-g;r={left:r.left-E,top:r.top-v,right:r.right-E,bottom:r.bottom-v}}s=c||h.position==="fixed"?null:up(s)}},dp=100,pp=["block","break","cursor","inline","scroll","text"],gp=(n,t,e)=>{const r=new Sr;return pp.forEach(s=>{const i=t.query(s);i&&r.register(i)}),n.forEach(s=>{let i=t.query(s);i||e.error(`Cannot register "${s}" specified in "formats" config. Are you sure it was registered?`);let o=0;for(;i;)if(r.register(i),i="blotName"in i?i.requiredContainer??null:null,o+=1,o>dp){e.error(`Cycle detected in registering blot requiredContainer: "${s}"`);break}}),r},Nr=Ce("quill"),Mn=new Sr;oe.uiClass="ql-ui";const re=class re{static debug(t){t===!0&&(t="log"),Ce.level(t)}static find(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return Ni.get(t)||Mn.find(t,e)}static import(t){return this.imports[t]==null&&Nr.error(`Cannot import ${t}. Are you sure it was registered?`),this.imports[t]}static register(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof t!="string"){const s="attrName"in t?t.attrName:t.blotName;typeof s=="string"?this.register(`formats/${s}`,t,e):Object.keys(t).forEach(i=>{this.register(i,t[i],e)})}else this.imports[t]!=null&&!r&&Nr.warn(`Overwriting ${t} with`,e),this.imports[t]=e,(t.startsWith("blots/")||t.startsWith("formats/"))&&e&&typeof e!="boolean"&&e.blotName!=="abstract"&&Mn.register(e),typeof e.register=="function"&&e.register(Mn)}constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.options=mp(t,e),this.container=this.options.container,this.container==null){Nr.error("Invalid Quill container",t);return}this.options.debug&&re.debug(this.options.debug);const r=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",Ni.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.emitter=new V;const s=Ji.blotName,i=this.options.registry.query(s);if(!i||!("blotName"in i))throw new Error(`Cannot initialize Quill without "${s}" blot`);if(this.scroll=new i(this.options.registry,this.root,{emitter:this.emitter}),this.editor=new op(this.scroll),this.selection=new sp(this.scroll,this.emitter),this.composition=new cp(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.addModule("input"),this.theme.addModule("uiNode"),this.theme.init(),this.emitter.on(V.events.EDITOR_CHANGE,o=>{o===V.events.TEXT_CHANGE&&this.root.classList.toggle("ql-blank",this.editor.isBlank())}),this.emitter.on(V.events.SCROLL_UPDATE,(o,a)=>{const c=this.selection.lastRange,[u]=this.selection.getRange(),h=c&&u?{oldRange:c,newRange:u}:void 0;ee.call(this,()=>this.editor.update(null,a,h),o)}),this.emitter.on(V.events.SCROLL_EMBED_UPDATE,(o,a)=>{const c=this.selection.lastRange,[u]=this.selection.getRange(),h=c&&u?{oldRange:c,newRange:u}:void 0;ee.call(this,()=>{const d=new K().retain(o.offset(this)).retain({[o.statics.blotName]:a});return this.editor.update(d,[],h)},re.sources.USER)}),r){const o=this.clipboard.convert({html:`${r}<p><br></p>`,text:`
`});this.setContents(o)}this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}addContainer(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof t=="string"){const r=t;t=document.createElement("div"),t.classList.add(r)}return this.container.insertBefore(t,e),t}blur(){this.selection.setRange(null)}deleteText(t,e,r){return[t,e,,r]=Ne(t,e,r),ee.call(this,()=>this.editor.deleteText(t,e),r,t,-1*e)}disable(){this.enable(!1)}editReadOnly(t){this.allowReadOnlyEdits=!0;const e=t();return this.allowReadOnlyEdits=!1,e}enable(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(t),this.container.classList.toggle("ql-disabled",!t)}focus(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.selection.focus(),t.preventScroll||this.scrollSelectionIntoView()}format(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:V.sources.API;return ee.call(this,()=>{const s=this.getSelection(!0);let i=new K;if(s==null)return i;if(this.scroll.query(t,X.BLOCK))i=this.editor.formatLine(s.index,s.length,{[t]:e});else{if(s.length===0)return this.selection.format(t,e),i;i=this.editor.formatText(s.index,s.length,{[t]:e})}return this.setSelection(s,V.sources.SILENT),i},r)}formatLine(t,e,r,s,i){let o;return[t,e,o,i]=Ne(t,e,r,s,i),ee.call(this,()=>this.editor.formatLine(t,e,o),i,t,0)}formatText(t,e,r,s,i){let o;return[t,e,o,i]=Ne(t,e,r,s,i),ee.call(this,()=>this.editor.formatText(t,e,o),i,t,0)}getBounds(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=null;if(typeof t=="number"?r=this.selection.getBounds(t,e):r=this.selection.getBounds(t.index,t.length),!r)return null;const s=this.container.getBoundingClientRect();return{bottom:r.bottom-s.top,height:r.height,left:r.left-s.left,right:r.right-s.left,top:r.top-s.top,width:r.width}}getContents(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-t;return[t,e]=Ne(t,e),this.editor.getContents(t,e)}getFormat(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof t=="number"?this.editor.getFormat(t,e):this.editor.getFormat(t.index,t.length)}getIndex(t){return t.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(t){return this.scroll.leaf(t)}getLine(t){return this.scroll.line(t)}getLines(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof t!="number"?this.scroll.lines(t.index,t.length):this.scroll.lines(t,e)}getModule(t){return this.theme.modules[t]}getSelection(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)&&this.focus(),this.update(),this.selection.getRange()[0]}getSemanticHTML(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0;return typeof t=="number"&&(e=e??this.getLength()-t),[t,e]=Ne(t,e),this.editor.getHTML(t,e)}getText(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0;return typeof t=="number"&&(e=e??this.getLength()-t),[t,e]=Ne(t,e),this.editor.getText(t,e)}hasFocus(){return this.selection.hasFocus()}insertEmbed(t,e,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:re.sources.API;return ee.call(this,()=>this.editor.insertEmbed(t,e,r),s,t)}insertText(t,e,r,s,i){let o;return[t,,o,i]=Ne(t,0,r,s,i),ee.call(this,()=>this.editor.insertText(t,e,o),i,t,e.length)}isEnabled(){return this.scroll.isEnabled()}off(){return this.emitter.off(...arguments)}on(){return this.emitter.on(...arguments)}once(){return this.emitter.once(...arguments)}removeFormat(t,e,r){return[t,e,,r]=Ne(t,e,r),ee.call(this,()=>this.editor.removeFormat(t,e),r,t)}scrollRectIntoView(t){fp(this.root,t)}scrollIntoView(){console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead."),this.scrollSelectionIntoView()}scrollSelectionIntoView(){const t=this.selection.lastRange,e=t&&this.selection.getBounds(t.index,t.length);e&&this.scrollRectIntoView(e)}setContents(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:V.sources.API;return ee.call(this,()=>{t=new K(t);const r=this.getLength(),s=this.editor.deleteText(0,r),i=this.editor.insertContents(0,t),o=this.editor.deleteText(this.getLength()-1,1);return s.compose(i).compose(o)},e)}setSelection(t,e,r){t==null?this.selection.setRange(null,e||re.sources.API):([t,e,,r]=Ne(t,e,r),this.selection.setRange(new Je(Math.max(0,t),e),r),r!==V.sources.SILENT&&this.scrollSelectionIntoView())}setText(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:V.sources.API;const r=new K().insert(t);return this.setContents(r,e)}update(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:V.sources.USER;const e=this.scroll.update(t);return this.selection.update(t),e}updateContents(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:V.sources.API;return ee.call(this,()=>(t=new K(t),this.editor.applyDelta(t)),e,!0)}};U(re,"DEFAULTS",{bounds:null,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0},placeholder:"",readOnly:!1,registry:Mn,theme:"default"}),U(re,"events",V.events),U(re,"sources",V.sources),U(re,"version","2.0.1"),U(re,"imports",{delta:K,parchment:Ud,"core/module":ue,"core/theme":kr});let q=re;function ea(n){return typeof n=="string"?document.querySelector(n):n}function ii(n){return Object.entries(n??{}).reduce((t,e)=>{let[r,s]=e;return{...t,[r]:s===!0?{}:s}},{})}function ra(n){return Object.fromEntries(Object.entries(n).filter(t=>t[1]!==void 0))}function mp(n,t){const e=ea(n);if(!e)throw new Error("Invalid Quill container");const s=!t.theme||t.theme===q.DEFAULTS.theme?kr:q.import(`themes/${t.theme}`);if(!s)throw new Error(`Invalid theme ${t.theme}. Did you register it?`);const{modules:i,...o}=q.DEFAULTS,{modules:a,...c}=s.DEFAULTS;let u=ii(t.modules);u!=null&&u.toolbar&&u.toolbar.constructor!==Object&&(u={...u,toolbar:{container:u.toolbar}});const h=Be({},ii(i),ii(a),u),d={...o,...ra(c),...ra(t)};let f=t.registry;return f?t.formats&&Nr.warn('Ignoring "formats" option because "registry" is specified'):f=t.formats?gp(t.formats,d.registry,Nr):d.registry,{...d,registry:f,container:e,theme:s,modules:Object.entries(h).reduce((p,g)=>{let[E,v]=g;if(!v)return p;const w=q.import(`modules/${E}`);return w==null?(Nr.error(`Cannot load ${E} module. Are you sure you registered it?`),p):{...p,[E]:Be({},w.DEFAULTS||{},v)}},{}),bounds:ea(d.bounds)}}function ee(n,t,e,r){if(!this.isEnabled()&&t===V.sources.USER&&!this.allowReadOnlyEdits)return new K;let s=e==null?null:this.getSelection();const i=this.editor.delta,o=n();if(s!=null&&(e===!0&&(e=s.index),r==null?s=na(s,o,t):r!==0&&(s=na(s,e,r,t)),this.setSelection(s,V.sources.SILENT)),o.length()>0){const a=[V.events.TEXT_CHANGE,o,i,t];this.emitter.emit(V.events.EDITOR_CHANGE,...a),t!==V.sources.SILENT&&this.emitter.emit(...a)}return o}function Ne(n,t,e,r,s){let i={};return typeof n.index=="number"&&typeof n.length=="number"?typeof t!="number"?(s=r,r=e,e=t,t=n.length,n=n.index):(t=n.length,n=n.index):typeof t!="number"&&(s=r,r=e,e=t,t=0),typeof e=="object"?(i=e,s=r):typeof e=="string"&&(r!=null?i[e]=r:s=e),s=s||V.sources.API,[n,t,i,s]}function na(n,t,e,r){const s=typeof e=="number"?e:0;if(n==null)return null;let i,o;return t&&typeof t.transformPosition=="function"?[i,o]=[n.index,n.index+n.length].map(a=>t.transformPosition(a,r!==V.sources.USER)):[i,o]=[n.index,n.index+n.length].map(a=>a<t||a===t&&r===V.sources.USER?a:s>=0?a+s:Math.max(t,a+s)),new Je(i,o-i)}class rr extends ss{}function sa(n){return n instanceof Lt||n instanceof Yt}function ia(n){return typeof n.updateContent=="function"}class Ar extends Ji{constructor(t,e,r){let{emitter:s}=r;super(t,e),this.emitter=s,this.batch=!1,this.optimize(),this.enable(),this.domNode.addEventListener("dragstart",i=>this.handleDragStart(i))}batchStart(){Array.isArray(this.batch)||(this.batch=[])}batchEnd(){if(!this.batch)return;const t=this.batch;this.batch=!1,this.update(t)}emitMount(t){this.emitter.emit(V.events.SCROLL_BLOT_MOUNT,t)}emitUnmount(t){this.emitter.emit(V.events.SCROLL_BLOT_UNMOUNT,t)}emitEmbedUpdate(t,e){this.emitter.emit(V.events.SCROLL_EMBED_UPDATE,t,e)}deleteAt(t,e){const[r,s]=this.line(t),[i]=this.line(t+e);if(super.deleteAt(t,e),i!=null&&r!==i&&s>0){if(r instanceof Yt||i instanceof Yt){this.optimize();return}const o=i.children.head instanceof ce?null:i.children.head;r.moveChildren(i,o),r.remove()}this.optimize()}enable(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",t?"true":"false")}formatAt(t,e,r,s){super.formatAt(t,e,r,s),this.optimize()}insertAt(t,e,r){if(t>=this.length())if(r==null||this.scroll.query(e,X.BLOCK)==null){const s=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(s),r==null&&e.endsWith(`
`)?s.insertAt(0,e.slice(0,-1),r):s.insertAt(0,e,r)}else{const s=this.scroll.create(e,r);this.appendChild(s)}else super.insertAt(t,e,r);this.optimize()}insertBefore(t,e){if(t.statics.scope===X.INLINE_BLOT){const r=this.scroll.create(this.statics.defaultChild.blotName);r.appendChild(t),super.insertBefore(r,e)}else super.insertBefore(t,e)}insertContents(t,e){const r=this.deltaToRenderBlocks(e.concat(new K().insert(`
`))),s=r.pop();if(s==null)return;this.batchStart();const i=r.shift();if(i){const c=i.type==="block"&&(i.delta.length()===0||!this.descendant(Yt,t)[0]&&t<this.length()),u=i.type==="block"?i.delta:new K().insert({[i.key]:i.value});oi(this,t,u);const h=i.type==="block"?1:0,d=t+u.length()+h;c&&this.insertAt(d-1,`
`);const f=Zt(this.line(t)[0]),p=Jt.AttributeMap.diff(f,i.attributes)||{};Object.keys(p).forEach(g=>{this.formatAt(d-1,1,g,p[g])}),t=d}let[o,a]=this.children.find(t);if(r.length&&(o&&(o=o.split(a),a=0),r.forEach(c=>{if(c.type==="block"){const u=this.createBlock(c.attributes,o||void 0);oi(u,0,c.delta)}else{const u=this.create(c.key,c.value);this.insertBefore(u,o||void 0),Object.keys(c.attributes).forEach(h=>{u.format(h,c.attributes[h])})}})),s.type==="block"&&s.delta.length()){const c=o?o.offset(o.scroll)+a:this.length();oi(this,c,s.delta)}this.batchEnd(),this.optimize()}isEnabled(){return this.domNode.getAttribute("contenteditable")==="true"}leaf(t){const e=this.path(t).pop();if(!e)return[null,-1];const[r,s]=e;return r instanceof Pt?[r,s]:[null,-1]}line(t){return t===this.length()?this.line(t-1):this.descendant(sa,t)}lines(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;const r=(s,i,o)=>{let a=[],c=o;return s.children.forEachAt(i,o,(u,h,d)=>{sa(u)?a.push(u):u instanceof ss&&(a=a.concat(r(u,h,c))),c-=d}),a};return r(this,t,e)}optimize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch||(super.optimize(t,e),t.length>0&&this.emitter.emit(V.events.SCROLL_OPTIMIZE,t,e))}path(t){return super.path(t).slice(1)}remove(){}update(t){if(this.batch){Array.isArray(t)&&(this.batch=this.batch.concat(t));return}let e=V.sources.USER;typeof t=="string"&&(e=t),Array.isArray(t)||(t=this.observer.takeRecords()),t=t.filter(r=>{let{target:s}=r;const i=this.find(s,!0);return i&&!ia(i)}),t.length>0&&this.emitter.emit(V.events.SCROLL_BEFORE_UPDATE,e,t),super.update(t.concat([])),t.length>0&&this.emitter.emit(V.events.SCROLL_UPDATE,e,t)}updateEmbedAt(t,e,r){const[s]=this.descendant(i=>i instanceof Yt,t);s&&s.statics.blotName===e&&ia(s)&&s.updateContent(r)}handleDragStart(t){t.preventDefault()}deltaToRenderBlocks(t){const e=[];let r=new K;return t.forEach(s=>{const i=s==null?void 0:s.insert;if(i)if(typeof i=="string"){const o=i.split(`
`);o.slice(0,-1).forEach(c=>{r.insert(c,s.attributes),e.push({type:"block",delta:r,attributes:s.attributes??{}}),r=new K});const a=o[o.length-1];a&&r.insert(a,s.attributes)}else{const o=Object.keys(i)[0];if(!o)return;this.query(o,X.INLINE)?r.push(s):(r.length()&&e.push({type:"block",delta:r,attributes:{}}),r=new K,e.push({type:"blockEmbed",key:o,value:i[o],attributes:s.attributes??{}}))}}),r.length()&&e.push({type:"block",delta:r,attributes:{}}),e}createBlock(t,e){let r;const s={};Object.entries(t).forEach(a=>{let[c,u]=a;this.query(c,X.BLOCK&X.BLOT)!=null?r=c:s[c]=u});const i=this.create(r||this.statics.defaultChild.blotName,r?t[r]:void 0);this.insertBefore(i,e||void 0);const o=i.length();return Object.entries(s).forEach(a=>{let[c,u]=a;i.formatAt(0,o,c,u)}),i}}U(Ar,"blotName","scroll"),U(Ar,"className","ql-editor"),U(Ar,"tagName","DIV"),U(Ar,"defaultChild",Lt),U(Ar,"allowedChildren",[Lt,Yt,rr]);function oi(n,t,e){e.reduce((r,s)=>{const i=Jt.Op.length(s);let o=s.attributes||{};if(s.insert!=null){if(typeof s.insert=="string"){const a=s.insert;n.insertAt(r,a);const[c]=n.descendant(Pt,r),u=Zt(c);o=Jt.AttributeMap.diff(u,o)||{}}else if(typeof s.insert=="object"){const a=Object.keys(s.insert)[0];if(a==null)return r;if(n.insertAt(r,a,s.insert[a]),n.scroll.query(a,X.INLINE)!=null){const[u]=n.descendant(Pt,r),h=Zt(u);o=Jt.AttributeMap.diff(h,o)||{}}}}return Object.keys(o).forEach(a=>{n.formatAt(r,i,a,o[a])}),r+i},t)}const so={scope:X.BLOCK,whitelist:["right","center","justify"]},yp=new be("align","align",so),ul=new le("align","ql-align",so),hl=new Fe("align","text-align",so);class fl extends Fe{value(t){let e=super.value(t);return e.startsWith("rgb(")?(e=e.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),`#${e.split(",").map(s=>`00${parseInt(s,10).toString(16)}`.slice(-2)).join("")}`):e}}const bp=new le("color","ql-color",{scope:X.INLINE}),io=new fl("color","color",{scope:X.INLINE}),vp=new le("background","ql-bg",{scope:X.INLINE}),oo=new fl("background","background-color",{scope:X.INLINE});class nr extends rr{static create(t){const e=super.create(t);return e.setAttribute("spellcheck","false"),e}code(t,e){return this.children.map(r=>r.length()<=1?"":r.domNode.innerText).join(`
`).slice(t,t+e)}html(t,e){return`<pre>
${ls(this.code(t,e))}
</pre>`}}class $t extends Lt{static register(){q.register(nr)}}U($t,"TAB","  ");class ao extends ve{}ao.blotName="code";ao.tagName="CODE";$t.blotName="code-block";$t.className="ql-code-block";$t.tagName="DIV";nr.blotName="code-block-container";nr.className="ql-code-block-container";nr.tagName="DIV";nr.allowedChildren=[$t];$t.allowedChildren=[ae,ce,Or];$t.requiredContainer=nr;const lo={scope:X.BLOCK,whitelist:["rtl"]},dl=new be("direction","dir",lo),pl=new le("direction","ql-direction",lo),gl=new Fe("direction","direction",lo),ml={scope:X.INLINE,whitelist:["serif","monospace"]},yl=new le("font","ql-font",ml);class wp extends Fe{value(t){return super.value(t).replace(/["']/g,"")}}const bl=new wp("font","font-family",ml),vl=new le("size","ql-size",{scope:X.INLINE,whitelist:["small","large","huge"]}),wl=new Fe("size","font-size",{scope:X.INLINE,whitelist:["10px","18px","32px"]}),xp=Ce("quill:keyboard"),Ap=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey";class cs extends ue{static match(t,e){return["altKey","ctrlKey","metaKey","shiftKey"].some(r=>!!e[r]!==t[r]&&e[r]!==null)?!1:e.key===t.key||e.key===t.which}constructor(t,e){super(t,e),this.bindings={},Object.keys(this.options.bindings).forEach(r=>{this.options.bindings[r]&&this.addBinding(this.options.bindings[r])}),this.addBinding({key:"Enter",shiftKey:null},this.handleEnter),this.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},()=>{}),/Firefox/i.test(navigator.userAgent)?(this.addBinding({key:"Backspace"},{collapsed:!0},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0},this.handleDelete)):(this.addBinding({key:"Backspace"},{collapsed:!0,prefix:/^.?$/},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0,suffix:/^.?$/},this.handleDelete)),this.addBinding({key:"Backspace"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Delete"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},this.handleBackspace),this.listen()}addBinding(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const s=_p(t);if(s==null){xp.warn("Attempted to add invalid keyboard binding",s);return}typeof e=="function"&&(e={handler:e}),typeof r=="function"&&(r={handler:r}),(Array.isArray(s.key)?s.key:[s.key]).forEach(o=>{const a={...s,key:o,...e,...r};this.bindings[a.key]=this.bindings[a.key]||[],this.bindings[a.key].push(a)})}listen(){this.quill.root.addEventListener("keydown",t=>{if(t.defaultPrevented||t.isComposing)return;const r=(this.bindings[t.key]||[]).concat(this.bindings[t.which]||[]).filter(v=>cs.match(t,v));if(r.length===0)return;const s=q.find(t.target,!0);if(s&&s.scroll!==this.quill.scroll)return;const i=this.quill.getSelection();if(i==null||!this.quill.hasFocus())return;const[o,a]=this.quill.getLine(i.index),[c,u]=this.quill.getLeaf(i.index),[h,d]=i.length===0?[c,u]:this.quill.getLeaf(i.index+i.length),f=c instanceof Xn?c.value().slice(0,u):"",p=h instanceof Xn?h.value().slice(d):"",g={collapsed:i.length===0,empty:i.length===0&&o.length()<=1,format:this.quill.getFormat(i),line:o,offset:a,prefix:f,suffix:p,event:t};r.some(v=>{if(v.collapsed!=null&&v.collapsed!==g.collapsed||v.empty!=null&&v.empty!==g.empty||v.offset!=null&&v.offset!==g.offset)return!1;if(Array.isArray(v.format)){if(v.format.every(w=>g.format[w]==null))return!1}else if(typeof v.format=="object"&&!Object.keys(v.format).every(w=>v.format[w]===!0?g.format[w]!=null:v.format[w]===!1?g.format[w]==null:Xi(v.format[w],g.format[w])))return!1;return v.prefix!=null&&!v.prefix.test(g.prefix)||v.suffix!=null&&!v.suffix.test(g.suffix)?!1:v.handler.call(this,i,g,v)!==!0})&&t.preventDefault()})}handleBackspace(t,e){const r=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(e.prefix)?2:1;if(t.index===0||this.quill.getLength()<=1)return;let s={};const[i]=this.quill.getLine(t.index);let o=new K().retain(t.index-r).delete(r);if(e.offset===0){const[a]=this.quill.getLine(t.index-1);if(a&&!(a.statics.blotName==="block"&&a.length()<=1)){const u=i.formats(),h=this.quill.getFormat(t.index-1,1);if(s=Jt.AttributeMap.diff(u,h)||{},Object.keys(s).length>0){const d=new K().retain(t.index+i.length()-2).retain(1,s);o=o.compose(d)}}}this.quill.updateContents(o,q.sources.USER),this.quill.focus()}handleDelete(t,e){const r=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(e.suffix)?2:1;if(t.index>=this.quill.getLength()-r)return;let s={};const[i]=this.quill.getLine(t.index);let o=new K().retain(t.index).delete(r);if(e.offset>=i.length()-1){const[a]=this.quill.getLine(t.index+1);if(a){const c=i.formats(),u=this.quill.getFormat(t.index,1);s=Jt.AttributeMap.diff(c,u)||{},Object.keys(s).length>0&&(o=o.retain(a.length()-1).retain(1,s))}}this.quill.updateContents(o,q.sources.USER),this.quill.focus()}handleDeleteRange(t){co({range:t,quill:this.quill}),this.quill.focus()}handleEnter(t,e){const r=Object.keys(e.format).reduce((i,o)=>(this.quill.scroll.query(o,X.BLOCK)&&!Array.isArray(e.format[o])&&(i[o]=e.format[o]),i),{}),s=new K().retain(t.index).delete(t.length).insert(`
`,r);this.quill.updateContents(s,q.sources.USER),this.quill.setSelection(t.index+1,q.sources.SILENT),this.quill.focus()}}const Ep={bindings:{bold:ai("bold"),italic:ai("italic"),underline:ai("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler(n,t){return t.collapsed&&t.offset!==0?!0:(this.quill.format("indent","+1",q.sources.USER),!1)}},outdent:{key:"Tab",shiftKey:!0,format:["blockquote","indent","list"],handler(n,t){return t.collapsed&&t.offset!==0?!0:(this.quill.format("indent","-1",q.sources.USER),!1)}},"outdent backspace":{key:"Backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler(n,t){t.format.indent!=null?this.quill.format("indent","-1",q.sources.USER):t.format.list!=null&&this.quill.format("list",!1,q.sources.USER)}},"indent code-block":oa(!0),"outdent code-block":oa(!1),"remove tab":{key:"Tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler(n){this.quill.deleteText(n.index-1,1,q.sources.USER)}},tab:{key:"Tab",handler(n,t){if(t.format.table)return!0;this.quill.history.cutoff();const e=new K().retain(n.index).delete(n.length).insert("	");return this.quill.updateContents(e,q.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(n.index+1,q.sources.SILENT),!1}},"blockquote empty enter":{key:"Enter",collapsed:!0,format:["blockquote"],empty:!0,handler(){this.quill.format("blockquote",!1,q.sources.USER)}},"list empty enter":{key:"Enter",collapsed:!0,format:["list"],empty:!0,handler(n,t){const e={list:!1};t.format.indent&&(e.indent=!1),this.quill.formatLine(n.index,n.length,e,q.sources.USER)}},"checklist enter":{key:"Enter",collapsed:!0,format:{list:"checked"},handler(n){const[t,e]=this.quill.getLine(n.index),r={...t.formats(),list:"checked"},s=new K().retain(n.index).insert(`
`,r).retain(t.length()-e-1).retain(1,{list:"unchecked"});this.quill.updateContents(s,q.sources.USER),this.quill.setSelection(n.index+1,q.sources.SILENT),this.quill.scrollSelectionIntoView()}},"header enter":{key:"Enter",collapsed:!0,format:["header"],suffix:/^$/,handler(n,t){const[e,r]=this.quill.getLine(n.index),s=new K().retain(n.index).insert(`
`,t.format).retain(e.length()-r-1).retain(1,{header:null});this.quill.updateContents(s,q.sources.USER),this.quill.setSelection(n.index+1,q.sources.SILENT),this.quill.scrollSelectionIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:!0,offset:0,handler(){}},"table delete":{key:"Delete",format:["table"],collapsed:!0,suffix:/^$/,handler(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler(n){const t=this.quill.getModule("table");if(t){const[e,r,s,i]=t.getTable(n),o=Np(e,r,s,i);if(o==null)return;let a=e.offset();if(o<0){const c=new K().retain(a).insert(`
`);this.quill.updateContents(c,q.sources.USER),this.quill.setSelection(n.index+1,n.length,q.sources.SILENT)}else if(o>0){a+=e.length();const c=new K().retain(a).insert(`
`);this.quill.updateContents(c,q.sources.USER),this.quill.setSelection(a,q.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler(n,t){const{event:e,line:r}=t,s=r.offset(this.quill.scroll);e.shiftKey?this.quill.setSelection(s-1,q.sources.USER):this.quill.setSelection(s+r.length(),q.sources.USER)}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(n,t){if(this.quill.scroll.query("list")==null)return!0;const{length:e}=t.prefix,[r,s]=this.quill.getLine(n.index);if(s>e)return!0;let i;switch(t.prefix.trim()){case"[]":case"[ ]":i="unchecked";break;case"[x]":i="checked";break;case"-":case"*":i="bullet";break;default:i="ordered"}this.quill.insertText(n.index," ",q.sources.USER),this.quill.history.cutoff();const o=new K().retain(n.index-s).delete(e+1).retain(r.length()-2-s).retain(1,{list:i});return this.quill.updateContents(o,q.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(n.index-e,q.sources.SILENT),!1}},"code exit":{key:"Enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler(n){const[t,e]=this.quill.getLine(n.index);let r=2,s=t;for(;s!=null&&s.length()<=1&&s.formats()["code-block"];)if(s=s.prev,r-=1,r<=0){const i=new K().retain(n.index+t.length()-e-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(i,q.sources.USER),this.quill.setSelection(n.index-1,q.sources.SILENT),!1}return!0}},"embed left":Bn("ArrowLeft",!1),"embed left shift":Bn("ArrowLeft",!0),"embed right":Bn("ArrowRight",!1),"embed right shift":Bn("ArrowRight",!0),"table down":aa(!1),"table up":aa(!0)}};cs.DEFAULTS=Ep;function oa(n){return{key:"Tab",shiftKey:!n,format:{"code-block":!0},handler(t,e){let{event:r}=e;const s=this.quill.scroll.query("code-block"),{TAB:i}=s;if(t.length===0&&!r.shiftKey){this.quill.insertText(t.index,i,q.sources.USER),this.quill.setSelection(t.index+i.length,q.sources.SILENT);return}const o=t.length===0?this.quill.getLines(t.index,1):this.quill.getLines(t);let{index:a,length:c}=t;o.forEach((u,h)=>{n?(u.insertAt(0,i),h===0?a+=i.length:c+=i.length):u.domNode.textContent.startsWith(i)&&(u.deleteAt(0,i.length),h===0?a-=i.length:c-=i.length)}),this.quill.update(q.sources.USER),this.quill.setSelection(a,c,q.sources.SILENT)}}}function Bn(n,t){return{key:n,shiftKey:t,altKey:null,[n==="ArrowLeft"?"prefix":"suffix"]:/^$/,handler(r){let{index:s}=r;n==="ArrowRight"&&(s+=r.length+1);const[i]=this.quill.getLeaf(s);return i instanceof Gt?(n==="ArrowLeft"?t?this.quill.setSelection(r.index-1,r.length+1,q.sources.USER):this.quill.setSelection(r.index-1,q.sources.USER):t?this.quill.setSelection(r.index,r.length+1,q.sources.USER):this.quill.setSelection(r.index+r.length+1,q.sources.USER),!1):!0}}}function ai(n){return{key:n[0],shortKey:!0,handler(t,e){this.quill.format(n,!e.format[n],q.sources.USER)}}}function aa(n){return{key:n?"ArrowUp":"ArrowDown",collapsed:!0,format:["table"],handler(t,e){const r=n?"prev":"next",s=e.line,i=s.parent[r];if(i!=null){if(i.statics.blotName==="table-row"){let o=i.children.head,a=s;for(;a.prev!=null;)a=a.prev,o=o.next;const c=o.offset(this.quill.scroll)+Math.min(e.offset,o.length()-1);this.quill.setSelection(c,0,q.sources.USER)}}else{const o=s.table()[r];o!=null&&(n?this.quill.setSelection(o.offset(this.quill.scroll)+o.length()-1,0,q.sources.USER):this.quill.setSelection(o.offset(this.quill.scroll),0,q.sources.USER))}return!1}}}function _p(n){if(typeof n=="string"||typeof n=="number")n={key:n};else if(typeof n=="object")n=Er(n);else return null;return n.shortKey&&(n[Ap]=n.shortKey,delete n.shortKey),n}function co(n){let{quill:t,range:e}=n;const r=t.getLines(e);let s={};if(r.length>1){const i=r[0].formats(),o=r[r.length-1].formats();s=Jt.AttributeMap.diff(o,i)||{}}t.deleteText(e,q.sources.USER),Object.keys(s).length>0&&t.formatLine(e.index,1,s,q.sources.USER),t.setSelection(e.index,q.sources.SILENT)}function Np(n,t,e,r){return t.prev==null&&t.next==null?e.prev==null&&e.next==null?r===0?-1:1:e.prev==null?-1:1:t.prev==null?-1:t.next==null?1:null}const Tp=/font-weight:\s*normal/,Sp=["P","OL","UL"],la=n=>n&&Sp.includes(n.tagName),Op=n=>{Array.from(n.querySelectorAll("br")).filter(t=>la(t.previousElementSibling)&&la(t.nextElementSibling)).forEach(t=>{var e;(e=t.parentNode)==null||e.removeChild(t)})},kp=n=>{Array.from(n.querySelectorAll('b[style*="font-weight"]')).filter(t=>{var e;return(e=t.getAttribute("style"))==null?void 0:e.match(Tp)}).forEach(t=>{var r;const e=n.createDocumentFragment();e.append(...t.childNodes),(r=t.parentNode)==null||r.replaceChild(e,t)})};function Cp(n){n.querySelector('[id^="docs-internal-guid-"]')&&(kp(n),Op(n))}const Lp=/\bmso-list:[^;]*ignore/i,qp=/\bmso-list:[^;]*\bl(\d+)/i,Ip=/\bmso-list:[^;]*\blevel(\d+)/i,jp=(n,t)=>{const e=n.getAttribute("style"),r=e==null?void 0:e.match(qp);if(!r)return null;const s=Number(r[1]),i=e==null?void 0:e.match(Ip),o=i?Number(i[1]):1,a=new RegExp(`@list l${s}:level${o}\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)`,"i"),c=t.match(a),u=c&&c[1]==="bullet"?"bullet":"ordered";return{id:s,indent:o,type:u,element:n}},Rp=n=>{var o,a;const t=Array.from(n.querySelectorAll("[style*=mso-list]")),e=[],r=[];t.forEach(c=>{(c.getAttribute("style")||"").match(Lp)?e.push(c):r.push(c)}),e.forEach(c=>{var u;return(u=c.parentNode)==null?void 0:u.removeChild(c)});const s=n.documentElement.innerHTML,i=r.map(c=>jp(c,s)).filter(c=>c);for(;i.length;){const c=[];let u=i.shift();for(;u;)c.push(u),u=i.length&&((o=i[0])==null?void 0:o.element)===u.element.nextElementSibling&&i[0].id===u.id?i.shift():null;const h=document.createElement("ul");c.forEach(p=>{const g=document.createElement("li");g.setAttribute("data-list",p.type),p.indent>1&&g.setAttribute("class",`ql-indent-${p.indent-1}`),g.innerHTML=p.element.innerHTML,h.appendChild(g)});const d=(a=c[0])==null?void 0:a.element,{parentNode:f}=d??{};d&&(f==null||f.replaceChild(h,d)),c.slice(1).forEach(p=>{let{element:g}=p;f==null||f.removeChild(g)})}};function Pp(n){n.documentElement.getAttribute("xmlns:w")==="urn:schemas-microsoft-com:office:word"&&Rp(n)}const $p=[Pp,Cp],Mp=n=>{n.documentElement&&$p.forEach(t=>{t(n)})},Bp=Ce("quill:clipboard"),Dp=[[Node.TEXT_NODE,Jp],[Node.TEXT_NODE,ua],["br",Vp],[Node.ELEMENT_NODE,ua],[Node.ELEMENT_NODE,zp],[Node.ELEMENT_NODE,Hp],[Node.ELEMENT_NODE,Xp],["li",Wp],["ol, ul",Zp],["pre",Gp],["tr",Yp],["b",li("bold")],["i",li("italic")],["strike",li("strike")],["style",Kp]],Up=[yp,dl].reduce((n,t)=>(n[t.keyName]=t,n),{}),ca=[hl,oo,io,gl,bl,wl].reduce((n,t)=>(n[t.keyName]=t,n),{});class xl extends ue{constructor(t,e){super(t,e),this.quill.root.addEventListener("copy",r=>this.onCaptureCopy(r,!1)),this.quill.root.addEventListener("cut",r=>this.onCaptureCopy(r,!0)),this.quill.root.addEventListener("paste",this.onCapturePaste.bind(this)),this.matchers=[],Dp.concat(this.options.matchers??[]).forEach(r=>{let[s,i]=r;this.addMatcher(s,i)})}addMatcher(t,e){this.matchers.push([t,e])}convert(t){let{html:e,text:r}=t,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(s[$t.blotName])return new K().insert(r||"",{[$t.blotName]:s[$t.blotName]});if(!e)return new K().insert(r||"",s);const i=this.convertHTML(e);return dn(i,`
`)&&(i.ops[i.ops.length-1].attributes==null||s.table)?i.compose(new K().retain(i.length()-1).delete(1)):i}normalizeHTML(t){Mp(t)}convertHTML(t){const e=new DOMParser().parseFromString(t,"text/html");this.normalizeHTML(e);const r=e.body,s=new WeakMap,[i,o]=this.prepareMatching(r,s);return uo(this.quill.scroll,r,i,o,s)}dangerouslyPasteHTML(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:q.sources.API;if(typeof t=="string"){const s=this.convert({html:t,text:""});this.quill.setContents(s,e),this.quill.setSelection(0,q.sources.SILENT)}else{const s=this.convert({html:e,text:""});this.quill.updateContents(new K().retain(t).concat(s),r),this.quill.setSelection(t+s.length(),q.sources.SILENT)}}onCaptureCopy(t){var o,a;let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(t.defaultPrevented)return;t.preventDefault();const[r]=this.quill.selection.getRange();if(r==null)return;const{html:s,text:i}=this.onCopy(r,e);(o=t.clipboardData)==null||o.setData("text/plain",i),(a=t.clipboardData)==null||a.setData("text/html",s),e&&co({range:r,quill:this.quill})}normalizeURIList(t){return t.split(/\r?\n/).filter(e=>e[0]!=="#").join(`
`)}onCapturePaste(t){var o,a,c,u,h;if(t.defaultPrevented||!this.quill.isEnabled())return;t.preventDefault();const e=this.quill.getSelection(!0);if(e==null)return;const r=(o=t.clipboardData)==null?void 0:o.getData("text/html");let s=(a=t.clipboardData)==null?void 0:a.getData("text/plain");if(!r&&!s){const d=(c=t.clipboardData)==null?void 0:c.getData("text/uri-list");d&&(s=this.normalizeURIList(d))}const i=Array.from(((u=t.clipboardData)==null?void 0:u.files)||[]);if(!r&&i.length>0){this.quill.uploader.upload(e,i);return}if(r&&i.length>0){const d=new DOMParser().parseFromString(r,"text/html");if(d.body.childElementCount===1&&((h=d.body.firstElementChild)==null?void 0:h.tagName)==="IMG"){this.quill.uploader.upload(e,i);return}}this.onPaste(e,{html:r,text:s})}onCopy(t){const e=this.quill.getText(t);return{html:this.quill.getSemanticHTML(t),text:e}}onPaste(t,e){let{text:r,html:s}=e;const i=this.quill.getFormat(t.index),o=this.convert({text:r,html:s},i);Bp.log("onPaste",o,{text:r,html:s});const a=new K().retain(t.index).delete(t.length).concat(o);this.quill.updateContents(a,q.sources.USER),this.quill.setSelection(a.length()-t.length,q.sources.SILENT),this.quill.scrollSelectionIntoView()}prepareMatching(t,e){const r=[],s=[];return this.matchers.forEach(i=>{const[o,a]=i;switch(o){case Node.TEXT_NODE:s.push(a);break;case Node.ELEMENT_NODE:r.push(a);break;default:Array.from(t.querySelectorAll(o)).forEach(c=>{if(e.has(c)){const u=e.get(c);u==null||u.push(a)}else e.set(c,[a])});break}}),[r,s]}}U(xl,"DEFAULTS",{matchers:[]});function sr(n,t,e,r){return r.query(t)?n.reduce((s,i)=>{if(!i.insert)return s;if(i.attributes&&i.attributes[t])return s.push(i);const o=e?{[t]:e}:{};return s.insert(i.insert,{...o,...i.attributes})},new K):n}function dn(n,t){let e="";for(let r=n.ops.length-1;r>=0&&e.length<t.length;--r){const s=n.ops[r];if(typeof s.insert!="string")break;e=s.insert+e}return e.slice(-1*t.length)===t}function $e(n,t){if(!(n instanceof Element))return!1;const e=t.query(n);return e&&e.prototype instanceof Gt?!1:["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(n.tagName.toLowerCase())}function Fp(n,t){return n.previousElementSibling&&n.nextElementSibling&&!$e(n.previousElementSibling,t)&&!$e(n.nextElementSibling,t)}const Dn=new WeakMap;function Al(n){return n==null?!1:(Dn.has(n)||(n.tagName==="PRE"?Dn.set(n,!0):Dn.set(n,Al(n.parentNode))),Dn.get(n))}function uo(n,t,e,r,s){return t.nodeType===t.TEXT_NODE?r.reduce((i,o)=>o(t,i,n),new K):t.nodeType===t.ELEMENT_NODE?Array.from(t.childNodes||[]).reduce((i,o)=>{let a=uo(n,o,e,r,s);return o.nodeType===t.ELEMENT_NODE&&(a=e.reduce((c,u)=>u(o,c,n),a),a=(s.get(o)||[]).reduce((c,u)=>u(o,c,n),a)),i.concat(a)},new K):new K}function li(n){return(t,e,r)=>sr(e,n,!0,r)}function Hp(n,t,e){const r=be.keys(n),s=le.keys(n),i=Fe.keys(n),o={};return r.concat(s).concat(i).forEach(a=>{let c=e.query(a,X.ATTRIBUTE);c!=null&&(o[c.attrName]=c.value(n),o[c.attrName])||(c=Up[a],c!=null&&(c.attrName===a||c.keyName===a)&&(o[c.attrName]=c.value(n)||void 0),c=ca[a],c!=null&&(c.attrName===a||c.keyName===a)&&(c=ca[a],o[c.attrName]=c.value(n)||void 0))}),Object.entries(o).reduce((a,c)=>{let[u,h]=c;return sr(a,u,h,e)},t)}function zp(n,t,e){const r=e.query(n);if(r==null)return t;if(r.prototype instanceof Gt){const s={},i=r.value(n);if(i!=null)return s[r.blotName]=i,new K().insert(s,r.formats(n,e))}else if(r.prototype instanceof sn&&!dn(t,`
`)&&t.insert(`
`),"blotName"in r&&"formats"in r&&typeof r.formats=="function")return sr(t,r.blotName,r.formats(n,e),e);return t}function Vp(n,t){return dn(t,`
`)||t.insert(`
`),t}function Gp(n,t,e){const r=e.query("code-block"),s=r&&"formats"in r&&typeof r.formats=="function"?r.formats(n,e):!0;return sr(t,"code-block",s,e)}function Kp(){return new K}function Wp(n,t,e){const r=e.query(n);if(r==null||r.blotName!=="list"||!dn(t,`
`))return t;let s=-1,i=n.parentNode;for(;i!=null;)["OL","UL"].includes(i.tagName)&&(s+=1),i=i.parentNode;return s<=0?t:t.reduce((o,a)=>a.insert?a.attributes&&typeof a.attributes.indent=="number"?o.push(a):o.insert(a.insert,{indent:s,...a.attributes||{}}):o,new K)}function Zp(n,t,e){const r=n;let s=r.tagName==="OL"?"ordered":"bullet";const i=r.getAttribute("data-checked");return i&&(s=i==="true"?"checked":"unchecked"),sr(t,"list",s,e)}function ua(n,t,e){if(!dn(t,`
`)){if($e(n,e)&&(n.childNodes.length>0||n instanceof HTMLParagraphElement))return t.insert(`
`);if(t.length()>0&&n.nextSibling){let r=n.nextSibling;for(;r!=null;){if($e(r,e))return t.insert(`
`);const s=e.query(r);if(s&&s.prototype instanceof Yt)return t.insert(`
`);r=r.firstChild}}}return t}function Xp(n,t,e){var i;const r={},s=n.style||{};return s.fontStyle==="italic"&&(r.italic=!0),s.textDecoration==="underline"&&(r.underline=!0),s.textDecoration==="line-through"&&(r.strike=!0),((i=s.fontWeight)!=null&&i.startsWith("bold")||parseInt(s.fontWeight,10)>=700)&&(r.bold=!0),t=Object.entries(r).reduce((o,a)=>{let[c,u]=a;return sr(o,c,u,e)},t),parseFloat(s.textIndent||0)>0?new K().insert("	").concat(t):t}function Yp(n,t,e){var s,i;const r=((s=n.parentElement)==null?void 0:s.tagName)==="TABLE"?n.parentElement:(i=n.parentElement)==null?void 0:i.parentElement;if(r!=null){const a=Array.from(r.querySelectorAll("tr")).indexOf(n)+1;return sr(t,"table",a,e)}return t}function Jp(n,t,e){var s;let r=n.data;if(((s=n.parentElement)==null?void 0:s.tagName)==="O:P")return t.insert(r.trim());if(!Al(n)){if(r.trim().length===0&&r.includes(`
`)&&!Fp(n,e))return t;const i=(o,a)=>{const c=a.replace(/[^\u00a0]/g,"");return c.length<1&&o?" ":c};r=r.replace(/\r\n/g," ").replace(/\n/g," "),r=r.replace(/\s\s+/g,i.bind(i,!0)),(n.previousSibling==null&&n.parentElement!=null&&$e(n.parentElement,e)||n.previousSibling instanceof Element&&$e(n.previousSibling,e))&&(r=r.replace(/^\s+/,i.bind(i,!1))),(n.nextSibling==null&&n.parentElement!=null&&$e(n.parentElement,e)||n.nextSibling instanceof Element&&$e(n.nextSibling,e))&&(r=r.replace(/\s+$/,i.bind(i,!1)))}return t.insert(r)}class El extends ue{constructor(e,r){super(e,r);U(this,"lastRecorded",0);U(this,"ignoreChange",!1);U(this,"stack",{undo:[],redo:[]});U(this,"currentRange",null);this.quill.on(q.events.EDITOR_CHANGE,(s,i,o,a)=>{s===q.events.SELECTION_CHANGE?i&&a!==q.sources.SILENT&&(this.currentRange=i):s===q.events.TEXT_CHANGE&&(this.ignoreChange||(!this.options.userOnly||a===q.sources.USER?this.record(i,o):this.transform(i)),this.currentRange=Oi(this.currentRange,i))}),this.quill.keyboard.addBinding({key:"z",shortKey:!0},this.undo.bind(this)),this.quill.keyboard.addBinding({key:["z","Z"],shortKey:!0,shiftKey:!0},this.redo.bind(this)),/Win/i.test(navigator.platform)&&this.quill.keyboard.addBinding({key:"y",shortKey:!0},this.redo.bind(this)),this.quill.root.addEventListener("beforeinput",s=>{s.inputType==="historyUndo"?(this.undo(),s.preventDefault()):s.inputType==="historyRedo"&&(this.redo(),s.preventDefault())})}change(e,r){if(this.stack[e].length===0)return;const s=this.stack[e].pop();if(!s)return;const i=this.quill.getContents(),o=s.delta.invert(i);this.stack[r].push({delta:o,range:Oi(s.range,o)}),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(s.delta,q.sources.USER),this.ignoreChange=!1,this.restoreSelection(s)}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(e,r){if(e.ops.length===0)return;this.stack.redo=[];let s=e.invert(r),i=this.currentRange;const o=Date.now();if(this.lastRecorded+this.options.delay>o&&this.stack.undo.length>0){const a=this.stack.undo.pop();a&&(s=s.compose(a.delta),i=a.range)}else this.lastRecorded=o;s.length()!==0&&(this.stack.undo.push({delta:s,range:i}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}redo(){this.change("redo","undo")}transform(e){ha(this.stack.undo,e),ha(this.stack.redo,e)}undo(){this.change("undo","redo")}restoreSelection(e){if(e.range)this.quill.setSelection(e.range,q.sources.USER);else{const r=tg(this.quill.scroll,e.delta);this.quill.setSelection(r,q.sources.USER)}}}U(El,"DEFAULTS",{delay:1e3,maxStack:100,userOnly:!1});function ha(n,t){let e=t;for(let r=n.length-1;r>=0;r-=1){const s=n[r];n[r]={delta:e.transform(s.delta,!0),range:s.range&&Oi(s.range,e)},e=s.delta.transform(e),n[r].delta.length()===0&&n.splice(r,1)}}function Qp(n,t){const e=t.ops[t.ops.length-1];return e==null?!1:e.insert!=null?typeof e.insert=="string"&&e.insert.endsWith(`
`):e.attributes!=null?Object.keys(e.attributes).some(r=>n.query(r,X.BLOCK)!=null):!1}function tg(n,t){const e=t.reduce((s,i)=>s+(i.delete||0),0);let r=t.length()-e;return Qp(n,t)&&(r-=1),r}function Oi(n,t){if(!n)return n;const e=t.transformPosition(n.index),r=t.transformPosition(n.index+n.length);return{index:e,length:r-e}}class _l extends ue{constructor(t,e){super(t,e),t.root.addEventListener("drop",r=>{var o;r.preventDefault();let s=null;if(document.caretRangeFromPoint)s=document.caretRangeFromPoint(r.clientX,r.clientY);else if(document.caretPositionFromPoint){const a=document.caretPositionFromPoint(r.clientX,r.clientY);s=document.createRange(),s.setStart(a.offsetNode,a.offset),s.setEnd(a.offsetNode,a.offset)}const i=s&&t.selection.normalizeNative(s);if(i){const a=t.selection.normalizedToRange(i);(o=r.dataTransfer)!=null&&o.files&&this.upload(a,r.dataTransfer.files)}})}upload(t,e){const r=[];Array.from(e).forEach(s=>{var i;s&&((i=this.options.mimetypes)!=null&&i.includes(s.type))&&r.push(s)}),r.length>0&&this.options.handler.call(this,t,r)}}_l.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler(n,t){const e=t.map(r=>new Promise(s=>{const i=new FileReader;i.onload=o=>{s(o.target.result)},i.readAsDataURL(r)}));Promise.all(e).then(r=>{const s=r.reduce((i,o)=>i.insert({image:o}),new K().retain(n.index).delete(n.length));this.quill.updateContents(s,V.sources.USER),this.quill.setSelection(n.index+r.length,V.sources.SILENT)})}};const eg=["insertText","insertReplacementText"];class rg extends ue{constructor(t,e){super(t,e),t.root.addEventListener("beforeinput",r=>{this.handleBeforeInput(r)}),/Android/i.test(navigator.userAgent)||t.on(q.events.COMPOSITION_BEFORE_START,()=>{this.handleCompositionStart()})}deleteRange(t){co({range:t,quill:this.quill})}replaceText(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(t.length===0)return!1;if(e){const r=this.quill.getFormat(t.index,1);this.deleteRange(t),this.quill.updateContents(new K().retain(t.index).insert(e,r),q.sources.USER)}else this.deleteRange(t);return this.quill.setSelection(t.index+e.length,0,q.sources.SILENT),!0}handleBeforeInput(t){if(this.quill.composition.isComposing||t.defaultPrevented||!eg.includes(t.inputType))return;const e=t.getTargetRanges?t.getTargetRanges()[0]:null;if(!e||e.collapsed===!0)return;const r=ng(t);if(r==null)return;const s=this.quill.selection.normalizeNative(e),i=s?this.quill.selection.normalizedToRange(s):null;i&&this.replaceText(i,r)&&t.preventDefault()}handleCompositionStart(){const t=this.quill.getSelection();t&&this.replaceText(t)}}function ng(n){var t;return typeof n.data=="string"?n.data:(t=n.dataTransfer)!=null&&t.types.includes("text/plain")?n.dataTransfer.getData("text/plain"):null}const sg=/Mac/i.test(navigator.platform),ig=100,og=n=>!!(n.key==="ArrowLeft"||n.key==="ArrowRight"||n.key==="ArrowUp"||n.key==="ArrowDown"||n.key==="Home"||sg&&n.key==="a"&&n.ctrlKey===!0);class ag extends ue{constructor(e,r){super(e,r);U(this,"isListening",!1);U(this,"selectionChangeDeadline",0);this.handleArrowKeys(),this.handleNavigationShortcuts()}handleArrowKeys(){this.quill.keyboard.addBinding({key:["ArrowLeft","ArrowRight"],offset:0,shiftKey:null,handler(e,r){let{line:s,event:i}=r;if(!(s instanceof oe)||!s.uiNode)return!0;const o=getComputedStyle(s.domNode).direction==="rtl";return o&&i.key!=="ArrowRight"||!o&&i.key!=="ArrowLeft"?!0:(this.quill.setSelection(e.index-1,e.length+(i.shiftKey?1:0),q.sources.USER),!1)}})}handleNavigationShortcuts(){this.quill.root.addEventListener("keydown",e=>{!e.defaultPrevented&&og(e)&&this.ensureListeningToSelectionChange()})}ensureListeningToSelectionChange(){if(this.selectionChangeDeadline=Date.now()+ig,this.isListening)return;this.isListening=!0;const e=()=>{this.isListening=!1,Date.now()<=this.selectionChangeDeadline&&this.handleSelectionChange()};document.addEventListener("selectionchange",e,{once:!0})}handleSelectionChange(){const e=document.getSelection();if(!e)return;const r=e.getRangeAt(0);if(r.collapsed!==!0||r.startOffset!==0)return;const s=this.quill.scroll.find(r.startContainer);if(!(s instanceof oe)||!s.uiNode)return;const i=document.createRange();i.setStartAfter(s.uiNode),i.setEndAfter(s.uiNode),e.removeAllRanges(),e.addRange(i)}}q.register({"blots/block":Lt,"blots/block/embed":Yt,"blots/break":ce,"blots/container":rr,"blots/cursor":Or,"blots/embed":no,"blots/inline":ve,"blots/scroll":Ar,"blots/text":ae,"modules/clipboard":xl,"modules/history":El,"modules/keyboard":cs,"modules/uploader":_l,"modules/input":rg,"modules/uiNode":ag});class lg extends le{add(t,e){let r=0;if(e==="+1"||e==="-1"){const s=this.value(t)||0;r=e==="+1"?s+1:s-1}else typeof e=="number"&&(r=e);return r===0?(this.remove(t),!0):super.add(t,r.toString())}canAdd(t,e){return super.canAdd(t,e)||super.canAdd(t,parseInt(e,10))}value(t){return parseInt(super.value(t),10)||void 0}}const cg=new lg("indent","ql-indent",{scope:X.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});class ki extends Lt{}U(ki,"blotName","blockquote"),U(ki,"tagName","blockquote");class Ci extends Lt{static formats(t){return this.tagName.indexOf(t.tagName)+1}}U(Ci,"blotName","header"),U(Ci,"tagName",["H1","H2","H3","H4","H5","H6"]);class pn extends rr{}pn.blotName="list-container";pn.tagName="OL";class gn extends Lt{static create(t){const e=super.create();return e.setAttribute("data-list",t),e}static formats(t){return t.getAttribute("data-list")||void 0}static register(){q.register(pn)}constructor(t,e){super(t,e);const r=e.ownerDocument.createElement("span"),s=i=>{if(!t.isEnabled())return;const o=this.statics.formats(e,t);o==="checked"?(this.format("list","unchecked"),i.preventDefault()):o==="unchecked"&&(this.format("list","checked"),i.preventDefault())};r.addEventListener("mousedown",s),r.addEventListener("touchstart",s),this.attachUI(r)}format(t,e){t===this.statics.blotName&&e?this.domNode.setAttribute("data-list",e):super.format(t,e)}}gn.blotName="list";gn.tagName="LI";pn.allowedChildren=[gn];gn.requiredContainer=pn;class ln extends ve{static create(){return super.create()}static formats(){return!0}optimize(t){super.optimize(t),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}U(ln,"blotName","bold"),U(ln,"tagName",["STRONG","B"]);class Li extends ln{}U(Li,"blotName","italic"),U(Li,"tagName",["EM","I"]);class Me extends ve{static create(t){const e=super.create(t);return e.setAttribute("href",this.sanitize(t)),e.setAttribute("rel","noopener noreferrer"),e.setAttribute("target","_blank"),e}static formats(t){return t.getAttribute("href")}static sanitize(t){return Nl(t,this.PROTOCOL_WHITELIST)?t:this.SANITIZED_URL}format(t,e){t!==this.statics.blotName||!e?super.format(t,e):this.domNode.setAttribute("href",this.constructor.sanitize(e))}}U(Me,"blotName","link"),U(Me,"tagName","A"),U(Me,"SANITIZED_URL","about:blank"),U(Me,"PROTOCOL_WHITELIST",["http","https","mailto","tel","sms"]);function Nl(n,t){const e=document.createElement("a");e.href=n;const r=e.href.slice(0,e.href.indexOf(":"));return t.indexOf(r)>-1}class qi extends ve{static create(t){return t==="super"?document.createElement("sup"):t==="sub"?document.createElement("sub"):super.create(t)}static formats(t){if(t.tagName==="SUB")return"sub";if(t.tagName==="SUP")return"super"}}U(qi,"blotName","script"),U(qi,"tagName",["SUB","SUP"]);class Ii extends ln{}U(Ii,"blotName","strike"),U(Ii,"tagName",["S","STRIKE"]);class ji extends ve{}U(ji,"blotName","underline"),U(ji,"tagName","U");class Fn extends no{static create(t){if(window.katex==null)throw new Error("Formula module requires KaTeX.");const e=super.create(t);return typeof t=="string"&&(window.katex.render(t,e,{throwOnError:!1,errorColor:"#f00"}),e.setAttribute("data-value",t)),e}static value(t){return t.getAttribute("data-value")}html(){const{formula:t}=this.value();return`<span>${t}</span>`}}U(Fn,"blotName","formula"),U(Fn,"className","ql-formula"),U(Fn,"tagName","SPAN");const fa=["alt","height","width"];class Ri extends Gt{static create(t){const e=super.create(t);return typeof t=="string"&&e.setAttribute("src",this.sanitize(t)),e}static formats(t){return fa.reduce((e,r)=>(t.hasAttribute(r)&&(e[r]=t.getAttribute(r)),e),{})}static match(t){return/\.(jpe?g|gif|png)$/.test(t)||/^data:image\/.+;base64/.test(t)}static sanitize(t){return Nl(t,["http","https","data"])?t:"//:0"}static value(t){return t.getAttribute("src")}format(t,e){fa.indexOf(t)>-1?e?this.domNode.setAttribute(t,e):this.domNode.removeAttribute(t):super.format(t,e)}}U(Ri,"blotName","image"),U(Ri,"tagName","IMG");const da=["height","width"];class Hn extends Yt{static create(t){const e=super.create(t);return e.setAttribute("frameborder","0"),e.setAttribute("allowfullscreen","true"),e.setAttribute("src",this.sanitize(t)),e}static formats(t){return da.reduce((e,r)=>(t.hasAttribute(r)&&(e[r]=t.getAttribute(r)),e),{})}static sanitize(t){return Me.sanitize(t)}static value(t){return t.getAttribute("src")}format(t,e){da.indexOf(t)>-1?e?this.domNode.setAttribute(t,e):this.domNode.removeAttribute(t):super.format(t,e)}html(){const{video:t}=this.value();return`<a href="${t}">${t}</a>`}}U(Hn,"blotName","video"),U(Hn,"className","ql-video"),U(Hn,"tagName","IFRAME");const Zr=new le("code-token","hljs",{scope:X.INLINE});class Se extends ve{static formats(t,e){for(;t!=null&&t!==e.domNode;){if(t.classList&&t.classList.contains($t.className))return super.formats(t,e);t=t.parentNode}}constructor(t,e,r){super(t,e,r),Zr.add(this.domNode,r)}format(t,e){t!==Se.blotName?super.format(t,e):e?Zr.add(this.domNode,e):(Zr.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}optimize(){super.optimize(...arguments),Zr.value(this.domNode)||this.unwrap()}}Se.blotName="code-token";Se.className="ql-token";class Xt extends $t{static create(t){const e=super.create(t);return typeof t=="string"&&e.setAttribute("data-language",t),e}static formats(t){return t.getAttribute("data-language")||"plain"}static register(){}format(t,e){t===this.statics.blotName&&e?this.domNode.setAttribute("data-language",e):super.format(t,e)}replaceWith(t,e){return this.formatAt(0,this.length(),Se.blotName,!1),super.replaceWith(t,e)}}class Yr extends nr{attach(){super.attach(),this.forceNext=!1,this.scroll.emitMount(this)}format(t,e){t===Xt.blotName&&(this.forceNext=!0,this.children.forEach(r=>{r.format(t,e)}))}formatAt(t,e,r,s){r===Xt.blotName&&(this.forceNext=!0),super.formatAt(t,e,r,s)}highlight(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.children.head==null)return;const s=`${Array.from(this.domNode.childNodes).filter(o=>o!==this.uiNode).map(o=>o.textContent).join(`
`)}
`,i=Xt.formats(this.children.head.domNode);if(e||this.forceNext||this.cachedText!==s){if(s.trim().length>0||this.cachedText==null){const o=this.children.reduce((c,u)=>c.concat(al(u,!1)),new K),a=t(s,i);o.diff(a).reduce((c,u)=>{let{retain:h,attributes:d}=u;return h?(d&&Object.keys(d).forEach(f=>{[Xt.blotName,Se.blotName].includes(f)&&this.formatAt(c,h,f,d[f])}),c+h):c},0)}this.cachedText=s,this.forceNext=!1}}html(t,e){const[r]=this.children.find(t);return`<pre data-language="${r?Xt.formats(r.domNode):"plain"}">
${ls(this.code(t,e))}
</pre>`}optimize(t){if(super.optimize(t),this.parent!=null&&this.children.head!=null&&this.uiNode!=null){const e=Xt.formats(this.children.head.domNode);e!==this.uiNode.value&&(this.uiNode.value=e)}}}Yr.allowedChildren=[Xt];Xt.requiredContainer=Yr;Xt.allowedChildren=[Se,Or,ae,ce];const ug=(n,t,e)=>{if(typeof n.versionString=="string"){const r=n.versionString.split(".")[0];if(parseInt(r,10)>=11)return n.highlight(e,{language:t}).value}return n.highlight(t,e).value};class Tl extends ue{static register(){q.register(Se,!0),q.register(Xt,!0),q.register(Yr,!0)}constructor(t,e){if(super(t,e),this.options.hljs==null)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");this.languages=this.options.languages.reduce((r,s)=>{let{key:i}=s;return r[i]=!0,r},{}),this.highlightBlot=this.highlightBlot.bind(this),this.initListener(),this.initTimer()}initListener(){this.quill.on(q.events.SCROLL_BLOT_MOUNT,t=>{if(!(t instanceof Yr))return;const e=this.quill.root.ownerDocument.createElement("select");this.options.languages.forEach(r=>{let{key:s,label:i}=r;const o=e.ownerDocument.createElement("option");o.textContent=i,o.setAttribute("value",s),e.appendChild(o)}),e.addEventListener("change",()=>{t.format(Xt.blotName,e.value),this.quill.root.focus(),this.highlight(t,!0)}),t.uiNode==null&&(t.attachUI(e),t.children.head&&(e.value=Xt.formats(t.children.head.domNode)))})}initTimer(){let t=null;this.quill.on(q.events.SCROLL_OPTIMIZE,()=>{t&&clearTimeout(t),t=setTimeout(()=>{this.highlight(),t=null},this.options.interval)})}highlight(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.quill.selection.composing)return;this.quill.update(q.sources.USER);const r=this.quill.getSelection();(t==null?this.quill.scroll.descendants(Yr):[t]).forEach(i=>{i.highlight(this.highlightBlot,e)}),this.quill.update(q.sources.SILENT),r!=null&&this.quill.setSelection(r,q.sources.SILENT)}highlightBlot(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"plain";if(e=this.languages[e]?e:"plain",e==="plain")return ls(t).split(`
`).reduce((s,i,o)=>(o!==0&&s.insert(`
`,{[$t.blotName]:e}),s.insert(i)),new K);const r=this.quill.root.ownerDocument.createElement("div");return r.classList.add($t.className),r.innerHTML=ug(this.options.hljs,e,t),uo(this.quill.scroll,r,[(s,i)=>{const o=Zr.value(s);return o?i.compose(new K().retain(i.length(),{[Se.blotName]:o})):i}],[(s,i)=>s.data.split(`
`).reduce((o,a,c)=>(c!==0&&o.insert(`
`,{[$t.blotName]:e}),o.insert(a)),i)],new WeakMap)}}Tl.DEFAULTS={hljs:window.hljs,interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"JavaScript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]};const Qr=class Qr extends Lt{static create(t){const e=super.create();return t?e.setAttribute("data-row",t):e.setAttribute("data-row",ho()),e}static formats(t){if(t.hasAttribute("data-row"))return t.getAttribute("data-row")}cellOffset(){return this.parent?this.parent.children.indexOf(this):-1}format(t,e){t===Qr.blotName&&e?this.domNode.setAttribute("data-row",e):super.format(t,e)}row(){return this.parent}rowOffset(){return this.row()?this.row().rowOffset():-1}table(){return this.row()&&this.row().table()}};U(Qr,"blotName","table"),U(Qr,"tagName","TD");let ie=Qr;class Oe extends rr{checkMerge(){if(super.checkMerge()&&this.next.children.head!=null){const t=this.children.head.formats(),e=this.children.tail.formats(),r=this.next.children.head.formats(),s=this.next.children.tail.formats();return t.table===e.table&&t.table===r.table&&t.table===s.table}return!1}optimize(t){super.optimize(t),this.children.forEach(e=>{if(e.next==null)return;const r=e.formats(),s=e.next.formats();if(r.table!==s.table){const i=this.splitAfter(e);i&&i.optimize(),this.prev&&this.prev.optimize()}})}rowOffset(){return this.parent?this.parent.children.indexOf(this):-1}table(){return this.parent&&this.parent.parent}}U(Oe,"blotName","table-row"),U(Oe,"tagName","TR");class ye extends rr{}U(ye,"blotName","table-body"),U(ye,"tagName","TBODY");class Cr extends rr{balanceCells(){const t=this.descendants(Oe),e=t.reduce((r,s)=>Math.max(s.children.length,r),0);t.forEach(r=>{new Array(e-r.children.length).fill(0).forEach(()=>{let s;r.children.head!=null&&(s=ie.formats(r.children.head.domNode));const i=this.scroll.create(ie.blotName,s);r.appendChild(i),i.optimize()})})}cells(t){return this.rows().map(e=>e.children.at(t))}deleteColumn(t){const[e]=this.descendant(ye);e==null||e.children.head==null||e.children.forEach(r=>{const s=r.children.at(t);s!=null&&s.remove()})}insertColumn(t){const[e]=this.descendant(ye);e==null||e.children.head==null||e.children.forEach(r=>{const s=r.children.at(t),i=ie.formats(r.children.head.domNode),o=this.scroll.create(ie.blotName,i);r.insertBefore(o,s)})}insertRow(t){const[e]=this.descendant(ye);if(e==null||e.children.head==null)return;const r=ho(),s=this.scroll.create(Oe.blotName);e.children.head.children.forEach(()=>{const o=this.scroll.create(ie.blotName,r);s.appendChild(o)});const i=e.children.at(t);e.insertBefore(s,i)}rows(){const t=this.children.head;return t==null?[]:t.children.map(e=>e)}}U(Cr,"blotName","table-container"),U(Cr,"tagName","TABLE");Cr.allowedChildren=[ye];ye.requiredContainer=Cr;ye.allowedChildren=[Oe];Oe.requiredContainer=ye;Oe.allowedChildren=[ie];ie.requiredContainer=Oe;function ho(){return`row-${Math.random().toString(36).slice(2,6)}`}class hg extends ue{static register(){q.register(ie),q.register(Oe),q.register(ye),q.register(Cr)}constructor(){super(...arguments),this.listenBalanceCells()}balanceTables(){this.quill.scroll.descendants(Cr).forEach(t=>{t.balanceCells()})}deleteColumn(){const[t,,e]=this.getTable();e!=null&&(t.deleteColumn(e.cellOffset()),this.quill.update(q.sources.USER))}deleteRow(){const[,t]=this.getTable();t!=null&&(t.remove(),this.quill.update(q.sources.USER))}deleteTable(){const[t]=this.getTable();if(t==null)return;const e=t.offset();t.remove(),this.quill.update(q.sources.USER),this.quill.setSelection(e,q.sources.SILENT)}getTable(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.quill.getSelection();if(t==null)return[null,null,null,-1];const[e,r]=this.quill.getLine(t.index);if(e==null||e.statics.blotName!==ie.blotName)return[null,null,null,-1];const s=e.parent;return[s.parent.parent,s,e,r]}insertColumn(t){const e=this.quill.getSelection();if(!e)return;const[r,s,i]=this.getTable(e);if(i==null)return;const o=i.cellOffset();r.insertColumn(o+t),this.quill.update(q.sources.USER);let a=s.rowOffset();t===0&&(a+=1),this.quill.setSelection(e.index+a,e.length,q.sources.SILENT)}insertColumnLeft(){this.insertColumn(0)}insertColumnRight(){this.insertColumn(1)}insertRow(t){const e=this.quill.getSelection();if(!e)return;const[r,s,i]=this.getTable(e);if(i==null)return;const o=s.rowOffset();r.insertRow(o+t),this.quill.update(q.sources.USER),t>0?this.quill.setSelection(e,q.sources.SILENT):this.quill.setSelection(e.index+s.children.length,e.length,q.sources.SILENT)}insertRowAbove(){this.insertRow(0)}insertRowBelow(){this.insertRow(1)}insertTable(t,e){const r=this.quill.getSelection();if(r==null)return;const s=new Array(t).fill(0).reduce(i=>{const o=new Array(e).fill(`
`).join("");return i.insert(o,{table:ho()})},new K().retain(r.index));this.quill.updateContents(s,q.sources.USER),this.quill.setSelection(r.index,q.sources.SILENT),this.balanceTables()}listenBalanceCells(){this.quill.on(q.events.SCROLL_OPTIMIZE,t=>{t.some(e=>["TD","TR","TBODY","TABLE"].includes(e.target.tagName)?(this.quill.once(q.events.TEXT_CHANGE,(r,s,i)=>{i===q.sources.USER&&this.balanceTables()}),!0):!1)})}}const pa=Ce("quill:toolbar");class fo extends ue{constructor(t,e){var r,s;if(super(t,e),Array.isArray(this.options.container)){const i=document.createElement("div");i.setAttribute("role","toolbar"),fg(i,this.options.container),(s=(r=t.container)==null?void 0:r.parentNode)==null||s.insertBefore(i,t.container),this.container=i}else typeof this.options.container=="string"?this.container=document.querySelector(this.options.container):this.container=this.options.container;if(!(this.container instanceof HTMLElement)){pa.error("Container required for toolbar",this.options);return}this.container.classList.add("ql-toolbar"),this.controls=[],this.handlers={},this.options.handlers&&Object.keys(this.options.handlers).forEach(i=>{var a;const o=(a=this.options.handlers)==null?void 0:a[i];o&&this.addHandler(i,o)}),Array.from(this.container.querySelectorAll("button, select")).forEach(i=>{this.attach(i)}),this.quill.on(q.events.EDITOR_CHANGE,()=>{const[i]=this.quill.selection.getRange();this.update(i)})}addHandler(t,e){this.handlers[t]=e}attach(t){let e=Array.from(t.classList).find(s=>s.indexOf("ql-")===0);if(!e)return;if(e=e.slice(3),t.tagName==="BUTTON"&&t.setAttribute("type","button"),this.handlers[e]==null&&this.quill.scroll.query(e)==null){pa.warn("ignoring attaching to nonexistent format",e,t);return}const r=t.tagName==="SELECT"?"change":"click";t.addEventListener(r,s=>{let i;if(t.tagName==="SELECT"){if(t.selectedIndex<0)return;const a=t.options[t.selectedIndex];a.hasAttribute("selected")?i=!1:i=a.value||!1}else t.classList.contains("ql-active")?i=!1:i=t.value||!t.hasAttribute("value"),s.preventDefault();this.quill.focus();const[o]=this.quill.selection.getRange();if(this.handlers[e]!=null)this.handlers[e].call(this,i);else if(this.quill.scroll.query(e).prototype instanceof Gt){if(i=prompt(`Enter ${e}`),!i)return;this.quill.updateContents(new K().retain(o.index).delete(o.length).insert({[e]:i}),q.sources.USER)}else this.quill.format(e,i,q.sources.USER);this.update(o)}),this.controls.push([e,t])}update(t){const e=t==null?{}:this.quill.getFormat(t);this.controls.forEach(r=>{const[s,i]=r;if(i.tagName==="SELECT"){let o=null;if(t==null)o=null;else if(e[s]==null)o=i.querySelector("option[selected]");else if(!Array.isArray(e[s])){let a=e[s];typeof a=="string"&&(a=a.replace(/"/g,'\\"')),o=i.querySelector(`option[value="${a}"]`)}o==null?(i.value="",i.selectedIndex=-1):o.selected=!0}else if(t==null)i.classList.remove("ql-active"),i.setAttribute("aria-pressed","false");else if(i.hasAttribute("value")){const o=e[s],a=o===i.getAttribute("value")||o!=null&&o.toString()===i.getAttribute("value")||o==null&&!i.getAttribute("value");i.classList.toggle("ql-active",a),i.setAttribute("aria-pressed",a.toString())}else{const o=e[s]!=null;i.classList.toggle("ql-active",o),i.setAttribute("aria-pressed",o.toString())}})}}fo.DEFAULTS={};function ga(n,t,e){const r=document.createElement("button");r.setAttribute("type","button"),r.classList.add(`ql-${t}`),r.setAttribute("aria-pressed","false"),e!=null?(r.value=e,r.setAttribute("aria-label",`${t}: ${e}`)):r.setAttribute("aria-label",t),n.appendChild(r)}function fg(n,t){Array.isArray(t[0])||(t=[t]),t.forEach(e=>{const r=document.createElement("span");r.classList.add("ql-formats"),e.forEach(s=>{if(typeof s=="string")ga(r,s);else{const i=Object.keys(s)[0],o=s[i];Array.isArray(o)?dg(r,i,o):ga(r,i,o)}}),n.appendChild(r)})}function dg(n,t,e){const r=document.createElement("select");r.classList.add(`ql-${t}`),e.forEach(s=>{const i=document.createElement("option");s!==!1?i.setAttribute("value",String(s)):i.setAttribute("selected","selected"),r.appendChild(i)}),n.appendChild(r)}fo.DEFAULTS={container:null,handlers:{clean(){const n=this.quill.getSelection();if(n!=null)if(n.length===0){const t=this.quill.getFormat();Object.keys(t).forEach(e=>{this.quill.scroll.query(e,X.INLINE)!=null&&this.quill.format(e,!1,q.sources.USER)})}else this.quill.removeFormat(n,q.sources.USER)},direction(n){const{align:t}=this.quill.getFormat();n==="rtl"&&t==null?this.quill.format("align","right",q.sources.USER):!n&&t==="right"&&this.quill.format("align",!1,q.sources.USER),this.quill.format("direction",n,q.sources.USER)},indent(n){const t=this.quill.getSelection(),e=this.quill.getFormat(t),r=parseInt(e.indent||0,10);if(n==="+1"||n==="-1"){let s=n==="+1"?1:-1;e.direction==="rtl"&&(s*=-1),this.quill.format("indent",r+s,q.sources.USER)}},link(n){n===!0&&(n=prompt("Enter link URL:")),this.quill.format("link",n,q.sources.USER)},list(n){const t=this.quill.getSelection(),e=this.quill.getFormat(t);n==="check"?e.list==="checked"||e.list==="unchecked"?this.quill.format("list",!1,q.sources.USER):this.quill.format("list","unchecked",q.sources.USER):this.quill.format("list",n,q.sources.USER)}}};const pg='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"/></svg>',gg='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"/><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"/></svg>',mg='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"/></svg>',yg='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"/></svg>',bg='<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"/><rect height="1" width="1" x="4" y="4"/><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"/><rect height="1" width="1" x="2" y="6"/><rect height="1" width="1" x="3" y="5"/><rect height="1" width="1" x="4" y="7"/><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"/><rect height="1" width="1" x="2" y="12"/><rect height="1" width="1" x="2" y="9"/><rect height="1" width="1" x="2" y="15"/><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"/><rect height="1" width="1" x="3" y="8"/><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"/><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"/><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"/><rect height="1" width="1" x="12" y="2"/><rect height="1" width="1" x="11" y="3"/><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"/><rect height="1" width="1" x="2" y="3"/><rect height="1" width="1" x="6" y="2"/><rect height="1" width="1" x="3" y="2"/><rect height="1" width="1" x="5" y="3"/><rect height="1" width="1" x="9" y="2"/><rect height="1" width="1" x="15" y="14"/><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"/><rect height="1" width="1" x="13" y="7"/><rect height="1" width="1" x="15" y="5"/><rect height="1" width="1" x="14" y="6"/><rect height="1" width="1" x="15" y="8"/><rect height="1" width="1" x="14" y="9"/><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"/><rect height="1" width="1" x="14" y="3"/><polygon points="12 6.868 12 6 11.62 6 12 6.868"/><rect height="1" width="1" x="15" y="2"/><rect height="1" width="1" x="12" y="5"/><rect height="1" width="1" x="13" y="4"/><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"/><rect height="1" width="1" x="9" y="14"/><rect height="1" width="1" x="8" y="15"/><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"/><rect height="1" width="1" x="5" y="15"/><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"/><rect height="1" width="1" x="11" y="15"/><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"/><rect height="1" width="1" x="14" y="15"/><rect height="1" width="1" x="15" y="11"/></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"/></svg>',vg='<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"/><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"/><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"/><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"/></svg>',wg='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"/><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"/></svg>',xg='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"/><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"/><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"/><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"/></svg>',ma='<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"/><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"/><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"/></svg>',Ag='<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"/><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"/></svg>',Eg='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"/><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"/><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"/><rect class="ql-fill" height="11" width="1" x="11" y="4"/><rect class="ql-fill" height="11" width="1" x="13" y="4"/></svg>',_g='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"/><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"/><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"/><rect class="ql-fill" height="11" width="1" x="5" y="4"/><rect class="ql-fill" height="11" width="1" x="7" y="4"/></svg>',Ng='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"/><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"/><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"/></svg>',Tg='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"/></svg>',Sg='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',Og='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.65186,12.30664a2.6742,2.6742,0,0,1-2.915,2.68457,3.96592,3.96592,0,0,1-2.25537-.6709.56007.56007,0,0,1-.13232-.83594L11.64648,13c.209-.34082.48389-.36328.82471-.1543a2.32654,2.32654,0,0,0,1.12256.33008c.71484,0,1.12207-.35156,1.12207-.78125,0-.61523-.61621-.86816-1.46338-.86816H13.2085a.65159.65159,0,0,1-.68213-.41895l-.05518-.10937a.67114.67114,0,0,1,.14307-.78125l.71533-.86914a8.55289,8.55289,0,0,1,.68213-.7373V8.58887a3.93913,3.93913,0,0,1-.748.05469H11.9873a.54085.54085,0,0,1-.605-.60547V7.59863a.54085.54085,0,0,1,.605-.60547h3.75146a.53773.53773,0,0,1,.60547.59375v.17676a1.03723,1.03723,0,0,1-.27539.748L14.74854,10.0293A2.31132,2.31132,0,0,1,16.65186,12.30664ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',kg='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm7.05371,7.96582v.38477c0,.39648-.165.60547-.46191.60547h-.47314v1.29785a.54085.54085,0,0,1-.605.60547h-.69336a.54085.54085,0,0,1-.605-.60547V12.95605H11.333a.5412.5412,0,0,1-.60547-.60547v-.15332a1.199,1.199,0,0,1,.22021-.748l2.56348-4.05957a.7819.7819,0,0,1,.72607-.39648h1.27637a.54085.54085,0,0,1,.605.60547v3.7627h.33008A.54055.54055,0,0,1,17.05371,11.96582ZM14.28125,8.7207h-.022a4.18969,4.18969,0,0,1-.38525.81348l-1.188,1.80469v.02246h1.5293V9.60059A7.04058,7.04058,0,0,1,14.28125,8.7207Z"/></svg>',Cg='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.74023,12.18555a2.75131,2.75131,0,0,1-2.91553,2.80566,3.908,3.908,0,0,1-2.25537-.68164.54809.54809,0,0,1-.13184-.8252L11.73438,13c.209-.34082.48389-.36328.8252-.1543a2.23757,2.23757,0,0,0,1.1001.33008,1.01827,1.01827,0,0,0,1.1001-.96777c0-.61621-.53906-.97949-1.25439-.97949a2.15554,2.15554,0,0,0-.64893.09961,1.15209,1.15209,0,0,1-.814.01074l-.12109-.04395a.64116.64116,0,0,1-.45117-.71484l.231-3.00391a.56666.56666,0,0,1,.62744-.583H15.541a.54085.54085,0,0,1,.605.60547v.43945a.54085.54085,0,0,1-.605.60547H13.41748l-.04395.72559a1.29306,1.29306,0,0,1-.04395.30859h.022a2.39776,2.39776,0,0,1,.57227-.07715A2.53266,2.53266,0,0,1,16.74023,12.18555ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',Lg='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M14.51758,9.64453a1.85627,1.85627,0,0,0-1.24316.38477H13.252a1.73532,1.73532,0,0,1,1.72754-1.4082,2.66491,2.66491,0,0,1,.5498.06641c.35254.05469.57227.01074.70508-.40723l.16406-.5166a.53393.53393,0,0,0-.373-.75977,4.83723,4.83723,0,0,0-1.17773-.14258c-2.43164,0-3.7627,2.17773-3.7627,4.43359,0,2.47559,1.60645,3.69629,3.19043,3.69629A2.70585,2.70585,0,0,0,16.96,12.19727,2.43861,2.43861,0,0,0,14.51758,9.64453Zm-.23047,3.58691c-.67187,0-1.22168-.81445-1.22168-1.45215,0-.47363.30762-.583.72559-.583.96875,0,1.27734.59375,1.27734,1.12207A.82182.82182,0,0,1,14.28711,13.23145ZM10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Z"/></svg>',qg='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"/><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"/><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"/></svg>',Ig='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"/><circle class="ql-fill" cx="6" cy="7" r="1"/><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"/></svg>',jg='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"/></svg>',Rg='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"/></svg>',Pg='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"/><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"/><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"/></svg>',$g='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"/><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"/></svg>',Mg='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"/><polyline class="ql-stroke" points="3 4 4 5 6 3"/><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"/><polyline class="ql-stroke" points="3 14 4 15 6 13"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="3 9 4 10 6 8"/></svg>',Bg='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"/><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"/><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"/><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"/><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"/></svg>',Dg='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"/><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"/></svg>',Ug='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"/><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"/></svg>',Fg='<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"/><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"/><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"/></svg>',Hg='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="2" width="3" x="5" y="5"/><rect class="ql-fill" height="2" width="4" x="9" y="5"/><g class="ql-fill ql-transparent"><rect height="2" width="3" x="5" y="8"/><rect height="2" width="4" x="9" y="8"/><rect height="2" width="3" x="5" y="11"/><rect height="2" width="4" x="9" y="11"/></g></svg>',zg='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"/></svg>',Vg='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="12" width="1" x="5" y="3"/><rect class="ql-fill" height="12" width="1" x="12" y="3"/><rect class="ql-fill" height="2" width="8" x="5" y="8"/><rect class="ql-fill" height="1" width="3" x="3" y="5"/><rect class="ql-fill" height="1" width="3" x="3" y="7"/><rect class="ql-fill" height="1" width="3" x="3" y="10"/><rect class="ql-fill" height="1" width="3" x="3" y="12"/><rect class="ql-fill" height="1" width="3" x="12" y="5"/><rect class="ql-fill" height="1" width="3" x="12" y="7"/><rect class="ql-fill" height="1" width="3" x="12" y="10"/><rect class="ql-fill" height="1" width="3" x="12" y="12"/></svg>',cn={align:{"":pg,center:gg,right:mg,justify:yg},background:bg,blockquote:vg,bold:wg,clean:xg,code:ma,"code-block":ma,color:Ag,direction:{"":Eg,rtl:_g},formula:Ng,header:{1:Tg,2:Sg,3:Og,4:kg,5:Cg,6:Lg},italic:qg,image:Ig,indent:{"+1":jg,"-1":Rg},link:Pg,list:{bullet:$g,check:Mg,ordered:Bg},script:{sub:Dg,super:Ug},strike:Fg,table:Hg,underline:zg,video:Vg},Gg='<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"/><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"/></svg>';let ya=0;function ba(n,t){n.setAttribute(t,`${n.getAttribute(t)!=="true"}`)}class us{constructor(t){this.select=t,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",()=>{this.togglePicker()}),this.label.addEventListener("keydown",e=>{switch(e.key){case"Enter":this.togglePicker();break;case"Escape":this.escape(),e.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}togglePicker(){this.container.classList.toggle("ql-expanded"),ba(this.label,"aria-expanded"),ba(this.options,"aria-hidden")}buildItem(t){const e=document.createElement("span");e.tabIndex="0",e.setAttribute("role","button"),e.classList.add("ql-picker-item");const r=t.getAttribute("value");return r&&e.setAttribute("data-value",r),t.textContent&&e.setAttribute("data-label",t.textContent),e.addEventListener("click",()=>{this.selectItem(e,!0)}),e.addEventListener("keydown",s=>{switch(s.key){case"Enter":this.selectItem(e,!0),s.preventDefault();break;case"Escape":this.escape(),s.preventDefault();break}}),e}buildLabel(){const t=document.createElement("span");return t.classList.add("ql-picker-label"),t.innerHTML=Gg,t.tabIndex="0",t.setAttribute("role","button"),t.setAttribute("aria-expanded","false"),this.container.appendChild(t),t}buildOptions(){const t=document.createElement("span");t.classList.add("ql-picker-options"),t.setAttribute("aria-hidden","true"),t.tabIndex="-1",t.id=`ql-picker-options-${ya}`,ya+=1,this.label.setAttribute("aria-controls",t.id),this.options=t,Array.from(this.select.options).forEach(e=>{const r=this.buildItem(e);t.appendChild(r),e.selected===!0&&this.selectItem(r)}),this.container.appendChild(t)}buildPicker(){Array.from(this.select.attributes).forEach(t=>{this.container.setAttribute(t.name,t.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}escape(){this.close(),setTimeout(()=>this.label.focus(),1)}close(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}selectItem(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const r=this.container.querySelector(".ql-selected");t!==r&&(r!=null&&r.classList.remove("ql-selected"),t!=null&&(t.classList.add("ql-selected"),this.select.selectedIndex=Array.from(t.parentNode.children).indexOf(t),t.hasAttribute("data-value")?this.label.setAttribute("data-value",t.getAttribute("data-value")):this.label.removeAttribute("data-value"),t.hasAttribute("data-label")?this.label.setAttribute("data-label",t.getAttribute("data-label")):this.label.removeAttribute("data-label"),e&&(this.select.dispatchEvent(new Event("change")),this.close())))}update(){let t;if(this.select.selectedIndex>-1){const r=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];t=this.select.options[this.select.selectedIndex],this.selectItem(r)}else this.selectItem(null);const e=t!=null&&t!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",e)}}class Sl extends us{constructor(t,e){super(t),this.label.innerHTML=e,this.container.classList.add("ql-color-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).slice(0,7).forEach(r=>{r.classList.add("ql-primary")})}buildItem(t){const e=super.buildItem(t);return e.style.backgroundColor=t.getAttribute("value")||"",e}selectItem(t,e){super.selectItem(t,e);const r=this.label.querySelector(".ql-color-label"),s=t&&t.getAttribute("data-value")||"";r&&(r.tagName==="line"?r.style.stroke=s:r.style.fill=s)}}class Ol extends us{constructor(t,e){super(t),this.container.classList.add("ql-icon-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).forEach(r=>{r.innerHTML=e[r.getAttribute("data-value")||""]}),this.defaultItem=this.container.querySelector(".ql-selected"),this.selectItem(this.defaultItem)}selectItem(t,e){super.selectItem(t,e);const r=t||this.defaultItem;if(r!=null){if(this.label.innerHTML===r.innerHTML)return;this.label.innerHTML=r.innerHTML}}}const Kg=n=>{const{overflowY:t}=getComputedStyle(n,null);return t!=="visible"&&t!=="clip"};class kl{constructor(t,e){this.quill=t,this.boundsContainer=e||document.body,this.root=t.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,Kg(this.quill.root)&&this.quill.root.addEventListener("scroll",()=>{this.root.style.marginTop=`${-1*this.quill.root.scrollTop}px`}),this.hide()}hide(){this.root.classList.add("ql-hidden")}position(t){const e=t.left+t.width/2-this.root.offsetWidth/2,r=t.bottom+this.quill.root.scrollTop;this.root.style.left=`${e}px`,this.root.style.top=`${r}px`,this.root.classList.remove("ql-flip");const s=this.boundsContainer.getBoundingClientRect(),i=this.root.getBoundingClientRect();let o=0;if(i.right>s.right&&(o=s.right-i.right,this.root.style.left=`${e+o}px`),i.left<s.left&&(o=s.left-i.left,this.root.style.left=`${e+o}px`),i.bottom>s.bottom){const a=i.bottom-i.top,c=t.bottom-t.top+a;this.root.style.top=`${r-c}px`,this.root.classList.add("ql-flip")}return o}show(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}const Wg=[!1,"center","right","justify"],Zg=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],Xg=[!1,"serif","monospace"],Yg=["1","2","3",!1],Jg=["small",!1,"large","huge"];class mn extends kr{constructor(t,e){super(t,e);const r=s=>{if(!document.body.contains(t.root)){document.body.removeEventListener("click",r);return}this.tooltip!=null&&!this.tooltip.root.contains(s.target)&&document.activeElement!==this.tooltip.textbox&&!this.quill.hasFocus()&&this.tooltip.hide(),this.pickers!=null&&this.pickers.forEach(i=>{i.container.contains(s.target)||i.close()})};t.emitter.listenDOM("click",document.body,r)}addModule(t){const e=super.addModule(t);return t==="toolbar"&&this.extendToolbar(e),e}buildButtons(t,e){Array.from(t).forEach(r=>{(r.getAttribute("class")||"").split(/\s+/).forEach(i=>{if(i.startsWith("ql-")&&(i=i.slice(3),e[i]!=null))if(i==="direction")r.innerHTML=e[i][""]+e[i].rtl;else if(typeof e[i]=="string")r.innerHTML=e[i];else{const o=r.value||"";o!=null&&e[i][o]&&(r.innerHTML=e[i][o])}})})}buildPickers(t,e){this.pickers=Array.from(t).map(s=>{if(s.classList.contains("ql-align")&&(s.querySelector("option")==null&&Wr(s,Wg),typeof e.align=="object"))return new Ol(s,e.align);if(s.classList.contains("ql-background")||s.classList.contains("ql-color")){const i=s.classList.contains("ql-background")?"background":"color";return s.querySelector("option")==null&&Wr(s,Zg,i==="background"?"#ffffff":"#000000"),new Sl(s,e[i])}return s.querySelector("option")==null&&(s.classList.contains("ql-font")?Wr(s,Xg):s.classList.contains("ql-header")?Wr(s,Yg):s.classList.contains("ql-size")&&Wr(s,Jg)),new us(s)});const r=()=>{this.pickers.forEach(s=>{s.update()})};this.quill.on(V.events.EDITOR_CHANGE,r)}}mn.DEFAULTS=Be({},kr.DEFAULTS,{modules:{toolbar:{handlers:{formula(){this.quill.theme.tooltip.edit("formula")},image(){let n=this.container.querySelector("input.ql-image[type=file]");n==null&&(n=document.createElement("input"),n.setAttribute("type","file"),n.setAttribute("accept",this.quill.uploader.options.mimetypes.join(", ")),n.classList.add("ql-image"),n.addEventListener("change",()=>{const t=this.quill.getSelection(!0);this.quill.uploader.upload(t,n.files),n.value=""}),this.container.appendChild(n)),n.click()},video(){this.quill.theme.tooltip.edit("video")}}}}});class Cl extends kl{constructor(t,e){super(t,e),this.textbox=this.root.querySelector('input[type="text"]'),this.listen()}listen(){this.textbox.addEventListener("keydown",t=>{t.key==="Enter"?(this.save(),t.preventDefault()):t.key==="Escape"&&(this.cancel(),t.preventDefault())})}cancel(){this.hide(),this.restoreFocus()}edit(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),this.textbox==null)return;e!=null?this.textbox.value=e:t!==this.root.getAttribute("data-mode")&&(this.textbox.value="");const r=this.quill.getBounds(this.quill.selection.savedRange);r!=null&&this.position(r),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute(`data-${t}`)||""),this.root.setAttribute("data-mode",t)}restoreFocus(){this.quill.focus({preventScroll:!0})}save(){let{value:t}=this.textbox;switch(this.root.getAttribute("data-mode")){case"link":{const{scrollTop:e}=this.quill.root;this.linkRange?(this.quill.formatText(this.linkRange,"link",t,V.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",t,V.sources.USER)),this.quill.root.scrollTop=e;break}case"video":t=Qg(t);case"formula":{if(!t)break;const e=this.quill.getSelection(!0);if(e!=null){const r=e.index+e.length;this.quill.insertEmbed(r,this.root.getAttribute("data-mode"),t,V.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(r+1," ",V.sources.USER),this.quill.setSelection(r+2,V.sources.USER)}break}}this.textbox.value="",this.hide()}}function Qg(n){let t=n.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||n.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return t?`${t[1]||"https"}://www.youtube.com/embed/${t[2]}?showinfo=0`:(t=n.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?`${t[1]||"https"}://player.vimeo.com/video/${t[2]}/`:n}function Wr(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;t.forEach(r=>{const s=document.createElement("option");r===e?s.setAttribute("selected","selected"):s.setAttribute("value",String(r)),n.appendChild(s)})}const t1=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]];class Ll extends Cl{constructor(t,e){super(t,e),this.quill.on(V.events.EDITOR_CHANGE,(r,s,i,o)=>{if(r===V.events.SELECTION_CHANGE)if(s!=null&&s.length>0&&o===V.sources.USER){this.show(),this.root.style.left="0px",this.root.style.width="",this.root.style.width=`${this.root.offsetWidth}px`;const a=this.quill.getLines(s.index,s.length);if(a.length===1){const c=this.quill.getBounds(s);c!=null&&this.position(c)}else{const c=a[a.length-1],u=this.quill.getIndex(c),h=Math.min(c.length()-1,s.index+s.length-u),d=this.quill.getBounds(new Je(u,h));d!=null&&this.position(d)}}else document.activeElement!==this.textbox&&this.quill.hasFocus()&&this.hide()})}listen(){super.listen(),this.root.querySelector(".ql-close").addEventListener("click",()=>{this.root.classList.remove("ql-editing")}),this.quill.on(V.events.SCROLL_OPTIMIZE,()=>{setTimeout(()=>{if(this.root.classList.contains("ql-hidden"))return;const t=this.quill.getSelection();if(t!=null){const e=this.quill.getBounds(t);e!=null&&this.position(e)}},1)})}cancel(){this.show()}position(t){const e=super.position(t),r=this.root.querySelector(".ql-tooltip-arrow");return r.style.marginLeft="",e!==0&&(r.style.marginLeft=`${-1*e-r.offsetWidth/2}px`),e}}U(Ll,"TEMPLATE",['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""));class ql extends mn{constructor(t,e){e.modules.toolbar!=null&&e.modules.toolbar.container==null&&(e.modules.toolbar.container=t1),super(t,e),this.quill.container.classList.add("ql-bubble")}extendToolbar(t){this.tooltip=new Ll(this.quill,this.options.bounds),t.container!=null&&(this.tooltip.root.appendChild(t.container),this.buildButtons(t.container.querySelectorAll("button"),cn),this.buildPickers(t.container.querySelectorAll("select"),cn))}}ql.DEFAULTS=Be({},mn.DEFAULTS,{modules:{toolbar:{handlers:{link(n){n?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});const e1=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]];class Il extends Cl{constructor(){super(...arguments);U(this,"preview",this.root.querySelector("a.ql-preview"))}listen(){super.listen(),this.root.querySelector("a.ql-action").addEventListener("click",e=>{this.root.classList.contains("ql-editing")?this.save():this.edit("link",this.preview.textContent),e.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",e=>{if(this.linkRange!=null){const r=this.linkRange;this.restoreFocus(),this.quill.formatText(r,"link",!1,V.sources.USER),delete this.linkRange}e.preventDefault(),this.hide()}),this.quill.on(V.events.SELECTION_CHANGE,(e,r,s)=>{if(e!=null){if(e.length===0&&s===V.sources.USER){const[i,o]=this.quill.scroll.descendant(Me,e.index);if(i!=null){this.linkRange=new Je(e.index-o,i.length());const a=Me.formats(i.domNode);this.preview.textContent=a,this.preview.setAttribute("href",a),this.show();const c=this.quill.getBounds(this.linkRange);c!=null&&this.position(c);return}}else delete this.linkRange;this.hide()}})}show(){super.show(),this.root.removeAttribute("data-mode")}}U(Il,"TEMPLATE",['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""));class jl extends mn{constructor(t,e){e.modules.toolbar!=null&&e.modules.toolbar.container==null&&(e.modules.toolbar.container=e1),super(t,e),this.quill.container.classList.add("ql-snow")}extendToolbar(t){t.container!=null&&(t.container.classList.add("ql-snow"),this.buildButtons(t.container.querySelectorAll("button"),cn),this.buildPickers(t.container.querySelectorAll("select"),cn),this.tooltip=new Il(this.quill,this.options.bounds),t.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"k",shortKey:!0},(e,r)=>{t.handlers.link.call(t,!r.format.link)}))}}jl.DEFAULTS=Be({},mn.DEFAULTS,{modules:{toolbar:{handlers:{link(n){if(n){const t=this.quill.getSelection();if(t==null||t.length===0)return;let e=this.quill.getText(t);/^\S+@\S+\.\S+$/.test(e)&&e.indexOf("mailto:")!==0&&(e=`mailto:${e}`);const{tooltip:r}=this.quill.theme;r.edit("link",e)}else this.quill.format("link",!1)}}}}});q.register({"attributors/attribute/direction":dl,"attributors/class/align":ul,"attributors/class/background":vp,"attributors/class/color":bp,"attributors/class/direction":pl,"attributors/class/font":yl,"attributors/class/size":vl,"attributors/style/align":hl,"attributors/style/background":oo,"attributors/style/color":io,"attributors/style/direction":gl,"attributors/style/font":bl,"attributors/style/size":wl},!0);q.register({"formats/align":ul,"formats/direction":pl,"formats/indent":cg,"formats/background":oo,"formats/color":io,"formats/font":yl,"formats/size":vl,"formats/blockquote":ki,"formats/code-block":$t,"formats/header":Ci,"formats/list":gn,"formats/bold":ln,"formats/code":ao,"formats/italic":Li,"formats/link":Me,"formats/script":qi,"formats/strike":Ii,"formats/underline":ji,"formats/formula":Fn,"formats/image":Ri,"formats/video":Hn,"modules/syntax":Tl,"modules/table":hg,"modules/toolbar":fo,"themes/bubble":ql,"themes/snow":jl,"ui/icons":cn,"ui/picker":us,"ui/icon-picker":Ol,"ui/color-picker":Sl,"ui/tooltip":kl},!0);var Rl={exports:{}};(function(n,t){(function(e,r){n.exports=r()})(window,function(){return function(e){var r={};function s(i){if(r[i])return r[i].exports;var o=r[i]={i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,s),o.l=!0,o.exports}return s.m=e,s.c=r,s.d=function(i,o,a){s.o(i,o)||Object.defineProperty(i,o,{enumerable:!0,get:a})},s.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},s.t=function(i,o){if(1&o&&(i=s(i)),8&o||4&o&&typeof i=="object"&&i&&i.__esModule)return i;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:i}),2&o&&typeof i!="string")for(var c in i)s.d(a,c,(function(u){return i[u]}).bind(null,c));return a},s.n=function(i){var o=i&&i.__esModule?function(){return i.default}:function(){return i};return s.d(o,"a",o),o},s.o=function(i,o){return Object.prototype.hasOwnProperty.call(i,o)},s.p="",s(s.s=17)}([function(e,r,s){var i=s(7),o=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",a=Object.prototype.toString,c=Array.prototype.concat,u=Object.defineProperty,h=s(25)(),d=u&&h,f=function(g,E,v,w){var A;(!(E in g)||typeof(A=w)=="function"&&a.call(A)==="[object Function]"&&w())&&(d?u(g,E,{configurable:!0,enumerable:!1,value:v,writable:!0}):g[E]=v)},p=function(g,E){var v=arguments.length>2?arguments[2]:{},w=i(E);o&&(w=c.call(w,Object.getOwnPropertySymbols(E)));for(var A=0;A<w.length;A+=1)f(g,w[A],E[w[A]],v[w[A]])};p.supportsDescriptors=!!d,e.exports=p},function(e,r,s){var i=s(9);e.exports=function(){return i()&&!!Symbol.toStringTag}},function(e,r,s){var i=SyntaxError,o=Function,a=TypeError,c=function(P){try{return o('"use strict"; return ('+P+").constructor;")()}catch{}},u=Object.getOwnPropertyDescriptor;if(u)try{u({},"")}catch{u=null}var h=function(){throw new a},d=u?function(){try{return h}catch{try{return u(arguments,"callee").get}catch{return h}}}():h,f=s(21)(),p=Object.getPrototypeOf||function(P){return P.__proto__},g={},E=typeof Uint8Array>"u"?void 0:p(Uint8Array),v={"%AggregateError%":typeof AggregateError>"u"?void 0:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?void 0:ArrayBuffer,"%ArrayIteratorPrototype%":f?p([][Symbol.iterator]()):void 0,"%AsyncFromSyncIteratorPrototype%":void 0,"%AsyncFunction%":g,"%AsyncGenerator%":g,"%AsyncGeneratorFunction%":g,"%AsyncIteratorPrototype%":g,"%Atomics%":typeof Atomics>"u"?void 0:Atomics,"%BigInt%":typeof BigInt>"u"?void 0:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?void 0:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?void 0:Float32Array,"%Float64Array%":typeof Float64Array>"u"?void 0:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?void 0:FinalizationRegistry,"%Function%":o,"%GeneratorFunction%":g,"%Int8Array%":typeof Int8Array>"u"?void 0:Int8Array,"%Int16Array%":typeof Int16Array>"u"?void 0:Int16Array,"%Int32Array%":typeof Int32Array>"u"?void 0:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":f?p(p([][Symbol.iterator]())):void 0,"%JSON%":typeof JSON=="object"?JSON:void 0,"%Map%":typeof Map>"u"?void 0:Map,"%MapIteratorPrototype%":typeof Map<"u"&&f?p(new Map()[Symbol.iterator]()):void 0,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?void 0:Promise,"%Proxy%":typeof Proxy>"u"?void 0:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?void 0:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?void 0:Set,"%SetIteratorPrototype%":typeof Set<"u"&&f?p(new Set()[Symbol.iterator]()):void 0,"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?void 0:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":f?p(""[Symbol.iterator]()):void 0,"%Symbol%":f?Symbol:void 0,"%SyntaxError%":i,"%ThrowTypeError%":d,"%TypedArray%":E,"%TypeError%":a,"%Uint8Array%":typeof Uint8Array>"u"?void 0:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?void 0:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?void 0:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?void 0:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?void 0:WeakMap,"%WeakRef%":typeof WeakRef>"u"?void 0:WeakRef,"%WeakSet%":typeof WeakSet>"u"?void 0:WeakSet},w={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},A=s(3),_=s(23),b=A.call(Function.call,Array.prototype.concat),N=A.call(Function.apply,Array.prototype.splice),y=A.call(Function.call,String.prototype.replace),S=A.call(Function.call,String.prototype.slice),x=A.call(Function.call,RegExp.prototype.exec),I=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Z=/\\(\\)?/g,j=function(P){var D=S(P,0,1),F=S(P,-1);if(D==="%"&&F!=="%")throw new i("invalid intrinsic syntax, expected closing `%`");if(F==="%"&&D!=="%")throw new i("invalid intrinsic syntax, expected opening `%`");var G=[];return y(P,I,function(W,z,H,$){G[G.length]=H?y($,Z,"$1"):z||W}),G},k=function(P,D){var F,G=P;if(_(w,G)&&(G="%"+(F=w[G])[0]+"%"),_(v,G)){var W=v[G];if(W===g&&(W=function z(H){var $;if(H==="%AsyncFunction%")$=c("async function () {}");else if(H==="%GeneratorFunction%")$=c("function* () {}");else if(H==="%AsyncGeneratorFunction%")$=c("async function* () {}");else if(H==="%AsyncGenerator%"){var nt=z("%AsyncGeneratorFunction%");nt&&($=nt.prototype)}else if(H==="%AsyncIteratorPrototype%"){var J=z("%AsyncGenerator%");J&&($=p(J.prototype))}return v[H]=$,$}(G)),W===void 0&&!D)throw new a("intrinsic "+P+" exists, but is not available. Please file an issue!");return{alias:F,name:G,value:W}}throw new i("intrinsic "+P+" does not exist!")};e.exports=function(P,D){if(typeof P!="string"||P.length===0)throw new a("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof D!="boolean")throw new a('"allowMissing" argument must be a boolean');if(x(/^%?[^%]*%?$/g,P)===null)throw new i("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var F=j(P),G=F.length>0?F[0]:"",W=k("%"+G+"%",D),z=W.name,H=W.value,$=!1,nt=W.alias;nt&&(G=nt[0],N(F,b([0,1],nt)));for(var J=1,B=!0;J<F.length;J+=1){var R=F[J],O=S(R,0,1),M=S(R,-1);if((O==='"'||O==="'"||O==="`"||M==='"'||M==="'"||M==="`")&&O!==M)throw new i("property names with quotes must have matching quotes");if(R!=="constructor"&&B||($=!0),_(v,z="%"+(G+="."+R)+"%"))H=v[z];else if(H!=null){if(!(R in H)){if(!D)throw new a("base intrinsic for "+P+" exists, but the property is not available.");return}if(u&&J+1>=F.length){var st=u(H,R);H=(B=!!st)&&"get"in st&&!("originalValue"in st.get)?st.get:H[R]}else B=_(H,R),H=H[R];B&&!$&&(v[z]=H)}}return H}},function(e,r,s){var i=s(22);e.exports=Function.prototype.bind||i},function(e,r,s){var i=s(3),o=s(2),a=o("%Function.prototype.apply%"),c=o("%Function.prototype.call%"),u=o("%Reflect.apply%",!0)||i.call(c,a),h=o("%Object.getOwnPropertyDescriptor%",!0),d=o("%Object.defineProperty%",!0),f=o("%Math.max%");if(d)try{d({},"a",{value:1})}catch{d=null}e.exports=function(g){var E=u(i,c,arguments);if(h&&d){var v=h(E,"length");v.configurable&&d(E,"length",{value:1+f(0,g.length-(arguments.length-1))})}return E};var p=function(){return u(i,a,arguments)};d?d(e.exports,"apply",{value:p}):e.exports.apply=p},function(e,r,s){var i=s(18),o=s(6),a=s(15),c=s(32),u="\0",h=function(d){Array.isArray(d)?this.ops=d:d!=null&&Array.isArray(d.ops)?this.ops=d.ops:this.ops=[]};h.prototype.insert=function(d,f){var p={};return d.length===0?this:(p.insert=d,f!=null&&typeof f=="object"&&Object.keys(f).length>0&&(p.attributes=f),this.push(p))},h.prototype.delete=function(d){return d<=0?this:this.push({delete:d})},h.prototype.retain=function(d,f){if(d<=0)return this;var p={retain:d};return f!=null&&typeof f=="object"&&Object.keys(f).length>0&&(p.attributes=f),this.push(p)},h.prototype.push=function(d){var f=this.ops.length,p=this.ops[f-1];if(d=a(!0,{},d),typeof p=="object"){if(typeof d.delete=="number"&&typeof p.delete=="number")return this.ops[f-1]={delete:p.delete+d.delete},this;if(typeof p.delete=="number"&&d.insert!=null&&(f-=1,typeof(p=this.ops[f-1])!="object"))return this.ops.unshift(d),this;if(o(d.attributes,p.attributes)){if(typeof d.insert=="string"&&typeof p.insert=="string")return this.ops[f-1]={insert:p.insert+d.insert},typeof d.attributes=="object"&&(this.ops[f-1].attributes=d.attributes),this;if(typeof d.retain=="number"&&typeof p.retain=="number")return this.ops[f-1]={retain:p.retain+d.retain},typeof d.attributes=="object"&&(this.ops[f-1].attributes=d.attributes),this}}return f===this.ops.length?this.ops.push(d):this.ops.splice(f,0,d),this},h.prototype.chop=function(){var d=this.ops[this.ops.length-1];return d&&d.retain&&!d.attributes&&this.ops.pop(),this},h.prototype.filter=function(d){return this.ops.filter(d)},h.prototype.forEach=function(d){this.ops.forEach(d)},h.prototype.map=function(d){return this.ops.map(d)},h.prototype.partition=function(d){var f=[],p=[];return this.forEach(function(g){(d(g)?f:p).push(g)}),[f,p]},h.prototype.reduce=function(d,f){return this.ops.reduce(d,f)},h.prototype.changeLength=function(){return this.reduce(function(d,f){return f.insert?d+c.length(f):f.delete?d-f.delete:d},0)},h.prototype.length=function(){return this.reduce(function(d,f){return d+c.length(f)},0)},h.prototype.slice=function(d,f){d=d||0,typeof f!="number"&&(f=1/0);for(var p=[],g=c.iterator(this.ops),E=0;E<f&&g.hasNext();){var v;E<d?v=g.next(d-E):(v=g.next(f-E),p.push(v)),E+=c.length(v)}return new h(p)},h.prototype.compose=function(d){var f=c.iterator(this.ops),p=c.iterator(d.ops),g=[],E=p.peek();if(E!=null&&typeof E.retain=="number"&&E.attributes==null){for(var v=E.retain;f.peekType()==="insert"&&f.peekLength()<=v;)v-=f.peekLength(),g.push(f.next());E.retain-v>0&&p.next(E.retain-v)}for(var w=new h(g);f.hasNext()||p.hasNext();)if(p.peekType()==="insert")w.push(p.next());else if(f.peekType()==="delete")w.push(f.next());else{var A=Math.min(f.peekLength(),p.peekLength()),_=f.next(A),b=p.next(A);if(typeof b.retain=="number"){var N={};typeof _.retain=="number"?N.retain=A:N.insert=_.insert;var y=c.attributes.compose(_.attributes,b.attributes,typeof _.retain=="number");if(y&&(N.attributes=y),w.push(N),!p.hasNext()&&o(w.ops[w.ops.length-1],N)){var S=new h(f.rest());return w.concat(S).chop()}}else typeof b.delete=="number"&&typeof _.retain=="number"&&w.push(b)}return w.chop()},h.prototype.concat=function(d){var f=new h(this.ops.slice());return d.ops.length>0&&(f.push(d.ops[0]),f.ops=f.ops.concat(d.ops.slice(1))),f},h.prototype.diff=function(d,f){if(this.ops===d.ops)return new h;var p=[this,d].map(function(A){return A.map(function(_){if(_.insert!=null)return typeof _.insert=="string"?_.insert:u;throw new Error("diff() called "+(A===d?"on":"with")+" non-document")}).join("")}),g=new h,E=i(p[0],p[1],f),v=c.iterator(this.ops),w=c.iterator(d.ops);return E.forEach(function(A){for(var _=A[1].length;_>0;){var b=0;switch(A[0]){case i.INSERT:b=Math.min(w.peekLength(),_),g.push(w.next(b));break;case i.DELETE:b=Math.min(_,v.peekLength()),v.next(b),g.delete(b);break;case i.EQUAL:b=Math.min(v.peekLength(),w.peekLength(),_);var N=v.next(b),y=w.next(b);o(N.insert,y.insert)?g.retain(b,c.attributes.diff(N.attributes,y.attributes)):g.push(y).delete(b)}_-=b}}),g.chop()},h.prototype.eachLine=function(d,f){f=f||`
`;for(var p=c.iterator(this.ops),g=new h,E=0;p.hasNext();){if(p.peekType()!=="insert")return;var v=p.peek(),w=c.length(v)-p.peekLength(),A=typeof v.insert=="string"?v.insert.indexOf(f,w)-w:-1;if(A<0)g.push(p.next());else if(A>0)g.push(p.next(A));else{if(d(g,p.next(1).attributes||{},E)===!1)return;E+=1,g=new h}}g.length()>0&&d(g,{},E)},h.prototype.transform=function(d,f){if(f=!!f,typeof d=="number")return this.transformPosition(d,f);for(var p=c.iterator(this.ops),g=c.iterator(d.ops),E=new h;p.hasNext()||g.hasNext();)if(p.peekType()!=="insert"||!f&&g.peekType()==="insert")if(g.peekType()==="insert")E.push(g.next());else{var v=Math.min(p.peekLength(),g.peekLength()),w=p.next(v),A=g.next(v);if(w.delete)continue;A.delete?E.push(A):E.retain(v,c.attributes.transform(w.attributes,A.attributes,f))}else E.retain(c.length(p.next()));return E.chop()},h.prototype.transformPosition=function(d,f){f=!!f;for(var p=c.iterator(this.ops),g=0;p.hasNext()&&g<=d;){var E=p.peekLength(),v=p.peekType();p.next(),v!=="delete"?(v==="insert"&&(g<d||!f)&&(d+=E),g+=E):d-=Math.min(E,d-g)}return d},e.exports=h},function(e,r,s){var i=s(7),o=s(20),a=s(24),c=s(27),u=s(28),h=s(31),d=Date.prototype.getTime;function f(E,v,w){var A=w||{};return!!(A.strict?a(E,v):E===v)||(!E||!v||typeof E!="object"&&typeof v!="object"?A.strict?a(E,v):E==v:function(_,b,N){var y,S;if(typeof _!=typeof b||p(_)||p(b)||_.prototype!==b.prototype||o(_)!==o(b))return!1;var x=c(_),I=c(b);if(x!==I)return!1;if(x||I)return _.source===b.source&&u(_)===u(b);if(h(_)&&h(b))return d.call(_)===d.call(b);var Z=g(_),j=g(b);if(Z!==j)return!1;if(Z||j){if(_.length!==b.length)return!1;for(y=0;y<_.length;y++)if(_[y]!==b[y])return!1;return!0}if(typeof _!=typeof b)return!1;try{var k=i(_),P=i(b)}catch{return!1}if(k.length!==P.length)return!1;for(k.sort(),P.sort(),y=k.length-1;y>=0;y--)if(k[y]!=P[y])return!1;for(y=k.length-1;y>=0;y--)if(S=k[y],!f(_[S],b[S],N))return!1;return!0}(E,v,A))}function p(E){return E==null}function g(E){return!(!E||typeof E!="object"||typeof E.length!="number")&&typeof E.copy=="function"&&typeof E.slice=="function"&&!(E.length>0&&typeof E[0]!="number")}e.exports=f},function(e,r,s){var i=Array.prototype.slice,o=s(8),a=Object.keys,c=a?function(h){return a(h)}:s(19),u=Object.keys;c.shim=function(){return Object.keys?function(){var h=Object.keys(arguments);return h&&h.length===arguments.length}(1,2)||(Object.keys=function(h){return o(h)?u(i.call(h)):u(h)}):Object.keys=c,Object.keys||c},e.exports=c},function(e,r,s){var i=Object.prototype.toString;e.exports=function(o){var a=i.call(o),c=a==="[object Arguments]";return c||(c=a!=="[object Array]"&&o!==null&&typeof o=="object"&&typeof o.length=="number"&&o.length>=0&&i.call(o.callee)==="[object Function]"),c}},function(e,r,s){e.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var i={},o=Symbol("test"),a=Object(o);if(typeof o=="string"||Object.prototype.toString.call(o)!=="[object Symbol]"||Object.prototype.toString.call(a)!=="[object Symbol]")return!1;for(o in i[o]=42,i)return!1;if(typeof Object.keys=="function"&&Object.keys(i).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(i).length!==0)return!1;var c=Object.getOwnPropertySymbols(i);if(c.length!==1||c[0]!==o||!Object.prototype.propertyIsEnumerable.call(i,o))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var u=Object.getOwnPropertyDescriptor(i,o);if(u.value!==42||u.enumerable!==!0)return!1}return!0}},function(e,r,s){var i=s(2),o=s(4),a=o(i("String.prototype.indexOf"));e.exports=function(c,u){var h=i(c,!!u);return typeof h=="function"&&a(c,".prototype.")>-1?o(h):h}},function(e,r,s){var i=function(o){return o!=o};e.exports=function(o,a){return o===0&&a===0?1/o==1/a:o===a||!(!i(o)||!i(a))}},function(e,r,s){var i=s(11);e.exports=function(){return typeof Object.is=="function"?Object.is:i}},function(e,r,s){var i=s(29).functionsHaveConfigurableNames(),o=Object,a=TypeError;e.exports=function(){if(this!=null&&this!==o(this))throw new a("RegExp.prototype.flags getter called on non-object");var c="";return this.hasIndices&&(c+="d"),this.global&&(c+="g"),this.ignoreCase&&(c+="i"),this.multiline&&(c+="m"),this.dotAll&&(c+="s"),this.unicode&&(c+="u"),this.sticky&&(c+="y"),c},i&&Object.defineProperty&&Object.defineProperty(e.exports,"name",{value:"get flags"})},function(e,r,s){var i=s(13),o=s(0).supportsDescriptors,a=Object.getOwnPropertyDescriptor;e.exports=function(){if(o&&/a/gim.flags==="gim"){var c=a(RegExp.prototype,"flags");if(c&&typeof c.get=="function"&&typeof RegExp.prototype.dotAll=="boolean"&&typeof RegExp.prototype.hasIndices=="boolean"){var u="",h={};if(Object.defineProperty(h,"hasIndices",{get:function(){u+="d"}}),Object.defineProperty(h,"sticky",{get:function(){u+="y"}}),u==="dy")return c.get}}return i}},function(e,r,s){var i=Object.prototype.hasOwnProperty,o=Object.prototype.toString,a=Object.defineProperty,c=Object.getOwnPropertyDescriptor,u=function(p){return typeof Array.isArray=="function"?Array.isArray(p):o.call(p)==="[object Array]"},h=function(p){if(!p||o.call(p)!=="[object Object]")return!1;var g,E=i.call(p,"constructor"),v=p.constructor&&p.constructor.prototype&&i.call(p.constructor.prototype,"isPrototypeOf");if(p.constructor&&!E&&!v)return!1;for(g in p);return g===void 0||i.call(p,g)},d=function(p,g){a&&g.name==="__proto__"?a(p,g.name,{enumerable:!0,configurable:!0,value:g.newValue,writable:!0}):p[g.name]=g.newValue},f=function(p,g){if(g==="__proto__"){if(!i.call(p,g))return;if(c)return c(p,g).value}return p[g]};e.exports=function p(){var g,E,v,w,A,_,b=arguments[0],N=1,y=arguments.length,S=!1;for(typeof b=="boolean"&&(S=b,b=arguments[1]||{},N=2),(b==null||typeof b!="object"&&typeof b!="function")&&(b={});N<y;++N)if((g=arguments[N])!=null)for(E in g)v=f(b,E),b!==(w=f(g,E))&&(S&&w&&(h(w)||(A=u(w)))?(A?(A=!1,_=v&&u(v)?v:[]):_=v&&h(v)?v:{},d(b,{name:E,newValue:p(S,_,w)})):w!==void 0&&d(b,{name:E,newValue:w}));return b}},function(e,r,s){const i=typeof URL>"u"?s(33).URL:URL,o=(c,u)=>u.some(h=>h instanceof RegExp?h.test(c):h===c),a=(c,u)=>{if(u={defaultProtocol:"http:",normalizeProtocol:!0,forceHttp:!1,forceHttps:!1,stripAuthentication:!0,stripHash:!1,stripWWW:!0,removeQueryParameters:[/^utm_\w+/i],removeTrailingSlash:!0,removeDirectoryIndex:!1,sortQueryParameters:!0,...u},Reflect.has(u,"normalizeHttps"))throw new Error("options.normalizeHttps is renamed to options.forceHttp");if(Reflect.has(u,"normalizeHttp"))throw new Error("options.normalizeHttp is renamed to options.forceHttps");if(Reflect.has(u,"stripFragment"))throw new Error("options.stripFragment is renamed to options.stripHash");if(c=c.trim(),/^data:/i.test(c))return((f,{stripHash:p})=>{const g=f.match(/^data:([^,]*?),([^#]*?)(?:#(.*))?$/);if(!g)throw new Error("Invalid URL: "+f);const E=g[1].split(";"),v=g[2],w=p?"":g[3];let A=!1;E[E.length-1]==="base64"&&(E.pop(),A=!0);const _=(E.shift()||"").toLowerCase(),b=[...E.map(N=>{let[y,S=""]=N.split("=").map(x=>x.trim());return y==="charset"&&(S=S.toLowerCase(),S==="us-ascii")?"":`${y}${S?"="+S:""}`}).filter(Boolean)];return A&&b.push("base64"),(b.length!==0||_&&_!=="text/plain")&&b.unshift(_),`data:${b.join(";")},${A?v.trim():v}${w?"#"+w:""}`})(c,u);const h=c.startsWith("//");!h&&/^\.*\//.test(c)||(c=c.replace(/^(?!(?:\w+:)?\/\/)|^\/\//,u.defaultProtocol));const d=new i(c);if(u.forceHttp&&u.forceHttps)throw new Error("The `forceHttp` and `forceHttps` options cannot be used together");if(u.forceHttp&&d.protocol==="https:"&&(d.protocol="http:"),u.forceHttps&&d.protocol==="http:"&&(d.protocol="https:"),u.stripAuthentication&&(d.username="",d.password=""),u.stripHash&&(d.hash=""),d.pathname&&(d.pathname=d.pathname.replace(/((?!:).|^)\/{2,}/g,(f,p)=>/^(?!\/)/g.test(p)?p+"/":"/")),d.pathname&&(d.pathname=decodeURI(d.pathname)),u.removeDirectoryIndex===!0&&(u.removeDirectoryIndex=[/^index\.[a-z]+$/]),Array.isArray(u.removeDirectoryIndex)&&u.removeDirectoryIndex.length>0){let f=d.pathname.split("/");const p=f[f.length-1];o(p,u.removeDirectoryIndex)&&(f=f.slice(0,f.length-1),d.pathname=f.slice(1).join("/")+"/")}if(d.hostname&&(d.hostname=d.hostname.replace(/\.$/,""),u.stripWWW&&/^www\.([a-z\-\d]{2,63})\.([a-z.]{2,5})$/.test(d.hostname)&&(d.hostname=d.hostname.replace(/^www\./,""))),Array.isArray(u.removeQueryParameters))for(const f of[...d.searchParams.keys()])o(f,u.removeQueryParameters)&&d.searchParams.delete(f);return u.sortQueryParameters&&d.searchParams.sort(),u.removeTrailingSlash&&(d.pathname=d.pathname.replace(/\/$/,"")),c=d.toString(),!u.removeTrailingSlash&&d.pathname!=="/"||d.hash!==""||(c=c.replace(/\/$/,"")),h&&!u.normalizeProtocol&&(c=c.replace(/^http:\/\//,"//")),u.stripProtocol&&(c=c.replace(/^(?:https?:)?\/\//,"")),c};e.exports=a,e.exports.default=a},function(e,r,s){s.r(r),s.d(r,"default",function(){return v});var i=s(5),o=s.n(i),a=s(16),c=s.n(a);function u(w,A){return function(_){if(Array.isArray(_))return _}(w)||function(_,b){var N=_==null?null:typeof Symbol<"u"&&_[Symbol.iterator]||_["@@iterator"];if(N!=null){var y,S,x=[],I=!0,Z=!1;try{for(N=N.call(_);!(I=(y=N.next()).done)&&(x.push(y.value),!b||x.length!==b);I=!0);}catch(j){Z=!0,S=j}finally{try{I||N.return==null||N.return()}finally{if(Z)throw S}}return x}}(w,A)||function(_,b){if(_){if(typeof _=="string")return h(_,b);var N=Object.prototype.toString.call(_).slice(8,-1);if(N==="Object"&&_.constructor&&(N=_.constructor.name),N==="Map"||N==="Set")return Array.from(_);if(N==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(N))return h(_,b)}}(w,A)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function h(w,A){(A==null||A>w.length)&&(A=w.length);for(var _=0,b=new Array(A);_<A;_++)b[_]=w[_];return b}function d(w,A){var _=Object.keys(w);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(w);A&&(b=b.filter(function(N){return Object.getOwnPropertyDescriptor(w,N).enumerable})),_.push.apply(_,b)}return _}function f(w){for(var A=1;A<arguments.length;A++){var _=arguments[A]!=null?arguments[A]:{};A%2?d(Object(_),!0).forEach(function(b){p(w,b,_[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(w,Object.getOwnPropertyDescriptors(_)):d(Object(_)).forEach(function(b){Object.defineProperty(w,b,Object.getOwnPropertyDescriptor(_,b))})}return w}function p(w,A,_){return A in w?Object.defineProperty(w,A,{value:_,enumerable:!0,configurable:!0,writable:!0}):w[A]=_,w}function g(w,A){for(var _=0;_<A.length;_++){var b=A[_];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(w,b.key,b)}}var E={globalRegularExpression:/(https?:\/\/|www\.)[\w-\.]+\.[\w-\.]+(\/([\S]+)?)?/gi,urlRegularExpression:/(https?:\/\/|www\.)[\w-\.]+\.[\w-\.]+(\/([\S]+)?)?/gi,globalMailRegularExpression:/([\w-\.]+@[\w-\.]+\.[\w-\.]+)/gi,mailRegularExpression:/([\w-\.]+@[\w-\.]+\.[\w-\.]+)/gi,normalizeRegularExpression:/(https?:\/\/|www\.)[\S]+/i,normalizeUrlOptions:{stripWWW:!1}},v=function(){function w(b,N){var y=this;(function(S,x){if(!(S instanceof x))throw new TypeError("Cannot call a class as a function")})(this,w),this.quill=b,N=N||{},this.options=f(f({},E),N),this.urlNormalizer=function(S){return y.normalize(S)},this.mailNormalizer=function(S){return"mailto:".concat(S)},this.registerTypeListener(),this.registerPasteListener(),this.registerBlurListener()}var A,_;return A=w,(_=[{key:"registerPasteListener",value:function(){var b=this;this.quill.clipboard.addMatcher("A",function(N,y){var S,x=N.getAttribute("href"),I=(S=y.ops[0])===null||S===void 0?void 0:S.attributes;return(I==null?void 0:I.link)!=null&&(I.link=x),y}),this.quill.clipboard.addMatcher(Node.TEXT_NODE,function(N,y){if(typeof N.data=="string"){var S=b.options.globalRegularExpression,x=b.options.globalMailRegularExpression;S.lastIndex=0,x.lastIndex=0;for(var I=new o.a,Z=0,j=S.exec(N.data),k=x.exec(N.data),P=function(F,G,W){var z=N.data.substring(Z,F.index);I.insert(z);var H=F[0];return I.insert(H,{link:W(H)}),Z=G.lastIndex,G.exec(N.data)};j!==null||k!==null;)if(j===null)k=P(k,x,b.mailNormalizer);else if(k===null)j=P(j,S,b.urlNormalizer);else if(k.index<=j.index){for(;j!==null&&j.index<x.lastIndex;)j=S.exec(N.data);k=P(k,x,b.mailNormalizer)}else{for(;k!==null&&k.index<S.lastIndex;)k=x.exec(N.data);j=P(j,S,b.urlNormalizer)}if(Z>0){var D=N.data.substring(Z);I.insert(D),y.ops=I.ops}return y}})}},{key:"registerTypeListener",value:function(){var b=this;this.quill.on("text-change",function(N){var y=N.ops;if(!(!y||y.length<1||y.length>2)){var S=y[y.length-1];S.insert&&typeof S.insert=="string"&&S.insert.match(/\s/)&&b.checkTextForUrl(!!S.insert.match(/ |\t/))}})}},{key:"registerBlurListener",value:function(){var b=this;this.quill.root.addEventListener("blur",function(){b.checkTextForUrl()})}},{key:"checkTextForUrl",value:function(){var b=arguments.length>0&&arguments[0]!==void 0&&arguments[0],N=this.quill.getSelection();if(N){var y=this.quill.getLeaf(N.index),S=u(y,1),x=S[0],I=this.quill.getIndex(x);if(x.text){var Z=N.index-I,j=x.text.slice(0,Z);if(j&&x.parent.domNode.localName!=="a"){var k=x.text[Z];if(k==null||!k.match(/\S/)){var P=b?/\s\s$/:/\s$/;if(!j.match(P)){var D=j.match(this.options.urlRegularExpression),F=j.match(this.options.mailRegularExpression);D?this.handleMatches(I,j,D,this.urlNormalizer):F&&this.handleMatches(I,j,F,this.mailNormalizer)}}}}}}},{key:"handleMatches",value:function(b,N,y,S){var x=y.pop(),I=N.lastIndexOf(x);N.split(x).pop().match(/\S/)||this.updateText(b+I,x.trim(),S)}},{key:"updateText",value:function(b,N,y){var S=new o.a().retain(b).retain(N.length,{link:y(N)});this.quill.updateContents(S)}},{key:"normalize",value:function(b){if(this.options.normalizeRegularExpression.test(b))try{return c()(b,this.options.normalizeUrlOptions)}catch(N){console.error(N)}return b}}])&&g(A.prototype,_),Object.defineProperty(A,"prototype",{writable:!1}),w}();window!=null&&window.Quill&&window.Quill.register("modules/magicUrl",v)},function(e,r){function s(h,d,f){if(h==d)return h?[[0,h]]:[];(f<0||h.length<f)&&(f=null);var p=o(h,d),g=h.substring(0,p);p=a(h=h.substring(p),d=d.substring(p));var E=h.substring(h.length-p),v=function(w,A){var _;if(!w)return[[1,A]];if(!A)return[[-1,w]];var b=w.length>A.length?w:A,N=w.length>A.length?A:w,y=b.indexOf(N);if(y!=-1)return _=[[1,b.substring(0,y)],[0,N],[1,b.substring(y+N.length)]],w.length>A.length&&(_[0][0]=_[2][0]=-1),_;if(N.length==1)return[[-1,w],[1,A]];var S=function(F,G){var W=F.length>G.length?F:G,z=F.length>G.length?G:F;if(W.length<4||2*z.length<W.length)return null;function H(ft,mt,pt){for(var lt,bt,xt,wt,At=ft.substring(pt,pt+Math.floor(ft.length/4)),ht=-1,yt="";(ht=mt.indexOf(At,ht+1))!=-1;){var Mt=o(ft.substring(pt),mt.substring(ht)),Et=a(ft.substring(0,pt),mt.substring(0,ht));yt.length<Et+Mt&&(yt=mt.substring(ht-Et,ht)+mt.substring(ht,ht+Mt),lt=ft.substring(0,pt-Et),bt=ft.substring(pt+Mt),xt=mt.substring(0,ht-Et),wt=mt.substring(ht+Mt))}return 2*yt.length>=ft.length?[lt,bt,xt,wt,yt]:null}var $,nt,J,B,R,O=H(W,z,Math.ceil(W.length/4)),M=H(W,z,Math.ceil(W.length/2));if(!O&&!M)return null;$=M?O&&O[4].length>M[4].length?O:M:O,F.length>G.length?(nt=$[0],J=$[1],B=$[2],R=$[3]):(B=$[0],R=$[1],nt=$[2],J=$[3]);var st=$[4];return[nt,J,B,R,st]}(w,A);if(S){var x=S[0],I=S[1],Z=S[2],j=S[3],k=S[4],P=s(x,Z),D=s(I,j);return P.concat([[0,k]],D)}return function(F,G){for(var W=F.length,z=G.length,H=Math.ceil((W+z)/2),$=H,nt=2*H,J=new Array(nt),B=new Array(nt),R=0;R<nt;R++)J[R]=-1,B[R]=-1;J[$+1]=0,B[$+1]=0;for(var O=W-z,M=O%2!=0,st=0,ft=0,mt=0,pt=0,lt=0;lt<H;lt++){for(var bt=-lt+st;bt<=lt-ft;bt+=2){for(var xt=$+bt,wt=(Et=bt==-lt||bt!=lt&&J[xt-1]<J[xt+1]?J[xt+1]:J[xt-1]+1)-bt;Et<W&&wt<z&&F.charAt(Et)==G.charAt(wt);)Et++,wt++;if(J[xt]=Et,Et>W)ft+=2;else if(wt>z)st+=2;else if(M&&(yt=$+O-bt)>=0&&yt<nt&&B[yt]!=-1){var At=W-B[yt];if(Et>=At)return i(F,G,Et,wt)}}for(var ht=-lt+mt;ht<=lt-pt;ht+=2){for(var yt=$+ht,Mt=(At=ht==-lt||ht!=lt&&B[yt-1]<B[yt+1]?B[yt+1]:B[yt-1]+1)-ht;At<W&&Mt<z&&F.charAt(W-At-1)==G.charAt(z-Mt-1);)At++,Mt++;if(B[yt]=At,At>W)pt+=2;else if(Mt>z)mt+=2;else if(!M&&(xt=$+O-ht)>=0&&xt<nt&&J[xt]!=-1){var Et=J[xt];if(wt=$+Et-xt,Et>=(At=W-At))return i(F,G,Et,wt)}}}return[[-1,F],[1,G]]}(w,A)}(h=h.substring(0,h.length-p),d=d.substring(0,d.length-p));return g&&v.unshift([0,g]),E&&v.push([0,E]),function w(A){A.push([0,""]);for(var _,b=0,N=0,y=0,S="",x="";b<A.length;)switch(A[b][0]){case 1:y++,x+=A[b][1],b++;break;case-1:N++,S+=A[b][1],b++;break;case 0:N+y>1?(N!==0&&y!==0&&((_=o(x,S))!==0&&(b-N-y>0&&A[b-N-y-1][0]==0?A[b-N-y-1][1]+=x.substring(0,_):(A.splice(0,0,[0,x.substring(0,_)]),b++),x=x.substring(_),S=S.substring(_)),(_=a(x,S))!==0&&(A[b][1]=x.substring(x.length-_)+A[b][1],x=x.substring(0,x.length-_),S=S.substring(0,S.length-_))),N===0?A.splice(b-y,N+y,[1,x]):y===0?A.splice(b-N,N+y,[-1,S]):A.splice(b-N-y,N+y,[-1,S],[1,x]),b=b-N-y+(N?1:0)+(y?1:0)+1):b!==0&&A[b-1][0]==0?(A[b-1][1]+=A[b][1],A.splice(b,1)):b++,y=0,N=0,S="",x=""}A[A.length-1][1]===""&&A.pop();var I=!1;for(b=1;b<A.length-1;)A[b-1][0]==0&&A[b+1][0]==0&&(A[b][1].substring(A[b][1].length-A[b-1][1].length)==A[b-1][1]?(A[b][1]=A[b-1][1]+A[b][1].substring(0,A[b][1].length-A[b-1][1].length),A[b+1][1]=A[b-1][1]+A[b+1][1],A.splice(b-1,1),I=!0):A[b][1].substring(0,A[b+1][1].length)==A[b+1][1]&&(A[b-1][1]+=A[b+1][1],A[b][1]=A[b][1].substring(A[b+1][1].length)+A[b+1][1],A.splice(b+1,1),I=!0)),b++;I&&w(A)}(v),f!=null&&(v=function(w,A){var _=function(I,Z){if(Z===0)return[0,I];for(var j=0,k=0;k<I.length;k++){var P=I[k];if(P[0]===-1||P[0]===0){var D=j+P[1].length;if(Z===D)return[k+1,I];if(Z<D){I=I.slice();var F=Z-j,G=[P[0],P[1].slice(0,F)],W=[P[0],P[1].slice(F)];return I.splice(k,1,G,W),[k+1,I]}j=D}}throw new Error("cursor_pos is out of bounds!")}(w,A),b=_[1],N=_[0],y=b[N],S=b[N+1];if(y==null||y[0]!==0)return w;if(S!=null&&y[1]+S[1]===S[1]+y[1])return b.splice(N,2,S,y),u(b,N,2);if(S!=null&&S[1].indexOf(y[1])===0){b.splice(N,2,[S[0],y[1]],[0,y[1]]);var x=S[1].slice(y[1].length);return x.length>0&&b.splice(N+2,0,[S[0],x]),u(b,N,3)}return w}(v,f)),v=function(w){for(var A=!1,_=function(S){return S.charCodeAt(0)>=56320&&S.charCodeAt(0)<=57343},b=2;b<w.length;b+=1)w[b-2][0]===0&&(N=w[b-2][1]).charCodeAt(N.length-1)>=55296&&N.charCodeAt(N.length-1)<=56319&&w[b-1][0]===-1&&_(w[b-1][1])&&w[b][0]===1&&_(w[b][1])&&(A=!0,w[b-1][1]=w[b-2][1].slice(-1)+w[b-1][1],w[b][1]=w[b-2][1].slice(-1)+w[b][1],w[b-2][1]=w[b-2][1].slice(0,-1));var N;if(!A)return w;var y=[];for(b=0;b<w.length;b+=1)w[b][1].length>0&&y.push(w[b]);return y}(v)}function i(h,d,f,p){var g=h.substring(0,f),E=d.substring(0,p),v=h.substring(f),w=d.substring(p),A=s(g,E),_=s(v,w);return A.concat(_)}function o(h,d){if(!h||!d||h.charAt(0)!=d.charAt(0))return 0;for(var f=0,p=Math.min(h.length,d.length),g=p,E=0;f<g;)h.substring(E,g)==d.substring(E,g)?E=f=g:p=g,g=Math.floor((p-f)/2+f);return g}function a(h,d){if(!h||!d||h.charAt(h.length-1)!=d.charAt(d.length-1))return 0;for(var f=0,p=Math.min(h.length,d.length),g=p,E=0;f<g;)h.substring(h.length-g,h.length-E)==d.substring(d.length-g,d.length-E)?E=f=g:p=g,g=Math.floor((p-f)/2+f);return g}var c=s;function u(h,d,f){for(var p=d+f-1;p>=0&&p>=d-1;p--)if(p+1<h.length){var g=h[p],E=h[p+1];g[0]===E[1]&&h.splice(p,2,[g[0],g[1]+E[1]])}return h}c.INSERT=1,c.DELETE=-1,c.EQUAL=0,e.exports=c},function(e,r,s){var i;if(!Object.keys){var o=Object.prototype.hasOwnProperty,a=Object.prototype.toString,c=s(8),u=Object.prototype.propertyIsEnumerable,h=!u.call({toString:null},"toString"),d=u.call(function(){},"prototype"),f=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],p=function(v){var w=v.constructor;return w&&w.prototype===v},g={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},E=function(){if(typeof window>"u")return!1;for(var v in window)try{if(!g["$"+v]&&o.call(window,v)&&window[v]!==null&&typeof window[v]=="object")try{p(window[v])}catch{return!0}}catch{return!0}return!1}();i=function(v){var w=v!==null&&typeof v=="object",A=a.call(v)==="[object Function]",_=c(v),b=w&&a.call(v)==="[object String]",N=[];if(!w&&!A&&!_)throw new TypeError("Object.keys called on a non-object");var y=d&&A;if(b&&v.length>0&&!o.call(v,0))for(var S=0;S<v.length;++S)N.push(String(S));if(_&&v.length>0)for(var x=0;x<v.length;++x)N.push(String(x));else for(var I in v)y&&I==="prototype"||!o.call(v,I)||N.push(String(I));if(h)for(var Z=function(k){if(typeof window>"u"||!E)return p(k);try{return p(k)}catch{return!1}}(v),j=0;j<f.length;++j)Z&&f[j]==="constructor"||!o.call(v,f[j])||N.push(f[j]);return N}}e.exports=i},function(e,r,s){var i=s(1)(),o=s(10)("Object.prototype.toString"),a=function(h){return!(i&&h&&typeof h=="object"&&Symbol.toStringTag in h)&&o(h)==="[object Arguments]"},c=function(h){return!!a(h)||h!==null&&typeof h=="object"&&typeof h.length=="number"&&h.length>=0&&o(h)!=="[object Array]"&&o(h.callee)==="[object Function]"},u=function(){return a(arguments)}();a.isLegacyArguments=c,e.exports=u?a:c},function(e,r,s){var i=typeof Symbol<"u"&&Symbol,o=s(9);e.exports=function(){return typeof i=="function"&&typeof Symbol=="function"&&typeof i("foo")=="symbol"&&typeof Symbol("bar")=="symbol"&&o()}},function(e,r,s){var i="Function.prototype.bind called on incompatible ",o=Array.prototype.slice,a=Object.prototype.toString;e.exports=function(c){var u=this;if(typeof u!="function"||a.call(u)!=="[object Function]")throw new TypeError(i+u);for(var h,d=o.call(arguments,1),f=function(){if(this instanceof h){var w=u.apply(this,d.concat(o.call(arguments)));return Object(w)===w?w:this}return u.apply(c,d.concat(o.call(arguments)))},p=Math.max(0,u.length-d.length),g=[],E=0;E<p;E++)g.push("$"+E);if(h=Function("binder","return function ("+g.join(",")+"){ return binder.apply(this,arguments); }")(f),u.prototype){var v=function(){};v.prototype=u.prototype,h.prototype=new v,v.prototype=null}return h}},function(e,r,s){var i=s(3);e.exports=i.call(Function.call,Object.prototype.hasOwnProperty)},function(e,r,s){var i=s(0),o=s(4),a=s(11),c=s(12),u=s(26),h=o(c(),Object);i(h,{getPolyfill:c,implementation:a,shim:u}),e.exports=h},function(e,r,s){var i=s(2)("%Object.defineProperty%",!0),o=function(){if(i)try{return i({},"a",{value:1}),!0}catch{return!1}return!1};o.hasArrayLengthDefineBug=function(){if(!o())return null;try{return i([],"length",{value:1}).length!==1}catch{return!0}},e.exports=o},function(e,r,s){var i=s(12),o=s(0);e.exports=function(){var a=i();return o(Object,{is:a},{is:function(){return Object.is!==a}}),a}},function(e,r,s){var i,o,a,c,u=s(10),h=s(1)();if(h){i=u("Object.prototype.hasOwnProperty"),o=u("RegExp.prototype.exec"),a={};var d=function(){throw a};c={toString:d,valueOf:d},typeof Symbol.toPrimitive=="symbol"&&(c[Symbol.toPrimitive]=d)}var f=u("Object.prototype.toString"),p=Object.getOwnPropertyDescriptor;e.exports=h?function(g){if(!g||typeof g!="object")return!1;var E=p(g,"lastIndex");if(!(E&&i(E,"value")))return!1;try{o(g,c)}catch(v){return v===a}}:function(g){return!(!g||typeof g!="object"&&typeof g!="function")&&f(g)==="[object RegExp]"}},function(e,r,s){var i=s(0),o=s(4),a=s(13),c=s(14),u=s(30),h=o(c());i(h,{getPolyfill:c,implementation:a,shim:u}),e.exports=h},function(e,r,s){var i=function(){return typeof(function(){}).name=="string"},o=Object.getOwnPropertyDescriptor;if(o)try{o([],"length")}catch{o=null}i.functionsHaveConfigurableNames=function(){if(!i()||!o)return!1;var c=o(function(){},"name");return!!c&&!!c.configurable};var a=Function.prototype.bind;i.boundFunctionsHaveNames=function(){return i()&&typeof a=="function"&&(function(){}).bind().name!==""},e.exports=i},function(e,r,s){var i=s(0).supportsDescriptors,o=s(14),a=Object.getOwnPropertyDescriptor,c=Object.defineProperty,u=TypeError,h=Object.getPrototypeOf,d=/a/;e.exports=function(){if(!i||!h)throw new u("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var f=o(),p=h(d),g=a(p,"flags");return g&&g.get===f||c(p,"flags",{configurable:!0,enumerable:!1,get:f}),f}},function(e,r,s){var i=Date.prototype.getDay,o=Object.prototype.toString,a=s(1)();e.exports=function(c){return typeof c=="object"&&c!==null&&(a?function(u){try{return i.call(u),!0}catch{return!1}}(c):o.call(c)==="[object Date]")}},function(e,r,s){var i=s(6),o=s(15),a={attributes:{compose:function(u,h,d){typeof u!="object"&&(u={}),typeof h!="object"&&(h={});var f=o(!0,{},h);for(var p in d||(f=Object.keys(f).reduce(function(g,E){return f[E]!=null&&(g[E]=f[E]),g},{})),u)u[p]!==void 0&&h[p]===void 0&&(f[p]=u[p]);return Object.keys(f).length>0?f:void 0},diff:function(u,h){typeof u!="object"&&(u={}),typeof h!="object"&&(h={});var d=Object.keys(u).concat(Object.keys(h)).reduce(function(f,p){return i(u[p],h[p])||(f[p]=h[p]===void 0?null:h[p]),f},{});return Object.keys(d).length>0?d:void 0},transform:function(u,h,d){if(typeof u!="object")return h;if(typeof h=="object"){if(!d)return h;var f=Object.keys(h).reduce(function(p,g){return u[g]===void 0&&(p[g]=h[g]),p},{});return Object.keys(f).length>0?f:void 0}}},iterator:function(u){return new c(u)},length:function(u){return typeof u.delete=="number"?u.delete:typeof u.retain=="number"?u.retain:typeof u.insert=="string"?u.insert.length:1}};function c(u){this.ops=u,this.index=0,this.offset=0}c.prototype.hasNext=function(){return this.peekLength()<1/0},c.prototype.next=function(u){u||(u=1/0);var h=this.ops[this.index];if(h){var d=this.offset,f=a.length(h);if(u>=f-d?(u=f-d,this.index+=1,this.offset=0):this.offset+=u,typeof h.delete=="number")return{delete:u};var p={};return h.attributes&&(p.attributes=h.attributes),typeof h.retain=="number"?p.retain=u:typeof h.insert=="string"?p.insert=h.insert.substr(d,u):p.insert=h.insert,p}return{retain:1/0}},c.prototype.peek=function(){return this.ops[this.index]},c.prototype.peekLength=function(){return this.ops[this.index]?a.length(this.ops[this.index])-this.offset:1/0},c.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},c.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var u=this.offset,h=this.index,d=this.next(),f=this.ops.slice(this.index);return this.offset=u,this.index=h,[d].concat(f)}return[]},e.exports=a},function(e,r,s){var i=s(34),o=s(37);function a(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}r.parse=N,r.resolve=function(y,S){return N(y,!1,!0).resolve(S)},r.resolveObject=function(y,S){return y?N(y,!1,!0).resolveObject(S):S},r.format=function(y){return o.isString(y)&&(y=N(y)),y instanceof a?y.format():a.prototype.format.call(y)},r.Url=a;var c=/^([a-z0-9.+-]+:)/i,u=/:[0-9]*$/,h=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,d=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r",`
`,"	"]),f=["'"].concat(d),p=["%","/","?",";","#"].concat(f),g=["/","?","#"],E=/^[+a-z0-9A-Z_-]{0,63}$/,v=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,w={javascript:!0,"javascript:":!0},A={javascript:!0,"javascript:":!0},_={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},b=s(38);function N(y,S,x){if(y&&o.isObject(y)&&y instanceof a)return y;var I=new a;return I.parse(y,S,x),I}a.prototype.parse=function(y,S,x){if(!o.isString(y))throw new TypeError("Parameter 'url' must be a string, not "+typeof y);var I=y.indexOf("?"),Z=I!==-1&&I<y.indexOf("#")?"?":"#",j=y.split(Z);j[0]=j[0].replace(/\\/g,"/");var k=y=j.join(Z);if(k=k.trim(),!x&&y.split("#").length===1){var P=h.exec(k);if(P)return this.path=k,this.href=k,this.pathname=P[1],P[2]?(this.search=P[2],this.query=S?b.parse(this.search.substr(1)):this.search.substr(1)):S&&(this.search="",this.query={}),this}var D=c.exec(k);if(D){var F=(D=D[0]).toLowerCase();this.protocol=F,k=k.substr(D.length)}if(x||D||k.match(/^\/\/[^@\/]+@[^@\/]+/)){var G=k.substr(0,2)==="//";!G||D&&A[D]||(k=k.substr(2),this.slashes=!0)}if(!A[D]&&(G||D&&!_[D])){for(var W,z,H=-1,$=0;$<g.length;$++)(nt=k.indexOf(g[$]))!==-1&&(H===-1||nt<H)&&(H=nt);for((z=H===-1?k.lastIndexOf("@"):k.lastIndexOf("@",H))!==-1&&(W=k.slice(0,z),k=k.slice(z+1),this.auth=decodeURIComponent(W)),H=-1,$=0;$<p.length;$++){var nt;(nt=k.indexOf(p[$]))!==-1&&(H===-1||nt<H)&&(H=nt)}H===-1&&(H=k.length),this.host=k.slice(0,H),k=k.slice(H),this.parseHost(),this.hostname=this.hostname||"";var J=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!J)for(var B=this.hostname.split(/\./),R=($=0,B.length);$<R;$++){var O=B[$];if(O&&!O.match(E)){for(var M="",st=0,ft=O.length;st<ft;st++)O.charCodeAt(st)>127?M+="x":M+=O[st];if(!M.match(E)){var mt=B.slice(0,$),pt=B.slice($+1),lt=O.match(v);lt&&(mt.push(lt[1]),pt.unshift(lt[2])),pt.length&&(k="/"+pt.join(".")+k),this.hostname=mt.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),J||(this.hostname=i.toASCII(this.hostname));var bt=this.port?":"+this.port:"",xt=this.hostname||"";this.host=xt+bt,this.href+=this.host,J&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),k[0]!=="/"&&(k="/"+k))}if(!w[F])for($=0,R=f.length;$<R;$++){var wt=f[$];if(k.indexOf(wt)!==-1){var At=encodeURIComponent(wt);At===wt&&(At=escape(wt)),k=k.split(wt).join(At)}}var ht=k.indexOf("#");ht!==-1&&(this.hash=k.substr(ht),k=k.slice(0,ht));var yt=k.indexOf("?");if(yt!==-1?(this.search=k.substr(yt),this.query=k.substr(yt+1),S&&(this.query=b.parse(this.query)),k=k.slice(0,yt)):S&&(this.search="",this.query={}),k&&(this.pathname=k),_[F]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){bt=this.pathname||"";var Mt=this.search||"";this.path=bt+Mt}return this.href=this.format(),this},a.prototype.format=function(){var y=this.auth||"";y&&(y=(y=encodeURIComponent(y)).replace(/%3A/i,":"),y+="@");var S=this.protocol||"",x=this.pathname||"",I=this.hash||"",Z=!1,j="";this.host?Z=y+this.host:this.hostname&&(Z=y+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(Z+=":"+this.port)),this.query&&o.isObject(this.query)&&Object.keys(this.query).length&&(j=b.stringify(this.query));var k=this.search||j&&"?"+j||"";return S&&S.substr(-1)!==":"&&(S+=":"),this.slashes||(!S||_[S])&&Z!==!1?(Z="//"+(Z||""),x&&x.charAt(0)!=="/"&&(x="/"+x)):Z||(Z=""),I&&I.charAt(0)!=="#"&&(I="#"+I),k&&k.charAt(0)!=="?"&&(k="?"+k),S+Z+(x=x.replace(/[?#]/g,function(P){return encodeURIComponent(P)}))+(k=k.replace("#","%23"))+I},a.prototype.resolve=function(y){return this.resolveObject(N(y,!1,!0)).format()},a.prototype.resolveObject=function(y){if(o.isString(y)){var S=new a;S.parse(y,!1,!0),y=S}for(var x=new a,I=Object.keys(this),Z=0;Z<I.length;Z++){var j=I[Z];x[j]=this[j]}if(x.hash=y.hash,y.href==="")return x.href=x.format(),x;if(y.slashes&&!y.protocol){for(var k=Object.keys(y),P=0;P<k.length;P++){var D=k[P];D!=="protocol"&&(x[D]=y[D])}return _[x.protocol]&&x.hostname&&!x.pathname&&(x.path=x.pathname="/"),x.href=x.format(),x}if(y.protocol&&y.protocol!==x.protocol){if(!_[y.protocol]){for(var F=Object.keys(y),G=0;G<F.length;G++){var W=F[G];x[W]=y[W]}return x.href=x.format(),x}if(x.protocol=y.protocol,y.host||A[y.protocol])x.pathname=y.pathname;else{for(var z=(y.pathname||"").split("/");z.length&&!(y.host=z.shift()););y.host||(y.host=""),y.hostname||(y.hostname=""),z[0]!==""&&z.unshift(""),z.length<2&&z.unshift(""),x.pathname=z.join("/")}if(x.search=y.search,x.query=y.query,x.host=y.host||"",x.auth=y.auth,x.hostname=y.hostname||y.host,x.port=y.port,x.pathname||x.search){var H=x.pathname||"",$=x.search||"";x.path=H+$}return x.slashes=x.slashes||y.slashes,x.href=x.format(),x}var nt=x.pathname&&x.pathname.charAt(0)==="/",J=y.host||y.pathname&&y.pathname.charAt(0)==="/",B=J||nt||x.host&&y.pathname,R=B,O=x.pathname&&x.pathname.split("/")||[],M=(z=y.pathname&&y.pathname.split("/")||[],x.protocol&&!_[x.protocol]);if(M&&(x.hostname="",x.port=null,x.host&&(O[0]===""?O[0]=x.host:O.unshift(x.host)),x.host="",y.protocol&&(y.hostname=null,y.port=null,y.host&&(z[0]===""?z[0]=y.host:z.unshift(y.host)),y.host=null),B=B&&(z[0]===""||O[0]==="")),J)x.host=y.host||y.host===""?y.host:x.host,x.hostname=y.hostname||y.hostname===""?y.hostname:x.hostname,x.search=y.search,x.query=y.query,O=z;else if(z.length)O||(O=[]),O.pop(),O=O.concat(z),x.search=y.search,x.query=y.query;else if(!o.isNullOrUndefined(y.search))return M&&(x.hostname=x.host=O.shift(),(lt=!!(x.host&&x.host.indexOf("@")>0)&&x.host.split("@"))&&(x.auth=lt.shift(),x.host=x.hostname=lt.shift())),x.search=y.search,x.query=y.query,o.isNull(x.pathname)&&o.isNull(x.search)||(x.path=(x.pathname?x.pathname:"")+(x.search?x.search:"")),x.href=x.format(),x;if(!O.length)return x.pathname=null,x.search?x.path="/"+x.search:x.path=null,x.href=x.format(),x;for(var st=O.slice(-1)[0],ft=(x.host||y.host||O.length>1)&&(st==="."||st==="..")||st==="",mt=0,pt=O.length;pt>=0;pt--)(st=O[pt])==="."?O.splice(pt,1):st===".."?(O.splice(pt,1),mt++):mt&&(O.splice(pt,1),mt--);if(!B&&!R)for(;mt--;mt)O.unshift("..");!B||O[0]===""||O[0]&&O[0].charAt(0)==="/"||O.unshift(""),ft&&O.join("/").substr(-1)!=="/"&&O.push("");var lt,bt=O[0]===""||O[0]&&O[0].charAt(0)==="/";return M&&(x.hostname=x.host=bt?"":O.length?O.shift():"",(lt=!!(x.host&&x.host.indexOf("@")>0)&&x.host.split("@"))&&(x.auth=lt.shift(),x.host=x.hostname=lt.shift())),(B=B||x.host&&O.length)&&!bt&&O.unshift(""),O.length?x.pathname=O.join("/"):(x.pathname=null,x.path=null),o.isNull(x.pathname)&&o.isNull(x.search)||(x.path=(x.pathname?x.pathname:"")+(x.search?x.search:"")),x.auth=y.auth||x.auth,x.slashes=x.slashes||y.slashes,x.href=x.format(),x},a.prototype.parseHost=function(){var y=this.host,S=u.exec(y);S&&((S=S[0])!==":"&&(this.port=S.substr(1)),y=y.substr(0,y.length-S.length)),y&&(this.hostname=y)}},function(e,r,s){(function(i,o){var a;/*! https://mths.be/punycode v1.4.1 by @mathias */(function(c){r&&r.nodeType,i&&i.nodeType;var u=typeof o=="object"&&o;u.global!==u&&u.window!==u&&u.self;var h,d=2147483647,f=/^xn--/,p=/[^\x20-\x7E]/,g=/[\x2E\u3002\uFF0E\uFF61]/g,E={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},v=Math.floor,w=String.fromCharCode;function A(j){throw new RangeError(E[j])}function _(j,k){for(var P=j.length,D=[];P--;)D[P]=k(j[P]);return D}function b(j,k){var P=j.split("@"),D="";return P.length>1&&(D=P[0]+"@",j=P[1]),D+_((j=j.replace(g,".")).split("."),k).join(".")}function N(j){for(var k,P,D=[],F=0,G=j.length;F<G;)(k=j.charCodeAt(F++))>=55296&&k<=56319&&F<G?(64512&(P=j.charCodeAt(F++)))==56320?D.push(((1023&k)<<10)+(1023&P)+65536):(D.push(k),F--):D.push(k);return D}function y(j){return _(j,function(k){var P="";return k>65535&&(P+=w((k-=65536)>>>10&1023|55296),k=56320|1023&k),P+=w(k)}).join("")}function S(j,k){return j+22+75*(j<26)-((k!=0)<<5)}function x(j,k,P){var D=0;for(j=P?v(j/700):j>>1,j+=v(j/k);j>455;D+=36)j=v(j/35);return v(D+36*j/(j+38))}function I(j){var k,P,D,F,G,W,z,H,$,nt,J,B=[],R=j.length,O=0,M=128,st=72;for((P=j.lastIndexOf("-"))<0&&(P=0),D=0;D<P;++D)j.charCodeAt(D)>=128&&A("not-basic"),B.push(j.charCodeAt(D));for(F=P>0?P+1:0;F<R;){for(G=O,W=1,z=36;F>=R&&A("invalid-input"),((H=(J=j.charCodeAt(F++))-48<10?J-22:J-65<26?J-65:J-97<26?J-97:36)>=36||H>v((d-O)/W))&&A("overflow"),O+=H*W,!(H<($=z<=st?1:z>=st+26?26:z-st));z+=36)W>v(d/(nt=36-$))&&A("overflow"),W*=nt;st=x(O-G,k=B.length+1,G==0),v(O/k)>d-M&&A("overflow"),M+=v(O/k),O%=k,B.splice(O++,0,M)}return y(B)}function Z(j){var k,P,D,F,G,W,z,H,$,nt,J,B,R,O,M,st=[];for(B=(j=N(j)).length,k=128,P=0,G=72,W=0;W<B;++W)(J=j[W])<128&&st.push(w(J));for(D=F=st.length,F&&st.push("-");D<B;){for(z=d,W=0;W<B;++W)(J=j[W])>=k&&J<z&&(z=J);for(z-k>v((d-P)/(R=D+1))&&A("overflow"),P+=(z-k)*R,k=z,W=0;W<B;++W)if((J=j[W])<k&&++P>d&&A("overflow"),J==k){for(H=P,$=36;!(H<(nt=$<=G?1:$>=G+26?26:$-G));$+=36)M=H-nt,O=36-nt,st.push(w(S(nt+M%O,0))),H=v(M/O);st.push(w(S(H,0))),G=x(P,R,D==F),P=0,++D}++P,++k}return st.join("")}h={version:"1.4.1",ucs2:{decode:N,encode:y},decode:I,encode:Z,toASCII:function(j){return b(j,function(k){return p.test(k)?"xn--"+Z(k):k})},toUnicode:function(j){return b(j,function(k){return f.test(k)?I(k.slice(4).toLowerCase()):k})}},(a=(function(){return h}).call(r,s,r,i))===void 0||(i.exports=a)})()}).call(this,s(35)(e),s(36))},function(e,r){e.exports=function(s){return s.webpackPolyfill||(s.deprecate=function(){},s.paths=[],s.children||(s.children=[]),Object.defineProperty(s,"loaded",{enumerable:!0,get:function(){return s.l}}),Object.defineProperty(s,"id",{enumerable:!0,get:function(){return s.i}}),s.webpackPolyfill=1),s}},function(e,r){var s;s=function(){return this}();try{s=s||new Function("return this")()}catch{typeof window=="object"&&(s=window)}e.exports=s},function(e,r,s){e.exports={isString:function(i){return typeof i=="string"},isObject:function(i){return typeof i=="object"&&i!==null},isNull:function(i){return i===null},isNullOrUndefined:function(i){return i==null}}},function(e,r,s){r.decode=r.parse=s(39),r.encode=r.stringify=s(40)},function(e,r,s){function i(a,c){return Object.prototype.hasOwnProperty.call(a,c)}e.exports=function(a,c,u,h){c=c||"&",u=u||"=";var d={};if(typeof a!="string"||a.length===0)return d;var f=/\+/g;a=a.split(c);var p=1e3;h&&typeof h.maxKeys=="number"&&(p=h.maxKeys);var g=a.length;p>0&&g>p&&(g=p);for(var E=0;E<g;++E){var v,w,A,_,b=a[E].replace(f,"%20"),N=b.indexOf(u);N>=0?(v=b.substr(0,N),w=b.substr(N+1)):(v=b,w=""),A=decodeURIComponent(v),_=decodeURIComponent(w),i(d,A)?o(d[A])?d[A].push(_):d[A]=[d[A],_]:d[A]=_}return d};var o=Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"}},function(e,r,s){var i=function(u){switch(typeof u){case"string":return u;case"boolean":return u?"true":"false";case"number":return isFinite(u)?u:"";default:return""}};e.exports=function(u,h,d,f){return h=h||"&",d=d||"=",u===null&&(u=void 0),typeof u=="object"?a(c(u),function(p){var g=encodeURIComponent(i(p))+d;return o(u[p])?a(u[p],function(E){return g+encodeURIComponent(i(E))}).join(h):g+encodeURIComponent(i(u[p]))}).join(h):f?encodeURIComponent(i(f))+d+encodeURIComponent(i(u)):""};var o=Array.isArray||function(u){return Object.prototype.toString.call(u)==="[object Array]"};function a(u,h){if(u.map)return u.map(h);for(var d=[],f=0;f<u.length;f++)d.push(h(u[f],f));return d}var c=Object.keys||function(u){var h=[];for(var d in u)Object.prototype.hasOwnProperty.call(u,d)&&h.push(d);return h}}])})})(Rl);var r1=Rl.exports;const n1=Di(r1),s1={class:"flex items-center align-middle p-4 max-w-full overflow-auto"},i1={class:"w-full"},o1=wa({__name:"editor",props:{modelValue:{}},emits:["update:modelValue"],setup(n,{emit:t}){q.register("modules/magicUrl",n1);const e=rt(),r=rt("<p>Hello, World!</p>"),s=rt(),i=rt(),o=n;let a=null;const c=rt({theme:"snow",modules:{magicUrl:!0,toolbar:[[{size:[]}],["bold","italic","underline","strike"],[{color:[]},{background:[]}],[{script:"super"},{script:"sub"}],[{header:"2"},{header:"3"},{header:"4"},"blockquote","code-block"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],["direction",{align:[]}],["link","image","video","formula","clean"],["table"],["clean"]]},placeholder:"Insert text here ...",readOnly:!1});Qn(()=>{var E;a=(E=e.value)==null?void 0:E.initialize(q);let p=o.modelValue;p&&(r.value=p);let g=new K(a.clipboard.convert({html:r.value}));a.setContents(g)}),ci(()=>o.modelValue,p=>{if(p!==r.value&&(r.value=p,a)){let g=new K(a.clipboard.convert({html:p}));a.setContents(g)}});const u=t,h=({delta:p})=>{s.value=p,u("update:modelValue",r.value)},d=({range:p})=>i.value=p,f=p=>console.log(p);return(p,g)=>(Q(),tt("div",s1,[C("div",i1,[ut(it(sc),{class:"bg-backdrop-2 text-text-1 font-body w-full min-w-[400px]",ref_key:"editor",ref:e,modelValue:r.value,"onUpdate:modelValue":g[0]||(g[0]=E=>r.value=E),options:c.value,onTextChange:h,onSelectionChange:d,onEditorChange:f},null,8,["modelValue","options"])])]))}});var a1=["blog.josephhansen.dev","hansenstudios.art"];const Tt=n=>(Dl("data-v-38a66712"),n=n(),Ul(),n),l1={key:1},c1=Tt(()=>C("h2",{class:"text-center text-2xl text-text-1 px-4 pt-4"},"Metadata",-1)),u1={class:"flex gap-4 flex-wrap items-start p-4"},h1={class:"flex flex-col grow items-center align-middle gap-2"},f1=Tt(()=>C("label",{for:"title",class:"text-text-1"},"Title",-1)),d1={class:"flex flex-col grow items-center align-middle gap-2"},p1=Tt(()=>C("label",{for:"metaTitle",class:"text-text-1"},"Meta Title",-1)),g1={class:"flex flex-col grow items-center align-middle gap-2"},m1=Tt(()=>C("label",{for:"metaKeywords",class:"text-text-1"},"Meta Keywords",-1)),y1={class:"flex flex-col grow items-center align-middle gap-2"},b1=Tt(()=>C("label",{for:"location",class:"text-text-1"},"Location",-1)),v1={class:"flex flex-col grow items-center align-middle gap-2"},w1=Tt(()=>C("label",{for:"sidebar",class:"text-text-1"},"Sidebar",-1)),x1={class:"flex flex-col grow items-center align-middle gap-2"},A1=Tt(()=>C("label",{for:"author",class:"text-text-1"},"Author",-1)),E1=["value"],_1={class:"flex flex-col grow items-center align-middle gap-2"},N1=Tt(()=>C("label",{for:"header",class:"text-text-1"},"Header",-1)),T1=["value"],S1={class:"flex flex-col grow items-center align-middle gap-2"},O1=Tt(()=>C("label",{for:"site",class:"text-text-1"},"Site",-1)),k1=["value"],C1={class:"flex flex-col grow items-center align-middle gap-2"},L1=Tt(()=>C("label",{for:"featuredImage",class:"text-text-1"},"Featured Image",-1)),q1={class:"flex flex-col grow items-center align-middle gap-2"},I1=Tt(()=>C("label",{for:"category",class:"text-text-1"},"Category",-1)),j1=["value"],R1={class:"flex gap-4 flex-wrap items-start p-4 min-h-36"},P1={class:"flex flex-col grow items-center align-middle gap-2 h-12"},$1=Tt(()=>C("label",{for:"excerpt",class:"text-text-1"},"Excerpt",-1)),M1={class:"flex flex-col grow items-center align-middle gap-2 h-12"},B1=Tt(()=>C("label",{for:"tags",class:"text-text-1"},"Tags",-1)),D1=["value"],U1={class:"flex flex-col grow items-center align-middle gap-2 h-12"},F1=Tt(()=>C("label",{for:"metaDescription",class:"text-text-1"},"Meta Description",-1)),H1={class:"flex gap-4 p-4"},z1={key:2,class:"p-3"},V1={class:"w-full text-text-2 table-sort table-arrows table-auto border-separate border-spacing-0 min-w-[700px] scale-[60%] sm:scale-[80%] md:scale-100 -translate-x-[21%] sm:-translate-x-[10%] md:translate-x-0 -translate-y-4 sm:translate-y-0"},G1=Tt(()=>C("colgroup",null,[C("col",{style:{width:"3%"}}),C("col",{style:{width:"3%"}}),C("col",{style:{width:"25%"}}),C("col",{style:{width:"14%"}}),C("col",{style:{width:"16%"}}),C("col",{style:{width:"14%"}}),C("col",{style:{width:"8%"}}),C("col",{style:{width:"5%"}}),C("col",{style:{width:"7%"}})],-1)),K1={class:"bg-backdrop-1 text-center uppercase"},W1={class:"p-3 order-by-desc"},Z1={class:"flex items-center justify-center w-8 h-8"},X1={class:"p-3 order-by-desc"},Y1={class:"flex items-center justify-center w-8 h-8"},J1=Tt(()=>C("th",{class:"font-normal p-3 order-by-desc"},"Title",-1)),Q1=Tt(()=>C("th",{class:"font-normal p-3 order-by-desc"},"Author",-1)),tm={class:"hidden sm:table-cell p-3 order-by-desc"},em={class:"flex items-center justify-center m-auto w-8 h-8"},rm={class:"hidden sm:table-cell p-3 order-by-desc"},nm={class:"flex items-center justify-center m-auto w-8 h-8"},sm=Tt(()=>C("th",{class:"hidden sm:table-cell p-3 font-normal order-by-desc"},"Category",-1)),im=Tt(()=>C("th",{class:"font-normal p-3 order-by-desc"},"Status",-1)),om=Tt(()=>C("th",{class:"font-normal p-3 order-by-desc"},"Actions",-1)),am={class:"py-2 border-b-backdrop-800 border-b-2 text-center"},lm={class:"border-b-backdrop-800 border-b-2 text-center"},cm={class:"cursor-pointer hover:text-text-0 transition-all duration-300 border-b-backdrop-800 border-b-2 text-center"},um=["href"],hm={class:"border-b-backdrop-800 border-b-2 text-center"},fm={class:"hidden sm:table-cell border-b-backdrop-800 border-b-2 text-center"},dm={class:"hidden sm:table-cell border-b-backdrop-800 border-b-2 text-center"},pm={class:"hidden sm:table-cell border-b-backdrop-800 border-b-2 text-center"},gm={class:"border-b-backdrop-800 border-b-2 text-center"},mm=["onClick"],ym={key:1},bm=["onClick"],vm={class:"border-b-backdrop-800 border-b-2"},wm={class:"flex justify-center items-center m-auto"},xm=["onClick"],Am=["onClick"],Em=["onClick"],_m={class:"fixed z-50 md:bottom-5 md:right-5 scale-75 md:scale-100 bottom-1 right-0 flex gap-4"},Nm={__name:"posts",setup(n){const t=rt(!1),e=Pi($i),r=rt([]),s=rt([]),i=rt([]),o=rt({}),a=a1,c=rt("list"),u=async()=>{const B=await fetch("https://seabass.josephhansen.dev/blog/");if(B.status!==200)throw f.error("Network error"),new Error("Network error- could not get posts");const R=await B.json();return localStorage.setItem("posts",JSON.stringify(R)),R},h=async()=>{const B=await fetch("https://seabass.josephhansen.dev/category/");if(B.status!==200)throw f.error("Network error"),new Error("Network error- could not get categories");return await B.json()},d=async()=>{const B=await fetch("https://seabass.josephhansen.dev/tag/");if(B.status!==200)throw f.error("Network error"),new Error("Network error- could not get tags");return await B.json()};Qn(async()=>{e.user?t.value=!0:t.value=!1,t.value?(o.value=e.user,s.value=await d(),i.value=await h(),r.value=await u()):(f.info("Your session has expired. Please log in."),p.push("/login"))});const f=Mi(),p=Bi(),g=B=>{},E=B=>{c.value="editing";let R=r.value.filter(O=>O._id===B);b.value=R[0].content,N.value=R[0].title,y.value=R[0].metaTitle,S.value=R[0].metaDescription,x.value=R[0].metaKeywords,I.value=R[0].excerpt,Z.value=R[0].site,j.value=R[0].featuredImage,k.value=R[0].subDirectory,P.value=R[0].status,D.value=R[0]._id,z.value=R[0].headerStyle,F.value=R[0].tags,H.value=R[0].sidebar,G.value=R[0].category},v=async B=>{let R="https://seabass.josephhansen.dev/blog/delete/"+B,O={headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json",Authorization:"Bearer "+localStorage.token},withCredentials:!0};try{await fetch(R,{method:"DELETE",headers:O.headers,credentials:"include"}).then(async M=>{if(M.status!==200)throw f.error("Error deleting post"),r.value=u(),new Error("Network error- could not delete post");f.success("Post deleted"),r.value=await u()}).catch(M=>{f.error(M.message||M.error||"Error deleting post")})}catch(M){f.error(M.message||M.error||"Error deleting post")}},w=async B=>{let R="https://seabass.josephhansen.dev/blog/publish/"+B,O={headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json",Authorization:"Bearer "+localStorage.token},withCredentials:!0};try{await fetch(R,{method:"POST",headers:O.headers,credentials:"include"}).then(async M=>{if(M.status!==200)throw new Error("Network error- could not publish post");f.success("Post published"),r.value=await u()}).catch(async M=>{f.error(M.message||M.error||"Error publishing post")})}catch(M){f.error(M.message||M.error||"Error publishing post")}},A=()=>{c.value="new",D.value="",b.value="",N.value="",y.value="",S.value="",x.value="",I.value="",Z.value="",j.value="",k.value="",P.value="new-draft",z.value="image",H.value=!0,F.value=[],G.value=""},_=()=>{c.value="list"},b=rt(""),N=rt(""),y=rt(""),S=rt(""),x=rt(""),I=rt(""),Z=rt(""),j=rt(""),k=rt(""),P=rt("new-draft"),D=rt(""),F=rt([]),G=rt(""),W=rt(["image","imageoverlay","noimage","fullwidth"]),z=rt("image"),H=rt(!0),$=async B=>{let R="https://seabass.josephhansen.dev/blog/unpublish/"+B,O={headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json",Authorization:"Bearer "+localStorage.token},withCredentials:!0};try{await fetch(R,{method:"POST",headers:O.headers,credentials:"include"}).then(async M=>{if(M.status!==200)throw new Error("Network error- could not unpublish post");f.success("Post unpublished"),r.value=await u()}).catch(M=>{f.error(M.message||M.error||"Error unpublishing post")})}catch(M){f.error(M.message||M.error||"Error unpublishing post")}},nt=async()=>{let B="https://seabass.josephhansen.dev/blog/create",R={headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer "+localStorage.token}},O={title:N.value,content:b.value,metaTitle:y.value,metaDescription:S.value,metaKeywords:x.value,excerpt:I.value,site:Z.value,featuredImage:j.value,subDirectory:k.value,status:P.value,headerStyle:z.value,sidebar:H.value,tags:F.value,category:G.value};try{await fetch(B,{method:"POST",headers:R.headers,credentials:"include",body:JSON.stringify(O)}).then(async M=>{if(M.status!==201)throw new Error("Network error- could not save post");f.success("Post saved");let st=await M.json();D.value=st._id,P.value="draft",r.value=await u()}).catch(M=>{f.error(M.message||M.error||"Error saving post")})}catch(M){f.error(M.message||M.error||"Error saving post")}},J=async()=>{let B="https://seabass.josephhansen.dev/blog/edit/"+D.value,R={headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer "+localStorage.token}},O={title:N.value,content:b.value,metaTitle:y.value,metaDescription:S.value,metaKeywords:x.value,excerpt:I.value,site:Z.value,featuredImage:j.value,subDirectory:k.value,status:P.value,headerStyle:z.value,sidebar:H.value,tags:F.value,category:G.value};try{await fetch(B,{method:"PUT",headers:R.headers,credentials:"include",body:JSON.stringify(O)}).then(async M=>{if(M.status!==200)throw new Error("Network error- could not save post");f.success("Draft saved"),r.value=await u()}).catch(M=>{f.error(M.message||M.error||"Error saving post")})}catch(M){f.error(M.message||M.error||"Error saving post")}};return(B,R)=>(Q(),tt(Dt,null,[c.value==="new"||c.value==="editing"?(Q(),zn(o1,{key:0,modelValue:b.value,"onUpdate:modelValue":R[0]||(R[0]=O=>b.value=O)},null,8,["modelValue"])):mr("",!0),c.value==="new"||c.value==="editing"?(Q(),tt("div",l1,[c1,C("form",u1,[C("div",h1,[f1,Nt(C("input",{type:"text",name:"title",class:"flex-col grow items-center align-middle rounded p-2 bg-backdrop-1 text-text-0 active:ring-2 active:ring-accent-300 focus:ring-3 focus:ring-accent-300 accent-accent-300 w-full","onUpdate:modelValue":R[1]||(R[1]=O=>N.value=O),placeholder:"Title"},null,512),[[ne,N.value]])]),C("div",d1,[p1,Nt(C("input",{type:"text",name:"metaTitle",class:"flex-col grow items-center align-middle rounded p-2 bg-backdrop-1 text-text-0 active:ring-2 active:ring-accent-300 focus:ring-3 focus:ring-accent-300 accent-accent-300 w-full","onUpdate:modelValue":R[2]||(R[2]=O=>y.value=O),placeholder:"Meta Title"},null,512),[[ne,y.value]])]),C("div",g1,[m1,Nt(C("input",{type:"text",name:"metaKeywords",class:"flex-col grow items-center align-middle rounded p-2 bg-backdrop-1 text-text-0 active:ring-2 active:ring-accent-300 focus:ring-3 focus:ring-accent-300 accent-accent-300 w-full","onUpdate:modelValue":R[3]||(R[3]=O=>x.value=O),placeholder:"Meta Keywords"},null,512),[[ne,x.value]])]),C("div",y1,[b1,Nt(C("input",{type:"text",name:"location",class:"flex-col grow items-center align-middle rounded p-2 bg-backdrop-1 text-text-0 active:ring-2 active:ring-accent-300 focus:ring-3 focus:ring-accent-300 accent-accent-300 w-full","onUpdate:modelValue":R[4]||(R[4]=O=>k.value=O),placeholder:"/"},null,512),[[ne,k.value]])]),C("div",v1,[w1,Nt(C("input",{type:"checkbox",name:"sidebar","onUpdate:modelValue":R[5]||(R[5]=O=>H.value=O),class:"cursor-pointer scale-150"},null,512),[[Bl,H.value]])]),C("div",x1,[A1,C("input",{readonly:"",type:"text",name:"author",class:"flex-col grow items-center align-middle rounded p-2 bg-backdrop-1 text-text-0 w-full",value:o.value.displayName,placeholder:""},null,8,E1)]),C("div",_1,[N1,Nt(C("select",{name:"header",class:"flex-col grow items-center align-middle rounded p-2 bg-backdrop-1 text-text-0 active:ring-2 active:ring-accent-500 focus:ring-3 focus:ring-accent-400 accent-accent-300 w-full h-min","onUpdate:modelValue":R[6]||(R[6]=O=>z.value=O)},[(Q(!0),tt(Dt,null,zt(W.value,O=>(Q(),tt("option",{key:O,value:O},vt(O),9,T1))),128))],512),[[Re,z.value]])]),C("div",S1,[O1,Nt(C("select",{name:"site",class:"flex-col grow items-center align-middle rounded p-2 bg-backdrop-1 text-text-0 active:ring-2 active:ring-accent-500 focus:ring-3 focus:ring-accent-400 accent-accent-300 w-full h-min","onUpdate:modelValue":R[7]||(R[7]=O=>Z.value=O)},[(Q(!0),tt(Dt,null,zt(it(a),O=>(Q(),tt("option",{key:O,value:O},vt(O),9,k1))),128))],512),[[Re,Z.value]])]),C("div",C1,[L1,Nt(C("input",{type:"text",name:"featuredImage",class:"flex-col grow items-center align-middle rounded p-2 bg-backdrop-1 text-text-0 active:ring-2 active:ring-accent-300 focus:ring-3 focus:ring-accent-300 accent-accent-300 w-full","onUpdate:modelValue":R[8]||(R[8]=O=>j.value=O),placeholder:"Featured Image"},null,512),[[ne,j.value]])]),C("div",q1,[I1,Nt(C("select",{name:"category",class:"flex-col grow items-center align-middle rounded p-2 bg-backdrop-1 text-text-0 active:ring-2 active:ring-accent-500 focus:ring-3 focus:ring-accent-400 accent-accent-300 w-full h-min","onUpdate:modelValue":R[9]||(R[9]=O=>G.value=O)},[(Q(!0),tt(Dt,null,zt(i.value,O=>(Q(),tt("option",{key:O.name,value:O.name},vt(O.name),9,j1))),128))],512),[[Re,G.value]])])]),C("form",R1,[C("div",P1,[$1,Nt(C("textarea",{name:"excerpt",class:"flex-col grow items-center align-middle rounded p-2 bg-backdrop-1 text-text-0 active:ring-2 active:ring-accent-300 focus:ring-3 focus:ring-accent-300 accent-accent-300 w-full h-min","onUpdate:modelValue":R[10]||(R[10]=O=>I.value=O),placeholder:"Excerpt"},`
                `,512),[[ne,I.value]])]),C("div",M1,[B1,Nt(C("select",{multiple:"",name:"tags",class:"flex-col grow items-center align-middle rounded p-2 bg-backdrop-1 text-text-0 active:ring-2 active:ring-accent-500 focus:ring-3 focus:ring-accent-400 accent-accent-300 w-full min-h-20","onUpdate:modelValue":R[11]||(R[11]=O=>F.value=O)},[(Q(!0),tt(Dt,null,zt(s.value,O=>(Q(),tt("option",{key:O.name,value:O.name},vt(O.name),9,D1))),128))],512),[[Re,F.value]])]),C("div",U1,[F1,Nt(C("textarea",{name:"metaDescription",class:"flex-col grow items-center align-middle rounded p-2 bg-backdrop-1 text-text-0 active:ring-2 active:ring-accent-300 focus:ring-3 focus:ring-accent-300 accent-accent-300 w-full h-min","onUpdate:modelValue":R[12]||(R[12]=O=>S.value=O),placeholder:"Meta Description"},`
                `,512),[[ne,S.value]])])]),C("div",H1,[P.value==="new-draft"?(Q(),tt("button",{key:0,onClick:R[13]||(R[13]=O=>c.value==="new"?nt():J()),class:"cursor-pointer bg-accent-600 px-5 py-2 rounded-lg text-text-0 hover:bg-accent-700 hover:scale-105 transition-all duration-300 flex items-center"},[ut(it(Vn),{class:"pr-2"}),Ie("Save draft ")])):mr("",!0),P.value==="draft"?(Q(),tt("button",{key:1,onClick:R[14]||(R[14]=O=>w(D.value)),class:"cursor-pointer bg-accent-600 px-5 py-2 rounded-lg text-text-0 hover:bg-accent-700 hover:scale-105 transition-all duration-300 flex items-center"},[ut(it(Ql),{class:"pr-2"}),Ie("Publish ")])):mr("",!0),P.value==="draft"?(Q(),tt("button",{key:2,onClick:R[15]||(R[15]=O=>B.schedulePost(D.value)),class:"cursor-pointer bg-accent-600 px-5 py-2 rounded-lg text-text-0 hover:bg-accent-700 hover:scale-105 transition-all duration-300 flex items-center"},[ut(it(mo),{class:"pr-2"}),Ie("Schedule ")])):mr("",!0),P.value==="published"?(Q(),tt("button",{key:3,onClick:R[16]||(R[16]=O=>J()),class:"cursor-pointer bg-accent-600 px-5 py-2 rounded-lg text-text-0 hover:bg-accent-700 hover:scale-105 transition-all duration-300 flex items-center"},[ut(it(Vn),{class:"pr-2"}),Ie("Save ")])):mr("",!0),P.value==="published"?(Q(),tt("button",{key:4,onClick:R[17]||(R[17]=O=>$(D.value)),class:"cursor-pointer bg-accent-600 px-5 py-2 rounded-lg text-text-0 hover:bg-accent-700 hover:scale-105 transition-all duration-300 flex items-center"},[ut(it(go),{class:"pr-2"}),Ie("Unpublish ")])):mr("",!0)])])):(Q(),tt("div",z1,[C("table",V1,[G1,C("thead",K1,[C("tr",null,[C("th",W1,[C("div",Z1,[ut(it(tn))])]),C("th",X1,[C("div",Y1,[ut(it(zl))])]),J1,Q1,C("th",tm,[C("div",em,[ut(it(Jl))])]),C("th",rm,[C("div",nm,[ut(it(tc))])]),sm,im,om])]),C("tbody",null,[(Q(!0),tt(Dt,null,zt(r.value,O=>(Q(),tt("tr",{key:O._id,class:"text-center bg-backdrop-2"},[C("td",am,vt(O.views),1),C("td",lm,vt(O.comments.length),1),C("td",cm,[C("a",{href:O.site+"/"+O.slug},vt(O.title),9,um)]),C("td",hm,vt(O.author),1),C("td",fm,vt(O.site),1),C("td",dm,vt(O.tags.join(", ")),1),C("td",pm,vt(O.category),1),C("td",gm,[O.status=="published"?(Q(),tt("div",{key:0,class:"cursor-pointer hover:text-text-0 transition-all duration-300 flex items-center justify-center",onClick:M=>$(O._id)},[ut(it(go))],8,mm)):O.status=="scheduled"?(Q(),tt("div",ym,[ut(it(mo))])):(Q(),tt("div",{key:2,onClick:M=>w(O._id),class:"cursor-pointer hover:text-text-0 transition-all duration-300 flex items-center justify-center"},[ut(it(Xl))],8,bm))]),C("td",vm,[C("div",wm,[C("div",{class:"cursor-pointer hover:text-text-0 transition-all duration-300",onClick:M=>g(O._id)},[ut(it(tn))],8,xm),C("div",{class:"cursor-pointer hover:text-text-0 transition-all duration-300 px-2",onClick:M=>E(O._id)},[ut(it(Yl))],8,Am),C("div",{class:"cursor-pointer hover:text-text-0 transition-all duration-300",onClick:M=>v(O._id)},[ut(it(Gn))],8,Em)])])]))),128))])])])),C("div",_m,[C("button",{onClick:A,class:"cursor-pointer bg-accent-600 px-5 py-2 rounded-lg text-text-0 hover:bg-accent-700 hover:scale-105 transition-all duration-300 flex items-center"},[ut(it(Vl),{class:"pr-2"}),Ie("New post ")]),C("button",{onClick:_,class:"cursor-pointer bg-backdrop-0 px-5 py-2 rounded-lg text-text-0 hover:bg-backdrop-1 hover:scale-105 transition-all duration-300 flex items-center"},[ut(it(Zl),{class:"pr-2"}),Ie("List posts ")])])],64))}},Tm=xa(Nm,[["__scopeId","data-v-38a66712"]]),F0={__name:"posts",setup(n){return(t,e)=>(Q(),zn(Tm))}},Sm={},Om={class:"p-8 px-20"},km=Fl('<div class="font-normal w-full"><h1 class="text-2xl text-text-2 pb-3">Pages</h1><h2 class="text-xl text-text-2 pb-2">Creating a new page</h2><p class="text-text-3 pb-2"> To add a new page, run the following command in the terminal: <br><code class="p-1 rounded-lg bg-backdrop-1 text-accent-500">npm run create-site-page {PageName} {sites?}</code> The sites parameter is optional and can be used to specify the sites that the page should be created for. If it is not set, the page will be created for all sites. To set specific sites, format the parameter as <code class="p-1 rounded-lg bg-backdrop-1 text-accent-500">&#39;[&quot;site1&quot;,&quot;site2&quot;]&#39;</code>. </p><h2 class="text-xl text-text-2 pb-2">Editing a page</h2><p class="text-text-3 pb-2"> To edit a page, navigate to the <code class="p-1 rounded-lg bg-backdrop-1 text-accent-500">frontend/src/pages</code> directory and open the page you want to edit. Unlike posts, pages are meant to be designed, so they don&#39;t have a frontend editor. Use Vue components to design the page. Run <code class="p-1 rounded-lg bg-backdrop-1 text-accent-500">npm run buildbot</code> after any changes. </p><h2 class="text-xl text-text-2 pb-2">Deleting a page</h2><p class="text-text-3 pb-2"> To delete a page, run the following command in the terminal: <br><code class="p-1 rounded-lg bg-backdrop-1 text-accent-500">npm run remove-site-page {PageName} {sites?}</code></p></div>',1),Cm=[km];function Lm(n,t){return Q(),tt("div",Om,Cm)}const H0=xa(Sm,[["render",Lm]]);var va=["blog.josephhansen.dev","hansenstudios.art"];const qm={class:"p-1 md:p-8 flex gap-8 flex-wrap scale-75 md:scale-100"},Im={class:"flex flex-col gap-4 grow"},jm={class:"flex flex-row gap-4 items-center justify-between"},Rm=C("h1",{class:"text-2xl text-text-2"},"Tags",-1),Pm={class:"flex gap-2"},$m=["value"],Mm={class:"grow text-text-2 table-auto border-separate border-spacing-0 table-sort table-arrows"},Bm={class:"grow flex gap-1"},Dm=["onUpdate:modelValue"],Um=["onUpdate:modelValue"],Fm=["value"],Hm=["onClick"],zm=["onClick"],Vm=["onClick"],Gm={class:"flex flex-col gap-4 grow"},Km={class:"flex flex-row gap-4 items-center justify-between"},Wm=C("h1",{class:"text-2xl text-text-2"},"Categories",-1),Zm={class:"flex gap-2"},Xm=["value"],Ym={class:"grow text-text-2 table-auto border-separate border-spacing-0 table-sort"},Jm={class:"grow flex gap-1"},Qm=["onUpdate:modelValue"],t0=["onUpdate:modelValue"],e0=["value"],r0=["onClick"],n0=["onClick"],s0=["onClick"],z0={__name:"tags",setup(n){const t=Mi(),e=Bi(),r=rt(!1),s=Pi($i),i=rt([]),o=rt([]),a=rt(""),c=va,u=rt(""),h=rt(""),d=va,f=rt(""),p=async()=>{let y={headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json",Authorization:"Bearer "+localStorage.token},withCredentials:!0};if((await fetch("https://seabass.josephhansen.dev/category/",{method:"POST",headers:y.headers,credentials:"include",body:new URLSearchParams({name:h.value,site:f.value})})).status!==200)throw t.error("Network error"),new Error("Network error- could not add category");t.success("Category added"),o.value=await A(),h.value="",f.value=""},g=async y=>{let S={headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json",Authorization:"Bearer "+localStorage.token},withCredentials:!0};if((await fetch(`https://seabass.josephhansen.dev/category/${y}/`,{method:"DELETE",headers:S.headers,credentials:"include"})).status!==200)throw t.error("Network error"),new Error("Network error- could not delete category");t.success("Category deleted"),o.value=await A()},E=async()=>{let y={headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json",Authorization:"Bearer "+localStorage.token},withCredentials:!0};if((await fetch("https://seabass.josephhansen.dev/tag/",{method:"POST",headers:y.headers,credentials:"include",body:new URLSearchParams({name:a.value,site:u.value})})).status!==200)throw t.error("Network error"),new Error("Network error- could not add tag");i.value=await w(),t.success("Tag added"),a.value=""},v=async y=>{let S={headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json",Authorization:"Bearer "+localStorage.token},withCredentials:!0};if((await fetch(`https://seabass.josephhansen.dev/tag/${y}/`,{method:"DELETE",headers:S.headers,credentials:"include"})).status!==200)throw t.error("Network error"),new Error("Network error- could not delete tag");i.value=await w(),t.success("Tag deleted")},w=async()=>{let y={headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json",Authorization:"Bearer "+localStorage.token},withCredentials:!0};const S=await fetch("https://seabass.josephhansen.dev/tag/",{method:"GET",headers:y.headers,credentials:"include"});if(S.status!==200)throw t.error("Network error"),new Error("Network error- could not get tags");return await S.json()},A=async()=>{let y={headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json",Authorization:"Bearer "+localStorage.token},withCredentials:!0};const S=await fetch("https://seabass.josephhansen.dev/category/",{method:"GET",headers:y.headers,credentials:"include"});if(S.status!==200)throw t.error("Network error"),new Error("Network error- could not get categories");return await S.json()};Qn(async()=>{s.user?r.value=!0:r.value=!1,r.value?(i.value=await w(),o.value=await A()):(t.info("Your session has expired. Please log in."),e.push("/login"))});const _=y=>y.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,""),b=async y=>{let S={headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json",Authorization:"Bearer "+localStorage.token},withCredentials:!0};if((await fetch(`https://seabass.josephhansen.dev/category/${y}/`,{method:"PUT",headers:S.headers,credentials:"include",body:new URLSearchParams({name:o.value.find(I=>I._id===y).name,slug:_(o.value.find(I=>I._id===y).name),site:o.value.find(I=>I._id===y).site})})).status!==200)throw t.error("Network error"),new Error("Network error- could not edit category");t.success("Category edited"),o.value=await A()},N=async y=>{let S={headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json",Authorization:"Bearer "+localStorage.token},withCredentials:!0};if((await fetch(`https://seabass.josephhansen.dev/tag/${y}/`,{method:"PUT",headers:S.headers,credentials:"include",body:new URLSearchParams({name:i.value.find(I=>I._id===y).name,slug:_(i.value.find(I=>I._id===y).name),site:i.value.find(I=>I._id===y).site})})).status!==200)throw t.error("Network error"),new Error("Network error- could not edit tag");t.success("Tag edited"),i.value=await w()};return(y,S)=>(Q(),tt("div",qm,[C("div",Im,[C("div",jm,[Rm,C("div",Pm,[Nt(C("input",{"onUpdate:modelValue":S[0]||(S[0]=x=>a.value=x),type:"text",class:"bg-backdrop-0 text-text-0 px-2 py-2 rounded-md accent-accent-500",placeholder:"New Tag Name"},null,512),[[ne,a.value]]),Nt(C("select",{"onUpdate:modelValue":S[1]||(S[1]=x=>u.value=x),class:"bg-backdrop-0 text-text-0 px-2 py-2 rounded-md accent-accent-500"},[(Q(!0),tt(Dt,null,zt(it(c),x=>(Q(),tt("option",{key:x,value:x},vt(x),9,$m))),128))],512),[[Re,u.value]]),C("button",{onClick:E,class:"bg-backdrop-1 text-text-0 p-2 rounded-md"},"Add Tag")])]),C("table",Mm,[(Q(!0),tt(Dt,null,zt(i.value,x=>(Q(),tt("tr",{key:x.id,class:"flex"},[C("td",Bm,[Nt(C("input",{"onUpdate:modelValue":I=>x.name=I,type:"text",class:"bg-backdrop-1 p-2 rounded-md grow w-full accent-accent-500"},null,8,Dm),[[ne,x.name]]),Nt(C("select",{"onUpdate:modelValue":I=>x.site=I,class:"bg-backdrop-1 text-text-0 px-2 py-2 rounded-md accent-accent-500"},[(Q(!0),tt(Dt,null,zt(it(c),I=>(Q(),tt("option",{key:I,value:I},vt(I),9,Fm))),128))],8,Um),[[Re,x.site]])]),C("td",null,[C("button",{onClick:I=>y.viewTagPosts(x._id),class:"p-2"},[ut(it(tn))],8,Hm),C("button",{onClick:I=>N(x._id),class:"p-2 text-accent-500 hover:text-accent-600 transition-all duration-300"},[ut(it(Vn))],8,zm),C("button",{onClick:I=>v(x._id),class:"p-2 text-red-500 rounded hover:text-red-600 transition-all duration-300"},[ut(it(Gn))],8,Vm)])]))),128))])]),C("div",Gm,[C("div",Km,[Wm,C("div",Zm,[Nt(C("input",{"onUpdate:modelValue":S[2]||(S[2]=x=>h.value=x),type:"text",class:"bg-backdrop-0 text-text-0 px-2 py-2 rounded-md accent-accent-500",placeholder:"Category name"},null,512),[[ne,h.value]]),Nt(C("select",{"onUpdate:modelValue":S[3]||(S[3]=x=>f.value=x),class:"bg-backdrop-0 text-text-0 px-2 py-2 rounded-md accent-accent-500"},[(Q(!0),tt(Dt,null,zt(it(d),x=>(Q(),tt("option",{key:x,value:x},vt(x),9,Xm))),128))],512),[[Re,f.value]]),C("button",{onClick:p,class:"bg-backdrop-1 text-text-0 p-2 rounded-md"},"Add Category")])]),C("table",Ym,[(Q(!0),tt(Dt,null,zt(o.value,x=>(Q(),tt("tr",{key:x.id,class:"flex"},[C("td",Jm,[Nt(C("input",{"onUpdate:modelValue":I=>x.name=I,type:"text",class:"bg-backdrop-1 p-2 accent-accent-500 rounded-md grow w-full"},null,8,Qm),[[ne,x.name]]),Nt(C("select",{"onUpdate:modelValue":I=>x.site=I,class:"bg-backdrop-1 text-text-0 px-2 py-2 rounded-md accent-accent-500"},[(Q(!0),tt(Dt,null,zt(it(d),I=>(Q(),tt("option",{key:I,value:I},vt(I),9,e0))),128))],8,t0),[[Re,x.site]])]),C("td",null,[C("button",{onClick:I=>y.viewCategoryPosts(x._id),class:"p-2"},[ut(it(tn))],8,r0),C("button",{onClick:I=>b(x._id),class:"p-2 text-accent-500 hover:text-accent-600 transition-all duration-300"},[ut(it(Vn))],8,n0),C("button",{onClick:I=>g(x._id),class:"p-2 text-red-500 rounded hover:text-red-600 transition-all duration-300"},[ut(it(Gn))],8,s0)])]))),128))])])]))}},i0={class:"p-6"},o0=C("h2",{class:"text-3xl text-text-0 px-8 -mb-4"},"Flagged Comments",-1),a0={class:"p-1 md:p-8 flex gap-4 flex-wrap"},l0={class:"min-w-[30%] grow"},c0={class:"bg-backdrop-2 text-text-0 8 m-w-[500px] w-auto h-auto m-auto rounded-xl p-4"},u0={class:"italic"},h0=["href"],f0={class:"flex gap-7 mt-2 items-center justify-between w-full"},d0={class:"flex gap-2 items-center"},p0=["onClick"],g0=["onClick"],m0={class:"flex gap-2"},y0=C("h2",{class:"text-3xl text-text-0 px-8 -mb-4"},"Comments By Post",-1),b0={class:"p-1 md:p-8 flex gap-4 flex-wrap"},v0={class:"min-w-[30%] grow"},w0={class:"text-accent-500 hover:text-accent-600 transition-all duration-300 text-xl pb-2"},x0=["href"],A0={class:"flex gap-4 flex-wrap"},E0={class:"min-w-[30%] grow bg-backdrop-2 text-text-0 8 m-w-[500px] w-auto h-auto m-auto rounded-xl p-4"},_0={class:"flex gap-2 mt-2 items-center justify-between w-full"},N0={class:"grow w-full"},T0={class:"italic"},S0={class:"flex gap-2 mt-2 items-center justify-end w-full"},V0={__name:"comments",setup(n){const t=rt(!1),e=Mi(),r=Bi(),s=Pi($i),i=rt([]),o=rt([]),a=rt([]),c=async()=>{let _={headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json",Authorization:"Bearer "+localStorage.token},withCredentials:!0};const b=await fetch("https://seabass.josephhansen.dev/user",{method:"GET",headers:_.headers,credentials:"include"});if(b.status!==200)throw e.error("Network error"),new Error("Network error- could not get users");return await b.json()},u=async()=>{let _={headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json",Authorization:"Bearer "+localStorage.token},withCredentials:!0};const b=await fetch("https://seabass.josephhansen.dev/comment/",{method:"GET",headers:_.headers,credentials:"include"});if(b.status!==200)throw e.error("Network error"),new Error("Network error- could not get comments");return await b.json()},h=async _=>{let b="https://seabass.josephhansen.dev/comment/flag/"+_,N={headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json",Authorization:"Bearer "+localStorage.token},withCredentials:!0};try{await fetch(b,{method:"PUT",headers:N.headers,credentials:"include"}).then(async y=>{if(y.status!==200)throw new Error("Network error- could not flag comment");e.success("Comment flagged"),i.value=await u()}).catch(async y=>{e.error(y.message||y.error||"Error flagging comment")})}catch(y){e.error(y.message||y.error||"Error flagging comment")}},d=async _=>{let b="https://seabass.josephhansen.dev/comment/delete/"+_,N={headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json",Authorization:"Bearer "+localStorage.token},withCredentials:!0};try{await fetch(b,{method:"DELETE",headers:N.headers,credentials:"include"}).then(async y=>{if(y.status!==200)throw e.error("Error deleting comment"),i.value=u(),new Error("Network error- could not delete comment");e.success("Comment deleted"),i.value=await u()}).catch(y=>{e.error(y.message||y.error||"Error deleting comment")})}catch(y){e.error(y.message||y.error||"Error deleting comment")}},f=async _=>{let b="https://seabass.josephhansen.dev/comment/unflag/"+_,N={headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json",Authorization:"Bearer "+localStorage.token},withCredentials:!0};try{await fetch(b,{method:"PUT",headers:N.headers,credentials:"include"}).then(async y=>{if(y.status!==200)throw new Error("Network error- could not unflag comment");e.success("Comment unflagged"),i.value=await u()}).catch(async y=>{e.error(y.message||y.error||"Error unflagging comment")})}catch(y){e.error(y.message||y.error||"Error unflagging comment")}};Qn(async()=>{s.user?t.value=!0:t.value=!1,t.value?(i.value=await u(),o.value=await c(),a.value=await g()):(e.info("Your session has expired. Please log in."),r.push("/login"))});const p=_=>{let b=o.value.find(N=>N._id===_);return b?b.displayName:"Unknown"},g=async()=>{let _={headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json",Authorization:"Bearer "+localStorage.token},withCredentials:!0};const b=await fetch("https://seabass.josephhansen.dev/blog/",{method:"GET",headers:_.headers,credentials:"include"});if(b.status!==200)throw e.error("Network error"),new Error("Network error- could not get blog posts");return await b.json()},E=_=>{let b=a.value.find(N=>N._id===_);return b?b.title:"Unknown"},v=_=>{let b=a.value.find(N=>N._id===_);return b?b.site+b.subDirectory+b.slug:""},w=Hl(()=>i.value.filter(_=>_.flagged)),A=_=>(console.log(_),i.value.filter(b=>b.blogPost===_&&!b.flagged&&b.nestedLevel===0));return(_,b)=>(Q(),tt("div",i0,[o0,C("div",a0,[(Q(!0),tt(Dt,null,zt(w.value,N=>{var y;return Q(),tt("div",l0,[C("div",c0,[C("p",u0,vt(N.content),1),C("p",null,"Posted by: "+vt(p(N.user)),1),C("p",null,[Ie("Posted on: "),C("a",{href:v(N.blogPost),class:"text-accent-500 hover:text-accent-600 duration-300 transition-all"},vt(E(N.blogPost)),9,h0)]),C("div",f0,[C("div",d0,[C("button",{onClick:S=>f(N._id),class:"bg-green-500 hover:bg-green-700 text-text-0 font-bold py-2 px-4 rounded"},[ut(it(Kl))],8,p0),C("button",{onClick:S=>d(N._id),class:"bg-red-500 hover:bg-red-700 text-text-0 font-bold py-2 px-4 rounded"},[ut(it(Gn))],8,g0),N.visible?(Q(),zn(it(Gl),{key:1})):(Q(),zn(it(tn),{key:0}))]),C("div",m0,[ut(it(yo)),C("span",null,vt((y=N.replies)!=null&&y.length?N.replies.length:"0"),1)])])])])}),256))]),y0,C("div",b0,[(Q(!0),tt(Dt,null,zt(a.value,N=>(Q(),tt("div",v0,[C("h3",w0,[C("a",{href:N.site+N.subDirectory+N.slug},vt(N.title),9,x0)]),C("div",A0,[(Q(!0),tt(Dt,null,zt(A(N._id),y=>{var S;return Q(),tt("div",E0,[C("div",_0,[C("div",N0,[C("p",T0,vt(y.content),1),C("p",null,"Posted by: "+vt(p(y.user)),1)]),C("div",S0,[ut(it(yo)),C("span",null,vt((S=y.replies)!=null&&S.length?y.replies.length:"0"),1),ut(it(Wl),{onClick:x=>h(y._id),class:"bg-red-500 hover:bg-red-700 cursor-pointer w- text-text-0 font-bold p-2 rounded w-10 h-10"},null,8,["onClick"])])])])}),256))])]))),256))])]))}};export{mo as C,Wl as F,j0 as M,H0 as P,Jl as R,Vn as S,Gn as T,R0 as U,V0 as _,z0 as a,F0 as b,P0 as c,I0 as d,tc as e};
