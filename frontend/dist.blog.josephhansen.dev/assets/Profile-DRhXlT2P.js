import{r as m,o as g,c as n,e,q as h,t as a,F as x,x as _,j as u,i as w,h as d}from"./index-DdmeFNP8.js";import{_ as v}from"./avatar-CP5AMhOs.js";import{E as y}from"./eye-DjTBhTcN.js";import{H as b}from"./home-C05uoJHU.js";const j={class:"flex bg-backdrop-3 h-[100vh] overflow-hidden w-full p-3 lg:p-0"},E={class:"bg-backdrop-2 text-text-0 p-8 m-w-[500px] w-full lg:w-1/2 h-auto m-auto rounded-xl"},k=e("h1",{class:"text-4xl font-normal text-left"},"Profile",-1),B=e("hr",{class:"border-backdrop-1 my-4"},null,-1),C={class:"flex flex-row items-stretch gap-12 justify-start h-auto flex-wrap"},N={class:"flex items-center gap-2 shrink flex-wrap max-w-[50%]"},S={class:"max-w-[100%] flex flex-col gap-2 border-r-2 pr-5 border-backdrop-1"},$={class:"text-2xl"},A={class:"text-md italic text-text-1"},P={class:"text-md italic text-text-2"},R={class:"flex flex-row items-start justify-start grow"},T={class:"text-lg text-text-1"},U=e("hr",{class:"border-backdrop-1 my-4"},null,-1),F={class:"flex flex-row items-center gap-4 justify-start h-auto flex-wrap"},I={class:"flex flex-col gap-2"},z=e("h3",{class:"text-2xl"},"Posts",-1),D={class:"flex flex-row items-center gap-2 justify-start h-auto flex-wrap"},G={class:"flex gap-2"},H={class:"flex flex-col items-center gap-2 justify-start h-auto flex-wrap"},O={class:"text-lg"},V={class:"text-md italic text-text-1"},q={class:"flex"},L={class:"text-md text-text-1"},M=e("hr",{class:"dividing-line-mid mx-2"},null,-1),J=e("hr",{class:"border-backdrop-1 my-4"},null,-1),K={class:"flex flex-row items-center gap-4 justify-start h-auto flex-wrap"},Q={class:"flex flex-col gap-2"},W=e("h3",{class:"text-2xl"},"Comments",-1),X={class:"flex flex-row items-center gap-2 justify-start h-auto flex-wrap"},Y={class:"flex flex-col gap-2"},Z={class:"text-lg"},ee=e("div",{class:"flex items-center gap-2 justify-start h-auto flex-wrap"},null,-1),le={__name:"Profile",setup(te){const i=w(),t=m({}),p=async()=>{let c=i.currentRoute.value.params.id;if(c){let l="https://seabass.josephhansen.dev/user/id/"+c,s={headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json",Authorization:"Bearer "+localStorage.token},withCredentials:!0};try{await fetch(l,{method:"GET",headers:s.headers,credentials:"include"}).then(async o=>{if(o.status!==200)throw new Error("Network error- could not get user");t.value=await o.json(),console.log(t.value)}).catch(o=>{throw new Error(o.message||o.error||"Error getting user")})}catch(o){throw new Error(o.message||o.error||"Error getting user")}}else{let l=i.currentRoute.value.params.displayName;if(l){let s=`https://seabass.josephhansen.dev/user/displayname/${encodeURIComponent(l)}`,o={headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json",Authorization:"Bearer "+localStorage.token},withCredentials:!0};try{await fetch(s,{method:"GET",headers:o.headers,credentials:"include"}).then(async r=>{if(r.status!==200)throw new Error("Network error- could not get user");t.value=await r.json(),console.log(t.value)}).catch(r=>{throw new Error(r.message||r.error||"Error getting user")})}catch(r){throw new Error(r.message||r.error||"Error getting user")}}else i.push("/login")}};g(async()=>{await p()});const f=c=>new Date(c).toISOString();return(c,l)=>(d(),n("div",j,[e("div",E,[k,B,e("div",C,[e("div",N,[h(v,{image:t.value.picture,classes:"w-20 h-20"},null,8,["image"]),e("div",S,[e("h3",$,a(t.value.displayName),1),e("h4",A,a(t.value.shortBio),1),e("h5",P,a(t.value.website),1)])]),e("div",R,[e("p",T,a(t.value.longBio),1)])]),U,e("div",F,[e("div",I,[z,e("div",D,[(d(!0),n(x,null,_(t.value.posts,s=>(d(),n("div",G,[e("div",H,[e("h4",O,a(f(s.title)),1),e("h5",V,a(s.date),1),e("div",q,[h(u(y)),e("p",L,a(s.views),1)])])]))),256)),M])])]),J,e("div",K,[e("div",Q,[W,e("div",X,[(d(!0),n(x,null,_(t.value.comments,s=>(d(),n("div",Y,[e("h4",Z,a(s.text),1),ee]))),256))])])])]),e("div",{class:"fixed top-0 left-0 p-4",onClick:l[0]||(l[0]=s=>u(i).push("/"))},[h(u(b),{class:"w-10 h-10 cursor-pointer bg-accent-600 p-2 rounded-lg text-text-0 hover:bg-accent-700 hover:scale-105 transition-all duration-300"})])]))}};export{le as default};
