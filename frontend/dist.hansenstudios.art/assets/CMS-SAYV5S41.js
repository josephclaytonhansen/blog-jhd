import{a as Ie,r as u,m as Ue,p as Ne,o as he,u as Ee,i as Ce,s as A,g as Ve,h as l,c as r,e,w as g,v as P,q as i,j as c,F as C,x as V,y as I,b as q,f as ue,t as m,z as me,d as z,A as Te,B as Ae,C as Oe,D as ve,E as Be,k as E,G as F,H as Re,I as je,n as xe}from"./index-D_G-YzZ9.js";import{R as ge,F as Pe,C as Le,T as fe,S as De,U as $e,_ as Y,a as K,P as Q,b as ee,c as H,M as He,d as ze,e as Fe}from"./comments-DIC_5S2U.js";import{_ as Je}from"./avatar-BJePjPwo.js";import{c as f,E as _e}from"./eye-BiAqFOlB.js";import{M as Me}from"./_commonjsHelpers-ChYRfePt.js";import{P as pe}from"./pen-line-s98tM0ZR.js";import{C as ke,X as ye}from"./x-CRJDdlkW.js";/**
 * @license lucide-vue-next v0.376.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=f("BlocksIcon",[["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["path",{d:"M10 21V8a1 1 0 0 0-1-1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-5a1 1 0 0 0-1-1H3",key:"1fpvtg"}]]);/**
 * @license lucide-vue-next v0.376.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=f("BookUserIcon",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["path",{d:"M15 13a3 3 0 1 0-6 0",key:"10j68g"}]]);/**
 * @license lucide-vue-next v0.376.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=f("BookXIcon",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}],["path",{d:"m14.5 7-5 5",key:"dy991v"}],["path",{d:"m9.5 7 5 5",key:"s45iea"}]]);/**
 * @license lucide-vue-next v0.376.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=f("CogIcon",[["path",{d:"M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16Z",key:"sobvz5"}],["path",{d:"M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",key:"11i496"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}]]);/**
 * @license lucide-vue-next v0.376.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=f("HardDriveUploadIcon",[["path",{d:"m16 6-4-4-4 4",key:"13yo43"}],["path",{d:"M12 2v8",key:"1q4o3n"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",key:"w68u3i"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"M10 18h.01",key:"h775k"}]]);/**
 * @license lucide-vue-next v0.376.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=f("LineChartIcon",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-vue-next v0.376.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=f("MailCheckIcon",[["path",{d:"M22 13V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v12c0 1.1.9 2 2 2h8",key:"12jkf8"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}],["path",{d:"m16 19 2 2 4-4",key:"1b14m6"}]]);/**
 * @license lucide-vue-next v0.376.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ke=f("MailWarningIcon",[["path",{d:"M22 10.5V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v12c0 1.1.9 2 2 2h12.5",key:"e61zoh"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}],["path",{d:"M20 14v4",key:"1hm744"}],["path",{d:"M20 22v.01",key:"12bgn6"}]]);/**
 * @license lucide-vue-next v0.376.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=f("MailIcon",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-vue-next v0.376.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const et=f("NewspaperIcon",[["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2",key:"7pis2x"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M10 6h8v4h-8V6Z",key:"smlsk5"}]]);/**
 * @license lucide-vue-next v0.376.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=f("ShieldCheckIcon",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-vue-next v0.376.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=f("ShieldMinusIcon",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M9 12h6",key:"1c52cq"}]]);/**
 * @license lucide-vue-next v0.376.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const st=f("SwatchBookIcon",[["path",{d:"M11 17a4 4 0 0 1-8 0V5a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2Z",key:"1ldrpk"}],["path",{d:"M16.7 13H19a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2H7",key:"11i5po"}],["path",{d:"M 7 17h0.01",key:"10821z"}],["path",{d:"m11 8 2.3-2.3a2.4 2.4 0 0 1 3.404.004L18.6 7.6a2.4 2.4 0 0 1 .026 3.434L9.9 19.8",key:"o2gii7"}]]);/**
 * @license lucide-vue-next v0.376.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const at=f("UserCheckIcon",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-vue-next v0.376.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ot=f("UserMinusIcon",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-vue-next v0.376.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nt=f("UsersIcon",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-vue-next v0.376.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=f("VenetianMaskIcon",[["path",{d:"M2 12a5 5 0 0 0 5 5 8 8 0 0 1 5 2 8 8 0 0 1 5-2 5 5 0 0 0 5-5V7h-5a8 8 0 0 0-5 2 8 8 0 0 0-5-2H2Z",key:"1g6z3j"}],["path",{d:"M6 11c1.5 0 3 .5 3 2-2 0-3 0-3-2Z",key:"c2lwnf"}],["path",{d:"M18 11c-1.5 0-3 .5-3 2 2 0 3 0 3-2Z",key:"njd9zo"}]]);/**
 * @license lucide-vue-next v0.376.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=f("WifiIcon",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]),G=R=>(Te("data-v-2b727e85"),R=R(),Ae(),R),rt={class:"p-5 text-text-1 flex gap-4 justify-center w-full flex-wrap"},it={class:"flex gap-3 items-start mt-3 w-full"},ct={class:"flex items-center gap-4 px-2 py-1"},dt={class:"text-xl"},ut=G(()=>e("hr",{class:"border-backdrop-1 border-2 mb-3"},null,-1)),pt={class:"flex flex-row justify-between flex-wrap gap-3"},ht={class:"flex items-center gap-3"},mt={class:"flex items-center gap-1 shrink"},vt={class:"flex items-center gap-1 shrink"},xt={class:"flex items-center gap-1 shrink"},gt={key:2,class:"flex items-center gap-1 shrink"},ft={class:"cursor-pointer bg-accent-600 px-2 py-2 rounded text-text-0 hover:bg-accent-700 hover:scale-105 transition-all duration-300"},_t={class:"p-5"},kt=G(()=>e("h2",{class:"text-xl mb-2"},"Edit User",-1)),yt={class:"flex gap-4 items-center bg-backdrop-1 text-text-1 px-2 py-2 rounded-lg"},bt={class:"flex gap-4 items-center px-2 bg-backdrop-1 rounded-lg"},wt={class:"text-text-1 px-2 py-2 rounded"},St={class:"text-text-1 px-2 py-2 rounded"},Ct={class:"flex gap-4 items-center px-2 bg-backdrop-1 rounded-lg"},$t={class:"text-text-1 px-2 py-2 rounded"},Mt={class:"text-text-1 px-2 py-2 rounded"},It=G(()=>e("h2",{class:"text-md mt-4"},"Comments",-1)),Ut={class:"flex flex-row justify-between items-end flex-wrap gap-3"},Nt={class:"flex items-center gap-3"},Et=G(()=>e("h2",{class:"text-md mt-4"},"Posts",-1)),Vt={class:"flex flex-row justify-between items-end flex-wrap gap-3"},Tt={class:"flex items-center gap-3"},At={class:"flex gap-3"},Ot=G(()=>e("div",{class:"w-[1px] h-[40px] mt-[12px] mx-1 border-r-2 border-backdrop-1"},null,-1)),Bt={key:5,class:"w-[1px] h-[40px] mt-[12px] mx-1 border-r-2 border-backdrop-1"},Rt={__name:"users",setup(R){const p=u(!1),_=Ue(Ne),h=u([]),T=u([]),y=async()=>{let o={headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json",Authorization:"Bearer "+localStorage.token},withCredentials:!0};const s=await fetch("https://seabass.josephhansen.dev/user",{method:"GET",headers:o.headers,credentials:"include"});if(s.status!==200)throw k.error("Network error"),new Error("Network error- could not get users");return await s.json()};he(async()=>{if(_.user?p.value=!0:p.value=!1,p.value){let o,s;localStorage.getItem("users")&&(h.value=JSON.parse(localStorage.getItem("users"))),localStorage.getItem("posts")&&(T.value=JSON.parse(localStorage.getItem("posts"))),o=await y(),s=await ce(),(!h.value||JSON.stringify(h.value)!==JSON.stringify(o))&&(h.value=o,localStorage.setItem("users",JSON.stringify(h.value))),(!T.value||JSON.stringify(T.value)!==JSON.stringify(s))&&(T.value=s,localStorage.setItem("posts",JSON.stringify(T.value)))}else k.info("Your session has expired. Please log in."),v.push("/login")});const k=Ee(),v=Ce();function $(o,s){return o.filter(s)}const b=A(()=>$(h.value,o=>o.role==="admin")),j=A(()=>$(h.value,o=>o.role!=="admin"&&o.displayName.startsWith("anon")===!1)),U=A(()=>$(h.value,o=>o.displayName.startsWith("anon")===!0)),X=u([{key:"Admins",icon:we,users:b,class:"shrink"},{key:"Users",icon:at,users:j,class:"grow"},{key:"Anonymized Users",icon:ot,users:U,class:"shrink"}]),O=o=>{let s=[],x=[];return o.forEach(n=>{s.includes(n.registeredIp)?x.push(n.registeredIp):s.push(n.registeredIp)}),x},B=A(()=>O(h.value)),L=async o=>{let s={headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json",Authorization:"Bearer "+localStorage.token},withCredentials:!0};const x=await fetch("https://seabass.josephhansen.dev/user/anonymize/"+o,{method:"PUT",headers:s.headers,credentials:"include"});if(x.status!==200)throw k.error("Network error"),new Error("Network error- could not anonymize user");await x.json().then(n=>{k.success("User anonymized")}),h.value=await y()},a=u({}),J=o=>{a.value._id!==o?(a.value=h.value.find(s=>s._id===o),d.value=a.value.email,document.getElementById("current-user-edit").scrollIntoView({behavior:"smooth"})):a.value={}},N=async o=>{let s={headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer "+localStorage.token},withCredentials:!0};const x=await fetch("https://seabass.josephhansen.dev/user/edit/"+o,{method:"PUT",headers:s.headers,credentials:"include",body:JSON.stringify(a.value)});if(x.status!==200)throw k.error("Network error"),new Error("Network error- could not update user");await x.json().then(n=>{k.success("User updated")}),h.value=await y()},le=async o=>{a.value.role="admin",N(o)},W=async o=>{a.value.role="user",N(o)},re=async o=>{a.value.role="author",N(o)},D=async o=>{a.value.role="user",N(o)},S=o=>{a.value={},d.value=""},d=u(""),t=u(""),M=u(""),ie=async o=>{let s={headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer "+localStorage.token},withCredentials:!0};const x=await fetch("https://seabass.josephhansen.devuser/mail/"+o,{method:"POST",headers:s.headers,credentials:"include",body:JSON.stringify({subject:M.value,message:t.value,email:o})});if(x.status!==200)throw k.error("Network error"),new Error("Network error- could not send email");await x.json().then(n=>{k.success("Email sent")})},Z=o=>o.comments.filter(s=>s.flagged===!0),ce=async()=>{const o=await fetch("https://seabass.josephhansen.dev/blog/");if(o.status!==200)throw k.error("Network error"),new Error("Network error- could not get posts");const s=await o.json();return localStorage.setItem("posts",JSON.stringify(s)),s},de=o=>{let x=JSON.parse(localStorage.getItem("posts")).filter(n=>n.author===o._id);return o.posts=x,x.length};return(o,s)=>{const x=Ve("router-link");return l(),r(C,null,[e("div",rt,[e("div",it,[g(e("textarea",{class:"accent-accent-500 h-[40px] bg-backdrop-1 text-text-1 px-2 py-2 rounded grow","onUpdate:modelValue":s[0]||(s[0]=n=>t.value=n),placeholder:"Message"},null,512),[[P,t.value]]),g(e("input",{type:"text","onUpdate:modelValue":s[1]||(s[1]=n=>M.value=n),class:"accent-accent-500 grow bg-backdrop-1 text-text-1 px-2 py-2 rounded",placeholder:"Subject"},null,512),[[P,M.value]]),g(e("input",{type:"text","onUpdate:modelValue":s[2]||(s[2]=n=>d.value=n),class:"accent-accent-500 bg-backdrop-1 text-text-1 px-2 py-2 rounded",placeholder:"Email"},null,512),[[P,d.value]]),e("button",{class:"cursor-pointer bg-backdrop-0 px-2 py-2 rounded text-text-0 hover:bg-backdrop-1 hover:scale-105 transition-all duration-300",onClick:s[3]||(s[3]=n=>ie(d.value))},[i(c(Qe))])]),(l(!0),r(C,null,V(X.value,n=>(l(),r("section",{key:n.key,class:I(["p-3 my-4 bg-backdrop-2 rounded-lg",n.class])},[e("div",ct,[(l(),q(ue(n.icon))),e("h2",dt,m(n.key),1)]),ut,e("div",pt,[(l(!0),r(C,null,V(n.users,w=>(l(),r("div",null,[e("div",ht,[e("div",mt,[i(x,{class:"hover:text-accent-500 transition-all duration-300",to:`/profile/${w.displayName.replace(/ /g,"-")}`},{default:me(()=>[i(Je,{image:w.picture,classes:"ring-2 mr-2 ring-accent-500 hover:cursor-pointer hover:ring-accent-300 hover:ring-4 transition-all duration-300 avatar w-12 h-12",alt:"avatar"},null,8,["image"])]),_:2},1032,["to"]),i(x,{class:"hover:text-accent-500 transition-all duration-300",to:`/profile/${w.displayName.replace(/ /g,"-")}`},{default:me(()=>[e("h3",null,m(w.displayName),1)]),_:2},1032,["to"])]),w.verifiedEmail||w.role==="user"?(l(),q(c(Ye),{key:0,class:"text-emerald-500"})):w.displayName.startsWith("anon")?z("",!0):(l(),q(c(Ke),{key:1,class:"text-amber-500"})),i(c(ge),{class:I(B.value.indexOf(w.registeredIp)===-1?"text-emerald-500":"text-amber-500")},null,8,["class"]),e("div",vt,[i(c(Me)),e("h3",null,m(w.comments.length),1)]),e("div",xt,[i(c(Pe),{class:I(Z(w).length>0?"text-red-500":"")},null,8,["class"]),e("h3",null,m(Z(w).length),1)]),w.role=="admin"||w.role=="author"?(l(),r("div",gt,[i(c(et)),e("h3",null,m(de(w)),1)])):z("",!0),e("button",ft,[i(c(We),{onClick:ga=>J(w._id)},null,8,["onClick"])])])]))),256))])],2))),128))]),e("div",_t,[e("div",{id:"current-user-edit",class:I(["p-5 text-text-1 bg-backdrop-2 rounded-lg transition-all duration-300",a.value._id?"opacity-100":"opacity-0"])},[kt,e("form",{class:"flex flex-row justify-between items-end flex-wrap gap-3",onPrevent:s[10]||(s[10]=n=>N(a.value._id))},[g(e("input",{type:"text","onUpdate:modelValue":s[4]||(s[4]=n=>a.value.displayName=n),class:"accent-accent-500 bg-backdrop-1 text-text-1 px-2 py-2 rounded",placeholder:"Display Name"},null,512),[[P,a.value.displayName]]),g(e("input",{type:"text","onUpdate:modelValue":s[5]||(s[5]=n=>a.value.email=n),class:"accent-accent-500 bg-backdrop-1 text-text-1 px-2 py-2 rounded",placeholder:"Email"},null,512),[[P,a.value.email]]),g(e("input",{type:"text","onUpdate:modelValue":s[6]||(s[6]=n=>a.value.website=n),class:"accent-accent-500 bg-backdrop-1 text-text-1 px-2 py-2 rounded",placeholder:"Website"},null,512),[[P,a.value.website]]),g(e("input",{type:"text","onUpdate:modelValue":s[7]||(s[7]=n=>a.value.picture=n),class:"accent-accent-500 bg-backdrop-1 text-text-1 px-2 py-2 rounded",placeholder:"Avatar"},null,512),[[P,a.value.picture]]),g(e("input",{type:"text","onUpdate:modelValue":s[8]||(s[8]=n=>a.value.shortBio=n),class:"accent-accent-500 bg-backdrop-1 text-text-1 px-2 py-2 rounded",placeholder:"Short Bio"},null,512),[[P,a.value.shortBio]]),g(e("input",{type:"text","onUpdate:modelValue":s[9]||(s[9]=n=>a.value.longBio=n),class:"accent-accent-500 bg-backdrop-1 text-text-1 px-2 py-2 rounded",placeholder:"Long Bio"},null,512),[[P,a.value.longBio]]),e("h3",yt,"Role: "+m(a.value.role),1),e("div",bt,[i(c(ge)),e("h3",wt,"Registered IP: "+m(a.value.registeredIp),1),e("h3",St,"Last IP: "+m(a.value.lastIp),1)]),e("div",Ct,[i(c(Le)),e("h3",$t,"Last login: "+m(new Date(a.value.lastLogin).toLocaleString()),1),e("h3",Mt,"Last edit: "+m(new Date(a.value.lastEdit).toLocaleString()),1)])],32),It,e("div",Ut,[(l(!0),r(C,null,V(a.value.comments,n=>(l(),r("div",null,[e("div",Nt,[e("p",null,m(n.content),1),i(c(fe)),i(c(_e)),i(c(pe))])]))),256))]),Et,e("div",Vt,[(l(!0),r(C,null,V(a.value.posts,n=>(l(),r("div",null,[e("div",Tt,[e("p",null,m(n.title),1),i(c(fe)),i(c(_e)),i(c(pe))])]))),256))]),e("div",At,[e("button",{class:"cursor-pointer bg-accent-600 px-2 py-2 rounded text-text-0 hover:bg-accent-700 hover:scale-105 transition-all duration-300 mt-3",onClick:s[11]||(s[11]=n=>N(a.value._id))},[i(c(De))]),a.value.role==="user"&&a.value.role!=="admin"?(l(),r("button",{key:0,class:"cursor-pointer bg-green-500 px-2 py-2 rounded text-text-0 hover:bg-green-600 hover:scale-105 transition-all duration-300 mt-3",onClick:s[12]||(s[12]=n=>re(a.value._id))},[i(c(Ge))])):a.value.role==="author"?(l(),r("button",{key:1,class:"cursor-pointer bg-red-500 px-2 py-2 rounded text-text-0 hover:bg-red-600 hover:scale-105 transition-all duration-300 mt-3",onClick:s[13]||(s[13]=n=>D(a.value._id))},[i(c(Xe))])):z("",!0),a.value.role==="admin"?(l(),r("button",{key:2,class:"cursor-pointer bg-red-500 px-2 py-2 rounded text-text-0 hover:bg-red-600 hover:scale-105 transition-all duration-300 mt-3",onClick:s[14]||(s[14]=n=>W(a.value._id))},[i(c(tt))])):a.value.role==="author"?(l(),r("button",{key:3,class:"cursor-pointer bg-green-500 px-2 py-2 rounded text-text-0 hover:bg-green-600 hover:scale-105 transition-all duration-300 mt-3",onClick:s[15]||(s[15]=n=>le(a.value._id))},[i(c(we))])):z("",!0),Ot,a.value.role!=="admin"?(l(),r("button",{key:4,class:"cursor-pointer bg-orange-500 px-2 py-2 rounded text-text-0 hover:bg-orange-600 hover:scale-105 transition-all duration-300 mt-3",onClick:s[16]||(s[16]=n=>L(a.value._id))},[i(c(lt))])):z("",!0),a.value.role!=="admin"?(l(),r("div",Bt)):z("",!0),e("button",{class:"cursor-pointer bg-accent-600 px-2 py-2 rounded text-text-0 hover:bg-accent-700 hover:scale-105 transition-all duration-300 mt-3",onClick:s[17]||(s[17]=n=>S(a.value._id))},[i(c($e))])])],2)])],64)}}},se=Ie(Rt,[["__scopeId","data-v-2b727e85"]]),jt={class:"w-full h-full overflow-hidden flex flex-row max-h-[100vh]"},Pt={class:"w-[100%] h-[100vh] min-w-[300px] min-h-[400px]",style:{resize:"both",overflow:"auto"}},Lt=["src"],ae={__name:"analytics",setup(R){const p=u("https://matomo.josephhansen.dev");return(_,h)=>(l(),r("div",jt,[e("div",Pt,[e("iframe",{src:p.value,style:{width:"100%",height:"100%",border:"none"}},null,8,Lt)])]))}},Dt={key:1},Ht=e("label",{for:"option1"},"Option 1",-1),zt=e("label",{for:"option2"},"Option 2",-1),oe={__name:"toggle",props:{value:Boolean,width:String,height:String,ringClass:String,onColor:{String,default:"accent-500"},offColor:{String,default:"backdrop-1"}},emits:["update:modelValue"],setup(R,{emit:p}){const _=u(!1),h=()=>{_.value=!_.value,T("update:modelValue",_.value)},T=p,y=R;let k=A(()=>`bg-${_.value?y.onColor:y.offColor}`),v=A(()=>y.ringClass),$=A(()=>`w-${y.width}`),b=A(()=>`h-${y.width/2}`),j=A(()=>[k.value,v.value,"flex","rounded-full",$.value,b.value,"cursor-pointer","transition-all","duration-300"]),U=u(!1);return Oe(()=>{U.value=window.matchMedia("(pointer: fine)").matches}),(X,O)=>c(U)?(l(),r("div",{key:0,onClick:h,class:I([...c(j),`hover:ring-${y.ringHoverColor}`])},[e("div",{class:I(["relative w-1/2 cursor-pointer transition-all duration-200 rounded-full h-full bg-backdrop-300",_.value?"left-1/2":"left-0"])},null,2)],2)):(l(),r("div",Dt,[g(e("input",{type:"radio",value:!0,"onUpdate:modelValue":O[0]||(O[0]=B=>_.value=B),id:"option1",name:"options"},null,512),[[ve,_.value]]),Ht,g(e("input",{type:"radio",value:!1,"onUpdate:modelValue":O[1]||(O[1]=B=>_.value=B),id:"option2",name:"options"},null,512),[[ve,_.value]]),zt]))}};var Se=["blog.josephhansen.dev","hansenstudios.art"];const Ft={class:"fixed z-50 right-2 bottom-2 p-2 gap-2 hidden lg:flex items-end"},Jt={class:"bg-accent-500 text-text-0 rounded p-2 cursor-pointer hover:bg-accent-600 duration-300 transition-all flex gap-2"},qt={class:"text-text-0 flex gap-2 items-center"},Gt={class:"bg-backdrop-1 p-2 rounded flex items-center gap-2 max-w-[25vw]"},Xt={class:"p-8 flex flex-wrap gap-4 items-stretch"},Wt={class:"p-8 bg-backdrop-2 rounded shrink max-w-full lg:max-w-[31%] transition-all duration-300"},Zt=e("h2",{class:"text-2xl text-text-0 pb-4"},"Current Sites",-1),Yt=e("p",{class:"text-text-1 pb-2"},[e("details",null,[e("summary",null,"Info"),E(" Seabass makes it simple to manage multiple sites from one dashboard. If you want to add or remove a site, you'll need to do so from the Seabass server terminal."),e("br"),e("br"),E(" Note that a Seabass failure doesn't necessarily mean that Seabass is offline. This may be a CORS issue- make sure that the site is configured to allow connections from this Seabass dashboard URL. ")])],-1),Kt={class:"text-text-1"},Qt={key:0},es={key:1},ts={key:2},ss={key:3},as={class:"text-text-3 text-sm pt-4 italic"},os=e("hr",{class:"border-backdrop-1 my-2"},null,-1),ns={class:"flex gap-3"},ls=e("br",null,null,-1),rs=e("br",null,null,-1),is=e("hr",{class:"border-backdrop-1 my-2"},null,-1),cs={class:"flex gap-3"},ds=e("br",null,null,-1),us=e("br",null,null,-1),ps=e("hr",{class:"border-backdrop-1 mt-2"},null,-1),hs=e("h2",{class:"text-2xl text-text-0 pb-4 pt-8"},"Select Site to Design",-1),ms=e("p",{class:"text-sm italic text-text-2 pb-2"},"Defaults do not reflect the current status of the site",-1),vs={class:"flex gap-4"},xs=["value"],gs={class:"p-8 bg-backdrop-2 rounded shrink max-w-full lg:max-w-[31%]"},fs=e("h2",{class:"text-2xl text-text-0 pb-4"},"Font Settings",-1),_s=e("hr",{class:"border-backdrop-1 my-2 border-b-2"},null,-1),ks=e("h3",{class:"text-text-1 pb-2"},"Sans serif",-1),ys=["value"],bs=e("h3",{class:"text-text-1 pb-2 pt-4"},"Serif",-1),ws=["value"],Ss={class:"flex mt-6"},Cs=e("p",{class:"text-text-1 pr-2"},"Sans body text",-1),$s=e("p",{class:"text-text-1 pl-2"},"Serif body text",-1),Ms={class:"flex"},Is=e("p",{class:"text-text-1 pr-2"},"Sans header text",-1),Us=e("p",{class:"text-text-1 pl-2"},"Serif header text",-1),Ns={class:"flex mb-6"},Es=e("p",{class:"text-text-1 pr-2"},null,-1),Vs=e("p",{class:"text-text-1 pl-2"},"Uppercase top-level headers",-1),Ts={class:"prose"},As=e("br",null,null,-1),Os=e("br",null,null,-1),Bs=e("span",null,[E("The "),e("em",null,"quick brown fox"),E(" jumped over the "),e("b",null,"lazy dog.")],-1),Rs={class:"p-8 bg-backdrop-2 rounded grow max-w-full lg:max-w-[31%]"},js=e("h2",{class:"text-2xl text-text-0 pb-4"},"Color Settings",-1),Ps=e("hr",{class:"border-backdrop-1 my-2 border-b-2"},null,-1),Ls=e("h3",{class:"text-text-1 pb-2"},"Accent Color",-1),Ds={class:"flex gap-4"},Hs=["value"],zs=e("h3",{class:"text-text-1 pb-2 pt-4"},"Backdrop Color",-1),Fs={class:"flex gap-4"},Js=["value"],qs=e("p",{class:"text-center m-auto w-min h-min"},"Abc",-1),Gs=[qs],Xs=e("p",{class:"text-center m-auto w-min h-min"},"Abc",-1),Ws=[Xs],Zs=e("p",{class:"mt-3 text-text-0"},"Generally, you should use one of the grays (zinc, stone, gray, neutral, slate) for the backdrop color. The backdrop color sets the background colors as well as the text colors (this maintains color harmony between backgrounds and text).",-1),Ys=e("h3",{class:"text-text-1 pb-2 pt-4"},"Theme",-1),Ks={class:"flex mb-6"},Qs=e("p",{class:"text-text-1 pr-2"},"Dark",-1),ea=e("p",{class:"text-text-1 pl-2"},"Light",-1),ta=e("p",{class:"text-text-0 py-2"},`"Dark" means a dark background with light text. "Light" means a light background with dark text. Note that a user's browser settings may override this.`,-1),sa={class:"p-8 bg-backdrop-2 rounded shrink max-w-full lg:max-w-[31%]"},aa=e("h2",{class:"text-2xl text-text-0 pb-4"},"Rounded Corners",-1),oa={class:"flex gap-4"},na=["value"],la={class:"flex mt-2 gap-3 items-center"},ra=e("label",{for:"roundAvatarsCheckbox",class:"text-text-1"},"Circular avatars",-1),ia={class:"p-2 gap-2 flex-wrap flex lg:hidden"},ca={class:"bg-accent-500 text-text-0 rounded p-2 cursor-pointer hover:bg-accent-600 duration-300 transition-all flex gap-2"},da={class:"text-text-0 flex gap-2 items-center h-min"},ua={class:"text-sm bg-backdrop-1 p-2 rounded flex items-center gap-2 h-min overflow-hidden"},ne={__name:"settings",setup(R){const p=u([]),_=u("https://"),h=u([]),T=async S=>{let d=!1,t=!1;try{d=await xe.get(`${_.value}${S}/`).then(M=>M.status===200).catch(M=>!1),t=await xe.get(`${_.value}${S}/seabasstest`).then(M=>M.status===200).catch(M=>!1)}catch(M){console.error(M),d=!1,t=!1}return[d,t]};he(async()=>{p.value=Se;for(const S of p.value)h.value[S]=await T(S);return{prefixes:p,testResults:h}});const y=u([{name:"Fira Sans",font:"font-FiraSans"},{name:"Merriweather Sans",font:"font-MerriweatherSans"},{name:"Cairo",font:"font-Cairo"},{name:"Titilium",font:"font-Titilium"},{name:"Anaheim",font:"font-Anaheim"},{name:"Prompt",font:"font-Prompt"},{name:"Comfortaa",font:"font-Comfortaa"},{name:"Poppins",font:"font-Poppins"},{name:"Lato",font:"font-Lato"},{name:"Montserrat",font:"font-Montserrat"},{name:"Nunito Sans",font:"font-NunitoSans"},{name:"Oswald",font:"font-Oswald"}]),k=u([{name:"Libre Baskerville",font:"font-LibreBaskerville"},{name:"Martel",font:"font-Martel"},{name:"CormorantGaramond",font:"font-CormorantGaramond"},{name:"Glegoo",font:"font-Glegoo"},{name:"Graduate",font:"font-Graduate"},{name:"Besley",font:"font-Besley"},{name:"Maitree",font:"font-Maitree"},{name:"Lora",font:"font-Lora"},{name:"Slabo",font:"font-Slabo"},{name:"Crimson Text",font:"font-CrimsonText"},{name:"Playfair Display",font:"font-PlayfairDisplay"}]),v=u(["slate","gray","zinc","neutral","stone","red","orange","amber","yellow","lime","green","emerald","teal","cyan","sky","blue","indigo","violet","purple","fuchsia","pink","rose"]),$=u(y.value[0]),b=u(k.value[0]),j=u(v.value[13]),U=u(v.value[0]),X=A(()=>`bg-${j.value}-500`),O=u("dark"),B=u(!1),L=u(!1),a=u(!1),J=u(!1),N=u(""),le=Se,W=u({THEME:"dark",FONT_SANS:"Fira Sans",FONT_SERIF:"Libre Baskerville",ACCENT_COLOR:"blue",BACKDROP_COLOR:"slate",SERIF_BODY_TEXT:!1,SERIF_HEADER_TEXT:!1,UPPERCASE_HEADERS:!1,ROUNDED:"rounded",ROUND_AVATARS:!1}),re=u(["sharp","subtle","rounded"]),D=u("rounded");return Be([$,b,j,U,O,B,L,a,D,J],([S,d,t,M,ie,Z,ce,de,o,s])=>{W.value={THEME:ie,FONT_SANS:S.name,FONT_SERIF:d.name,ACCENT_COLOR:t,BACKDROP_COLOR:M,SERIF_BODY_TEXT:Z,SERIF_HEADER_TEXT:ce,UPPERCASE_HEADERS:de,ROUNDED:o,ROUND_AVATARS:s.valueOf()}}),A(()=>{let S="";for(const[d,t]of Object.entries(W.value))S+=`${d}="${t}" `;return S+=`SITE="${N.value}"`,S}),(S,d)=>(l(),r(C,null,[e("div",Ft,[e("button",Jt,[i(c(be),{class:"text-text-0 shrink"})]),e("div",qt,[e("p",Gt,[i(c(qe),{class:"text-text-3"}),E(m(N.value),1)])])]),e("div",Xt,[e("div",Wt,[Zt,Yt,e("ul",Kt,[(l(!0),r(C,null,V(p.value,t=>(l(),r("li",{key:t,class:"text-text-1 flex gap-3"},[h.value[t]&&h.value[t][0]?(l(),r("div",Qt,[i(c(te),{class:"inline-block w-6 h-6 text-green-500"})])):(l(),r("div",es,[i(c(te),{class:"inline-block w-6 h-6 text-red-500"})])),h.value[t]&&h.value[t][1]?(l(),r("div",ts,[i(c(ke),{class:"inline-block w-6 h-6 text-green-500"})])):(l(),r("div",ss,[i(c(ye),{class:"inline-block w-6 h-6 text-red-500"})])),E(" "+m(t),1)]))),128))]),e("p",as,[os,e("div",ns,[i(c(te),{class:"inline-block w-6 h-6 text-green-500 pr-1"}),E("Connection successful"),ls,i(c(te),{class:"inline-block w-6 h-6 text-red-500 pr-1"}),E("Connection failed"),rs]),is,e("div",cs,[i(c(ke),{class:"inline-block w-6 h-6 text-green-500 pr-1"}),E("Seabass check successful"),ds,i(c(ye),{class:"inline-block w-6 h-6 text-red-500 pr-1"}),E("Seabass check failed"),us]),ps]),hs,ms,e("div",vs,[g(e("select",{"onUpdate:modelValue":d[0]||(d[0]=t=>N.value=t),class:"bg-backdrop-1 text-text-1 rounded p-2"},[(l(!0),r(C,null,V(c(le),t=>(l(),r("option",{key:t,value:t},m(t),9,xs))),128))],512),[[F,N.value]])])]),e("div",gs,[fs,_s,ks,g(e("select",{"onUpdate:modelValue":d[1]||(d[1]=t=>$.value=t),class:"bg-backdrop-1 text-text-1 rounded p-2"},[(l(!0),r(C,null,V(y.value,t=>(l(),r("option",{key:t,value:t},m(t.name),9,ys))),128))],512),[[F,$.value]]),bs,g(e("select",{"onUpdate:modelValue":d[2]||(d[2]=t=>b.value=t),class:"bg-backdrop-1 text-text-1 rounded p-2"},[(l(!0),r(C,null,V(k.value,t=>(l(),r("option",{key:t,value:t},m(t.name),9,ws))),128))],512),[[F,b.value]]),e("div",Ss,[Cs,i(oe,{modelValue:B.value,"onUpdate:modelValue":d[3]||(d[3]=t=>B.value=t),width:8,ringClass:"ring-accent-600 hover:ring-accent-500 ring-2 hover:ring-4"},null,8,["modelValue"]),$s]),e("div",Ms,[Is,i(oe,{modelValue:L.value,"onUpdate:modelValue":d[4]||(d[4]=t=>L.value=t),width:8,ringClass:"ring-accent-600 hover:ring-accent-500 ring-2 hover:ring-4"},null,8,["modelValue"]),Us]),e("div",Ns,[Es,i(oe,{modelValue:a.value,"onUpdate:modelValue":d[5]||(d[5]=t=>a.value=t),width:8,ringClass:"ring-accent-600 hover:ring-accent-500 ring-2 hover:ring-4"},null,8,["modelValue"]),Vs]),e("div",Ts,[e("h5",{class:I(["text-text-0 text-3xl",[L.value?b.value.font:$.value.font,a.value?"uppercase":""]])},"Sample top-level heading",2),e("h6",{class:I(["text-text-1 text-xl",L.value?b.value.font:$.value.font])},"Sample mid-level heading",2),e("p",{class:I(["text-text-1",B.value?b.value.font:$.value.font])},[E("This is a sample paragraph. It should be easy to read and not too overwhelming. The fonts should complement each other."),As,Os,Bs],2)])]),e("div",Rs,[js,Ps,Ls,e("div",Ds,[g(e("select",{"onUpdate:modelValue":d[6]||(d[6]=t=>j.value=t),class:"bg-backdrop-1 text-text-1 rounded p-2"},[(l(!0),r(C,null,V(v.value,t=>(l(),r("option",{key:t,value:t},m(t),9,Hs))),128))],512),[[F,j.value]]),e("div",{class:I(["w-8 h-8 rounded",X.value])},null,2)]),zs,e("div",Fs,[g(e("select",{"onUpdate:modelValue":d[7]||(d[7]=t=>U.value=t),class:"bg-backdrop-1 text-text-1 rounded p-2"},[(l(!0),r(C,null,V(v.value,t=>(l(),r("option",{key:t,value:t},m(t),9,Js))),128))],512),[[F,U.value]]),e("div",{class:I(["w-8 h-8 rounded ring-2 ring-text-1 flex",`bg-${U.value}-800 text-${U.value}-300`])},Gs,2),e("div",{class:I(["w-8 h-8 rounded ring-2 ring-text-0 flex",`bg-${U.value}-700 text-${U.value}-200`])},Ws,2)]),Zs,Ys,e("div",Ks,[Qs,i(oe,{modelValue:O.value,"onUpdate:modelValue":d[8]||(d[8]=t=>O.value=t),width:8,ringClass:"ring-accent-600 hover:ring-accent-500 ring-2 hover:ring-4"},null,8,["modelValue"]),ea]),ta]),e("div",sa,[aa,e("div",oa,[g(e("select",{"onUpdate:modelValue":d[9]||(d[9]=t=>D.value=t),class:"bg-backdrop-1 text-text-1 rounded p-2"},[(l(!0),r(C,null,V(re.value,t=>(l(),r("option",{key:t,value:t},m(t),9,na))),128))],512),[[F,D.value]]),e("div",{style:Re(D.value==="sharp"?"border-radius:0px":D.value==="subtle"?"border-radius:7%;":"border-radius:25%"),class:"w-8 h-8 ring-accent-500 ring-4"},null,4)]),e("div",la,[g(e("input",{type:"checkbox",class:"checkbox w-6 h-6 rounded",name:"roundAvatarsCheckbox","onUpdate:modelValue":d[10]||(d[10]=t=>J.value=t)},null,512),[[je,J.value]]),ra])]),e("div",ia,[e("button",ca,[i(c(be),{class:"text-text-0"}),E(" Send settings to site")]),e("div",da,[e("code",ua,m(N.value),1)])])])],64))}},pa={class:"w-full h-full flex overflow-hidden"},ha={id:"sidebar",class:"fixed h-screen overflow-y-hidden bg-backdrop-2 flex flex-col items-start justify-center min-w-[30px] md:min-w-[150px]"},ma=["onClick"],va={class:"hidden sm:hidden md:block"},xa={id:"center",class:"flex-grow h-full overflow-y-auto bg-backdrop-3 ml-[30px] md:ml-[150px] min-h-[100vh]"},Ca={__name:"CMS",setup(R){const p=u(H),_=Ce(),h=[{icon:He,text:"Preview",component:H},{icon:ze,text:"Posts",component:ee},{icon:pe,text:"Pages",component:Q},{icon:nt,text:"Users",component:se},{icon:Fe,text:"Tags",component:K},{icon:st,text:"Styles",component:ne},{icon:Ze,text:"Analytics",component:ae},{icon:Me,text:"Comments",component:Y},{icon:$e,text:"Logout",component:"logout"}],T=v=>{switch(v){case H:return"preview";case ee:return"posts";case Q:return"pages";case se:return"users";case K:return"tags";case ne:return"styles";case ae:return"analytics";case Y:return"comments"}},y=v=>localStorage.getItem("activeComponent")===v,k=v=>{switch(p.value=v,v){case H:localStorage.setItem("activeComponent","preview");break;case ee:localStorage.setItem("activeComponent","posts");break;case Q:localStorage.setItem("activeComponent","pages");break;case se:localStorage.setItem("activeComponent","users");break;case K:localStorage.setItem("activeComponent","tags");break;case ne:localStorage.setItem("activeComponent","styles");break;case ae:localStorage.setItem("activeComponent","analytics");break;case Y:localStorage.setItem("activeComponent","comments");break}v=="logout"&&_.push("/logout")};return he(()=>{let v=localStorage.getItem("activeComponent");if(v)switch(v){case"preview":p.value=H;break;case"posts":p.value=ee;break;case"pages":p.value=Q;break;case"users":p.value=se;break;case"tags":p.value=K;break;case"styles":p.value=ne;break;case"analytics":p.value=ae;break;case"comments":p.value=Y;break}else p.value=H,localStorage.setItem("activeComponent",H)}),(v,$)=>(l(),r("div",pa,[e("div",ha,[(l(),r(C,null,V(h,b=>e("div",{class:I(["text-text-2 flex flex-row items-center justify-start h-12 px-1 py-0 sm:px-4 lg:py-8 xl:py-10 md:py-6 sm:py-10 cursor-pointer transition-all hover:bg-backdrop-1 w-full duration-300",y(T(b.component))?"bg-backdrop-0 text-text-0":""]),onClick:j=>k(b.component)},[(l(),q(ue(b.icon),{class:"w-10 h-10 md:w-7 min-w-4 min-h-4 md:min-w-7 md:min-h-7 lg:w-5 md:mr-3"})),e("span",va,m(b.text),1)],10,ma)),64))]),e("div",xa,[(l(),q(ue(p.value)))])]))}};export{Ca as default};
