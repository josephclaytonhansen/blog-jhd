import{r as f,o as m,c,e,q as h,t as a,F as x,x as _,j as u,i as g,h as n}from"./index-pIveVP2p.js";import{_ as w}from"./avatar-Bsi5MsLZ.js";import{E as v}from"./eye-CDKkpTX0.js";import{H as y}from"./home-DXLwmIiz.js";const b={class:"flex bg-backdrop-3 h-[100vh] overflow-hidden w-full p-3 lg:p-0"},j={class:"bg-backdrop-2 text-text-0 p-8 m-w-[500px] w-full lg:w-1/2 h-auto m-auto rounded-xl"},E=e("h1",{class:"text-4xl font-normal text-left"},"Profile",-1),k=e("hr",{class:"border-backdrop-1 my-4"},null,-1),B={class:"flex flex-row items-stretch gap-12 justify-start h-auto flex-wrap"},C={class:"flex items-center gap-2 shrink flex-wrap max-w-[50%]"},N={class:"max-w-[100%] flex flex-col gap-2 border-r-2 pr-5 border-backdrop-1"},$={class:"text-2xl"},A={class:"text-md italic text-text-1"},P={class:"text-md italic text-text-2"},R={class:"flex flex-row items-start justify-start grow"},T={class:"text-lg text-text-1"},U=e("hr",{class:"border-backdrop-1 my-4"},null,-1),F={class:"flex flex-row items-center gap-4 justify-start h-auto flex-wrap"},S={class:"flex flex-col gap-2"},z=e("h3",{class:"text-2xl"},"Posts",-1),G={class:"flex flex-row items-center gap-2 justify-start h-auto flex-wrap"},H={class:"flex gap-2"},V={class:"flex flex-col items-center gap-2 justify-start h-auto flex-wrap"},q={class:"text-lg"},D={class:"text-md italic text-text-1"},I={class:"flex"},L={class:"text-md text-text-1"},M=e("hr",{class:"dividing-line-mid mx-2"},null,-1),J=e("hr",{class:"border-backdrop-1 my-4"},null,-1),K={class:"flex flex-row items-center gap-4 justify-start h-auto flex-wrap"},O={class:"flex flex-col gap-2"},Q=e("h3",{class:"text-2xl"},"Comments",-1),W={class:"flex flex-row items-center gap-2 justify-start h-auto flex-wrap"},X={class:"flex flex-col gap-2"},Y={class:"text-lg"},Z=e("div",{class:"flex items-center gap-2 justify-start h-auto flex-wrap"},null,-1),ae={__name:"Profile",setup(ee){const i=g(),t=f({}),p=async()=>{let d=i.currentRoute.value.params.id;if(d){let l="https://seabass.josephhansen.dev/user/id/"+d,s={headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json",Authorization:"Bearer "+localStorage.token},withCredentials:!0};try{await fetch(l,{method:"GET",headers:s.headers,credentials:"include"}).then(async o=>{if(o.status!==200)throw new Error("Network error- could not get user");t.value=await o.json(),console.log(t.value)}).catch(o=>{throw new Error(o.message||o.error||"Error getting user")})}catch(o){throw new Error(o.message||o.error||"Error getting user")}}else{let l=i.currentRoute.value.params.displayName;if(l){let s=`https://seabass.josephhansen.dev/user/displayname/${encodeURIComponent(l)}`,o={headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json",Authorization:"Bearer "+localStorage.token},withCredentials:!0};try{await fetch(s,{method:"GET",headers:o.headers,credentials:"include"}).then(async r=>{if(r.status!==200)throw new Error("Network error- could not get user");t.value=await r.json(),console.log(t.value)}).catch(r=>{throw new Error(r.message||r.error||"Error getting user")})}catch(r){throw new Error(r.message||r.error||"Error getting user")}}else i.push("/login")}};return m(async()=>{await p()}),(d,l)=>(n(),c("div",b,[e("div",j,[E,k,e("div",B,[e("div",C,[h(w,{image:t.value.picture,classes:"w-20 h-20"},null,8,["image"]),e("div",N,[e("h3",$,a(t.value.displayName),1),e("h4",A,a(t.value.shortBio),1),e("h5",P,a(t.value.website),1)])]),e("div",R,[e("p",T,a(t.value.longBio),1)])]),U,e("div",F,[e("div",S,[z,e("div",G,[(n(!0),c(x,null,_(t.value.posts,s=>(n(),c("div",H,[e("div",V,[e("h4",q,a(s.title),1),e("h5",D,a(s.date),1),e("div",I,[h(u(v)),e("p",L,a(s.views),1)])]),M]))),256))])])]),J,e("div",K,[e("div",O,[Q,e("div",W,[(n(!0),c(x,null,_(t.value.comments,s=>(n(),c("div",X,[e("h4",Y,a(s.text),1),Z]))),256))])])])]),e("div",{class:"fixed top-0 left-0 p-4",onClick:l[0]||(l[0]=s=>u(i).push("/"))},[h(u(y),{class:"w-10 h-10 cursor-pointer bg-accent-600 p-2 rounded-lg text-text-0 hover:bg-accent-700 hover:scale-105 transition-all duration-300"})])]))}};export{ae as default};
