var Rl=Object.defineProperty;var Pl=(n,t,e)=>t in n?Rl(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var U=(n,t,e)=>(Pl(n,typeof t!="symbol"?t+"":t,e),e);import{c as St,E as Qr}from"./eye-C7mn5LqH.js";import{a as Pi,h as tt,c as st,e as C,J as wa,r as nt,E as ci,K as Ml,o as Qn,q as ut,j as at,m as Mi,p as $i,u as Bi,i as Di,b as zn,d as gr,w as Rt,v as ee,I as $l,G as jn,F as re,x as ge,t as Tt,k as Ie,A as Bl,B as Dl,L as Ul,s as Fl}from"./index-AVGivZ0D.js";import{P as Hl}from"./pen-line-dpvlSah4.js";/**
 * @license lucide-vue-next v0.376.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O0=St("CalendarDaysIcon",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-vue-next v0.376.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mo=St("CheckCheckIcon",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-vue-next v0.376.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yo=St("ClockIcon",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-vue-next v0.376.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zl=St("EyeOffIcon",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-vue-next v0.376.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vl=St("FlagOffIcon",[["path",{d:"M8 2c3 0 5 2 8 2s4-1 4-1v11",key:"9rwyz9"}],["path",{d:"M4 22V4",key:"1plyxx"}],["path",{d:"M4 15s1-1 4-1 5 2 8 2",key:"1myooe"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-vue-next v0.376.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gl=St("FlagIcon",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-vue-next v0.376.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kl=St("ListIcon",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-vue-next v0.376.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wl=St("MessageCircleMoreIcon",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}],["path",{d:"M8 12h.01",key:"czm47f"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M16 12h.01",key:"1l6xoz"}]]);/**
 * @license lucide-vue-next v0.376.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bo=St("MessageCircleReplyIcon",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}],["path",{d:"m10 15-3-3 3-3",key:"1pgupc"}],["path",{d:"M7 12h7a2 2 0 0 1 2 2v1",key:"1gheu4"}]]);/**
 * @license lucide-vue-next v0.376.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S0=St("MonitorSmartphoneIcon",[["path",{d:"M18 8V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h8",key:"10dyio"}],["path",{d:"M10 19v-3.96 3.15",key:"1irgej"}],["path",{d:"M7 19h5",key:"qswx4l"}],["rect",{width:"6",height:"10",x:"16",y:"12",rx:"2",key:"1egngj"}]]);/**
 * @license lucide-vue-next v0.376.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zl=St("NotepadTextIcon",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"16",height:"18",x:"4",y:"4",rx:"2",key:"1u9h20"}],["path",{d:"M8 10h6",key:"3oa6kw"}],["path",{d:"M8 14h8",key:"1fgep2"}],["path",{d:"M8 18h5",key:"17enja"}]]);/**
 * @license lucide-vue-next v0.376.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xl=St("PencilIcon",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-vue-next v0.376.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yl=St("RouterIcon",[["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",key:"w68u3i"}],["path",{d:"M6.01 18H6",key:"19vcac"}],["path",{d:"M10.01 18H10",key:"uamcmx"}],["path",{d:"M15 10v4",key:"qjz1xs"}],["path",{d:"M17.84 7.17a4 4 0 0 0-5.66 0",key:"1rif40"}],["path",{d:"M20.66 4.34a8 8 0 0 0-11.31 0",key:"6a5xfq"}]]);/**
 * @license lucide-vue-next v0.376.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vn=St("SaveIcon",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-vue-next v0.376.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jl=St("SendIcon",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-vue-next v0.376.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ql=St("TagsIcon",[["path",{d:"m15 5 6.3 6.3a2.4 2.4 0 0 1 0 3.4L17 19",key:"1cbfv1"}],["path",{d:"M9.586 5.586A2 2 0 0 0 8.172 5H3a1 1 0 0 0-1 1v5.172a2 2 0 0 0 .586 1.414L8.29 18.29a2.426 2.426 0 0 0 3.42 0l3.58-3.58a2.426 2.426 0 0 0 0-3.42z",key:"135mg7"}],["circle",{cx:"6.5",cy:"9.5",r:".5",fill:"currentColor",key:"5pm5xn"}]]);/**
 * @license lucide-vue-next v0.376.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gn=St("TrashIcon",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-vue-next v0.376.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k0=St("UserXIcon",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]),tc={},ec={class:"w-full h-full overflow-hidden flex flex-row max-h-[100vh]"},rc=C("div",{class:"w-[100%] h-[100vh] min-w-[300px] min-h-[400px]",style:{resize:"both",overflow:"auto"}},[C("iframe",{src:"https://blog.josephhansen.dev",style:{width:"100%",height:"100%",border:"none"}})],-1),nc=[rc];function sc(n,t){return tt(),st("div",ec,nc)}const C0=Pi(tc,[["render",sc]]),ic=wa({__name:"QuillyEditor",props:{modelValue:{},options:{}},emits:["update:modelValue","text-change","selection-change","editor-change","blur","focus","ready"],setup(n,{expose:t,emit:e}){const r=n,s=e;let i=null;const o=nt(),a=nt(),c=h=>{a.value=r.modelValue;const d=h.getContents(),f=h.clipboard.convert({html:r.modelValue});return h.setContents(f),s("text-change",{delta:f,oldContent:d,source:"api"}),f},u=h=>{const d=new h(o.value,r.options);return r.modelValue&&c(d),d.on("selection-change",(f,p,g)=>{s(f?"focus":"blur",d),s("selection-change",{range:f,oldRange:p,source:g})}),d.on("text-change",(f,p,g)=>{a.value=d.root.innerHTML,s("text-change",{delta:f,oldContent:p,source:g})}),d.on("editor-change",f=>{s("editor-change",f)}),s("ready",d),i=d,d};return ci(()=>r.modelValue,h=>{h&&h!==a.value?(c(i),a.value=i.root.innerHTML):h||i.setContents([])}),ci(a,(h,d)=>{h&&h!==d?s("update:modelValue",h):h||i.setContents([])}),Ml(()=>i=null),t({initialize:u}),(h,d)=>(tt(),st("div",{ref_key:"container",ref:o},null,512))}});var xa=typeof global=="object"&&global&&global.Object===Object&&global,oc=typeof self=="object"&&self&&self.Object===Object&&self,we=xa||oc||Function("return this")(),Be=we.Symbol,Aa=Object.prototype,ac=Aa.hasOwnProperty,lc=Aa.toString,Gr=Be?Be.toStringTag:void 0;function cc(n){var t=ac.call(n,Gr),e=n[Gr];try{n[Gr]=void 0;var r=!0}catch{}var s=lc.call(n);return r&&(t?n[Gr]=e:delete n[Gr]),s}var uc=Object.prototype,hc=uc.toString;function fc(n){return hc.call(n)}var dc="[object Null]",pc="[object Undefined]",vo=Be?Be.toStringTag:void 0;function Cr(n){return n==null?n===void 0?pc:dc:vo&&vo in Object(n)?cc(n):fc(n)}function Te(n){return n!=null&&typeof n=="object"}var Ze=Array.isArray;function De(n){var t=typeof n;return n!=null&&(t=="object"||t=="function")}function Ea(n){return n}var gc="[object AsyncFunction]",mc="[object Function]",yc="[object GeneratorFunction]",bc="[object Proxy]";function Ui(n){if(!De(n))return!1;var t=Cr(n);return t==mc||t==yc||t==gc||t==bc}var Xs=we["__core-js_shared__"],wo=function(){var n=/[^.]+$/.exec(Xs&&Xs.keys&&Xs.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function vc(n){return!!wo&&wo in n}var wc=Function.prototype,xc=wc.toString;function Je(n){if(n!=null){try{return xc.call(n)}catch{}try{return n+""}catch{}}return""}var Ac=/[\\^$.*+?()[\]{}|]/g,Ec=/^\[object .+?Constructor\]$/,_c=Function.prototype,Nc=Object.prototype,Tc=_c.toString,Oc=Nc.hasOwnProperty,Sc=RegExp("^"+Tc.call(Oc).replace(Ac,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function kc(n){if(!De(n)||vc(n))return!1;var t=Ui(n)?Sc:Ec;return t.test(Je(n))}function Cc(n,t){return n==null?void 0:n[t]}function Qe(n,t){var e=Cc(n,t);return kc(e)?e:void 0}var ui=Qe(we,"WeakMap"),xo=Object.create,Lc=function(){function n(){}return function(t){if(!De(t))return{};if(xo)return xo(t);n.prototype=t;var e=new n;return n.prototype=void 0,e}}();function qc(n,t,e){switch(e.length){case 0:return n.call(t);case 1:return n.call(t,e[0]);case 2:return n.call(t,e[0],e[1]);case 3:return n.call(t,e[0],e[1],e[2])}return n.apply(t,e)}function _a(n,t){var e=-1,r=n.length;for(t||(t=Array(r));++e<r;)t[e]=n[e];return t}var Ic=800,jc=16,Rc=Date.now;function Pc(n){var t=0,e=0;return function(){var r=Rc(),s=jc-(r-e);if(e=r,s>0){if(++t>=Ic)return arguments[0]}else t=0;return n.apply(void 0,arguments)}}function Mc(n){return function(){return n}}var Kn=function(){try{var n=Qe(Object,"defineProperty");return n({},"",{}),n}catch{}}(),$c=Kn?function(n,t){return Kn(n,"toString",{configurable:!0,enumerable:!1,value:Mc(t),writable:!0})}:Ea,Bc=Pc($c);function Dc(n,t){for(var e=-1,r=n==null?0:n.length;++e<r&&t(n[e],e,n)!==!1;);return n}var Uc=9007199254740991,Fc=/^(?:0|[1-9]\d*)$/;function Na(n,t){var e=typeof n;return t=t??Uc,!!t&&(e=="number"||e!="symbol"&&Fc.test(n))&&n>-1&&n%1==0&&n<t}function Fi(n,t,e){t=="__proto__"&&Kn?Kn(n,t,{configurable:!0,enumerable:!0,value:e,writable:!0}):n[t]=e}function cn(n,t){return n===t||n!==n&&t!==t}var Hc=Object.prototype,zc=Hc.hasOwnProperty;function Ta(n,t,e){var r=n[t];(!(zc.call(n,t)&&cn(r,e))||e===void 0&&!(t in n))&&Fi(n,t,e)}function un(n,t,e,r){var s=!e;e||(e={});for(var i=-1,o=t.length;++i<o;){var a=t[i],c=void 0;c===void 0&&(c=n[a]),s?Fi(e,a,c):Ta(e,a,c)}return e}var Ao=Math.max;function Vc(n,t,e){return t=Ao(t===void 0?n.length-1:t,0),function(){for(var r=arguments,s=-1,i=Ao(r.length-t,0),o=Array(i);++s<i;)o[s]=r[t+s];s=-1;for(var a=Array(t+1);++s<t;)a[s]=r[s];return a[t]=e(o),qc(n,this,a)}}function Gc(n,t){return Bc(Vc(n,t,Ea),n+"")}var Kc=9007199254740991;function Oa(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=Kc}function ts(n){return n!=null&&Oa(n.length)&&!Ui(n)}function Wc(n,t,e){if(!De(e))return!1;var r=typeof t;return(r=="number"?ts(e)&&Na(t,e.length):r=="string"&&t in e)?cn(e[t],n):!1}function Zc(n){return Gc(function(t,e){var r=-1,s=e.length,i=s>1?e[s-1]:void 0,o=s>2?e[2]:void 0;for(i=n.length>3&&typeof i=="function"?(s--,i):void 0,o&&Wc(e[0],e[1],o)&&(i=s<3?void 0:i,s=1),t=Object(t);++r<s;){var a=e[r];a&&n(t,a,r,i)}return t})}var Xc=Object.prototype;function Hi(n){var t=n&&n.constructor,e=typeof t=="function"&&t.prototype||Xc;return n===e}function Yc(n,t){for(var e=-1,r=Array(n);++e<n;)r[e]=t(e);return r}var Jc="[object Arguments]";function Eo(n){return Te(n)&&Cr(n)==Jc}var Sa=Object.prototype,Qc=Sa.hasOwnProperty,tu=Sa.propertyIsEnumerable,hi=Eo(function(){return arguments}())?Eo:function(n){return Te(n)&&Qc.call(n,"callee")&&!tu.call(n,"callee")};function eu(){return!1}var ka=typeof exports=="object"&&exports&&!exports.nodeType&&exports,_o=ka&&typeof module=="object"&&module&&!module.nodeType&&module,ru=_o&&_o.exports===ka,No=ru?we.Buffer:void 0,nu=No?No.isBuffer:void 0,tn=nu||eu,su="[object Arguments]",iu="[object Array]",ou="[object Boolean]",au="[object Date]",lu="[object Error]",cu="[object Function]",uu="[object Map]",hu="[object Number]",fu="[object Object]",du="[object RegExp]",pu="[object Set]",gu="[object String]",mu="[object WeakMap]",yu="[object ArrayBuffer]",bu="[object DataView]",vu="[object Float32Array]",wu="[object Float64Array]",xu="[object Int8Array]",Au="[object Int16Array]",Eu="[object Int32Array]",_u="[object Uint8Array]",Nu="[object Uint8ClampedArray]",Tu="[object Uint16Array]",Ou="[object Uint32Array]",gt={};gt[vu]=gt[wu]=gt[xu]=gt[Au]=gt[Eu]=gt[_u]=gt[Nu]=gt[Tu]=gt[Ou]=!0;gt[su]=gt[iu]=gt[yu]=gt[ou]=gt[bu]=gt[au]=gt[lu]=gt[cu]=gt[uu]=gt[hu]=gt[fu]=gt[du]=gt[pu]=gt[gu]=gt[mu]=!1;function Su(n){return Te(n)&&Oa(n.length)&&!!gt[Cr(n)]}function zi(n){return function(t){return n(t)}}var Ca=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Zr=Ca&&typeof module=="object"&&module&&!module.nodeType&&module,ku=Zr&&Zr.exports===Ca,Ys=ku&&xa.process,Nr=function(){try{var n=Zr&&Zr.require&&Zr.require("util").types;return n||Ys&&Ys.binding&&Ys.binding("util")}catch{}}(),To=Nr&&Nr.isTypedArray,Vi=To?zi(To):Su,Cu=Object.prototype,Lu=Cu.hasOwnProperty;function La(n,t){var e=Ze(n),r=!e&&hi(n),s=!e&&!r&&tn(n),i=!e&&!r&&!s&&Vi(n),o=e||r||s||i,a=o?Yc(n.length,String):[],c=a.length;for(var u in n)(t||Lu.call(n,u))&&!(o&&(u=="length"||s&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Na(u,c)))&&a.push(u);return a}function qa(n,t){return function(e){return n(t(e))}}var qu=qa(Object.keys,Object),Iu=Object.prototype,ju=Iu.hasOwnProperty;function Ru(n){if(!Hi(n))return qu(n);var t=[];for(var e in Object(n))ju.call(n,e)&&e!="constructor"&&t.push(e);return t}function Gi(n){return ts(n)?La(n):Ru(n)}function Pu(n){var t=[];if(n!=null)for(var e in Object(n))t.push(e);return t}var Mu=Object.prototype,$u=Mu.hasOwnProperty;function Bu(n){if(!De(n))return Pu(n);var t=Hi(n),e=[];for(var r in n)r=="constructor"&&(t||!$u.call(n,r))||e.push(r);return e}function hn(n){return ts(n)?La(n,!0):Bu(n)}var en=Qe(Object,"create");function Du(){this.__data__=en?en(null):{},this.size=0}function Uu(n){var t=this.has(n)&&delete this.__data__[n];return this.size-=t?1:0,t}var Fu="__lodash_hash_undefined__",Hu=Object.prototype,zu=Hu.hasOwnProperty;function Vu(n){var t=this.__data__;if(en){var e=t[n];return e===Fu?void 0:e}return zu.call(t,n)?t[n]:void 0}var Gu=Object.prototype,Ku=Gu.hasOwnProperty;function Wu(n){var t=this.__data__;return en?t[n]!==void 0:Ku.call(t,n)}var Zu="__lodash_hash_undefined__";function Xu(n,t){var e=this.__data__;return this.size+=this.has(n)?0:1,e[n]=en&&t===void 0?Zu:t,this}function Xe(n){var t=-1,e=n==null?0:n.length;for(this.clear();++t<e;){var r=n[t];this.set(r[0],r[1])}}Xe.prototype.clear=Du;Xe.prototype.delete=Uu;Xe.prototype.get=Vu;Xe.prototype.has=Wu;Xe.prototype.set=Xu;function Yu(){this.__data__=[],this.size=0}function es(n,t){for(var e=n.length;e--;)if(cn(n[e][0],t))return e;return-1}var Ju=Array.prototype,Qu=Ju.splice;function th(n){var t=this.__data__,e=es(t,n);if(e<0)return!1;var r=t.length-1;return e==r?t.pop():Qu.call(t,e,1),--this.size,!0}function eh(n){var t=this.__data__,e=es(t,n);return e<0?void 0:t[e][1]}function rh(n){return es(this.__data__,n)>-1}function nh(n,t){var e=this.__data__,r=es(e,n);return r<0?(++this.size,e.push([n,t])):e[r][1]=t,this}function ke(n){var t=-1,e=n==null?0:n.length;for(this.clear();++t<e;){var r=n[t];this.set(r[0],r[1])}}ke.prototype.clear=Yu;ke.prototype.delete=th;ke.prototype.get=eh;ke.prototype.has=rh;ke.prototype.set=nh;var rn=Qe(we,"Map");function sh(){this.size=0,this.__data__={hash:new Xe,map:new(rn||ke),string:new Xe}}function ih(n){var t=typeof n;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?n!=="__proto__":n===null}function rs(n,t){var e=n.__data__;return ih(t)?e[typeof t=="string"?"string":"hash"]:e.map}function oh(n){var t=rs(this,n).delete(n);return this.size-=t?1:0,t}function ah(n){return rs(this,n).get(n)}function lh(n){return rs(this,n).has(n)}function ch(n,t){var e=rs(this,n),r=e.size;return e.set(n,t),this.size+=e.size==r?0:1,this}function tr(n){var t=-1,e=n==null?0:n.length;for(this.clear();++t<e;){var r=n[t];this.set(r[0],r[1])}}tr.prototype.clear=sh;tr.prototype.delete=oh;tr.prototype.get=ah;tr.prototype.has=lh;tr.prototype.set=ch;function Ia(n,t){for(var e=-1,r=t.length,s=n.length;++e<r;)n[s+e]=t[e];return n}var Ki=qa(Object.getPrototypeOf,Object),uh="[object Object]",hh=Function.prototype,fh=Object.prototype,ja=hh.toString,dh=fh.hasOwnProperty,ph=ja.call(Object);function gh(n){if(!Te(n)||Cr(n)!=uh)return!1;var t=Ki(n);if(t===null)return!0;var e=dh.call(t,"constructor")&&t.constructor;return typeof e=="function"&&e instanceof e&&ja.call(e)==ph}function mh(){this.__data__=new ke,this.size=0}function yh(n){var t=this.__data__,e=t.delete(n);return this.size=t.size,e}function bh(n){return this.__data__.get(n)}function vh(n){return this.__data__.has(n)}var wh=200;function xh(n,t){var e=this.__data__;if(e instanceof ke){var r=e.__data__;if(!rn||r.length<wh-1)return r.push([n,t]),this.size=++e.size,this;e=this.__data__=new tr(r)}return e.set(n,t),this.size=e.size,this}function me(n){var t=this.__data__=new ke(n);this.size=t.size}me.prototype.clear=mh;me.prototype.delete=yh;me.prototype.get=bh;me.prototype.has=vh;me.prototype.set=xh;function Ah(n,t){return n&&un(t,Gi(t),n)}function Eh(n,t){return n&&un(t,hn(t),n)}var Ra=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Oo=Ra&&typeof module=="object"&&module&&!module.nodeType&&module,_h=Oo&&Oo.exports===Ra,So=_h?we.Buffer:void 0,ko=So?So.allocUnsafe:void 0;function Pa(n,t){if(t)return n.slice();var e=n.length,r=ko?ko(e):new n.constructor(e);return n.copy(r),r}function Nh(n,t){for(var e=-1,r=n==null?0:n.length,s=0,i=[];++e<r;){var o=n[e];t(o,e,n)&&(i[s++]=o)}return i}function Ma(){return[]}var Th=Object.prototype,Oh=Th.propertyIsEnumerable,Co=Object.getOwnPropertySymbols,Wi=Co?function(n){return n==null?[]:(n=Object(n),Nh(Co(n),function(t){return Oh.call(n,t)}))}:Ma;function Sh(n,t){return un(n,Wi(n),t)}var kh=Object.getOwnPropertySymbols,$a=kh?function(n){for(var t=[];n;)Ia(t,Wi(n)),n=Ki(n);return t}:Ma;function Ch(n,t){return un(n,$a(n),t)}function Ba(n,t,e){var r=t(n);return Ze(n)?r:Ia(r,e(n))}function fi(n){return Ba(n,Gi,Wi)}function Lh(n){return Ba(n,hn,$a)}var di=Qe(we,"DataView"),pi=Qe(we,"Promise"),gi=Qe(we,"Set"),Lo="[object Map]",qh="[object Object]",qo="[object Promise]",Io="[object Set]",jo="[object WeakMap]",Ro="[object DataView]",Ih=Je(di),jh=Je(rn),Rh=Je(pi),Ph=Je(gi),Mh=Je(ui),ne=Cr;(di&&ne(new di(new ArrayBuffer(1)))!=Ro||rn&&ne(new rn)!=Lo||pi&&ne(pi.resolve())!=qo||gi&&ne(new gi)!=Io||ui&&ne(new ui)!=jo)&&(ne=function(n){var t=Cr(n),e=t==qh?n.constructor:void 0,r=e?Je(e):"";if(r)switch(r){case Ih:return Ro;case jh:return Lo;case Rh:return qo;case Ph:return Io;case Mh:return jo}return t});var $h=Object.prototype,Bh=$h.hasOwnProperty;function Dh(n){var t=n.length,e=new n.constructor(t);return t&&typeof n[0]=="string"&&Bh.call(n,"index")&&(e.index=n.index,e.input=n.input),e}var Wn=we.Uint8Array;function Zi(n){var t=new n.constructor(n.byteLength);return new Wn(t).set(new Wn(n)),t}function Uh(n,t){var e=t?Zi(n.buffer):n.buffer;return new n.constructor(e,n.byteOffset,n.byteLength)}var Fh=/\w*$/;function Hh(n){var t=new n.constructor(n.source,Fh.exec(n));return t.lastIndex=n.lastIndex,t}var Po=Be?Be.prototype:void 0,Mo=Po?Po.valueOf:void 0;function zh(n){return Mo?Object(Mo.call(n)):{}}function Da(n,t){var e=t?Zi(n.buffer):n.buffer;return new n.constructor(e,n.byteOffset,n.length)}var Vh="[object Boolean]",Gh="[object Date]",Kh="[object Map]",Wh="[object Number]",Zh="[object RegExp]",Xh="[object Set]",Yh="[object String]",Jh="[object Symbol]",Qh="[object ArrayBuffer]",tf="[object DataView]",ef="[object Float32Array]",rf="[object Float64Array]",nf="[object Int8Array]",sf="[object Int16Array]",of="[object Int32Array]",af="[object Uint8Array]",lf="[object Uint8ClampedArray]",cf="[object Uint16Array]",uf="[object Uint32Array]";function hf(n,t,e){var r=n.constructor;switch(t){case Qh:return Zi(n);case Vh:case Gh:return new r(+n);case tf:return Uh(n,e);case ef:case rf:case nf:case sf:case of:case af:case lf:case cf:case uf:return Da(n,e);case Kh:return new r;case Wh:case Yh:return new r(n);case Zh:return Hh(n);case Xh:return new r;case Jh:return zh(n)}}function Ua(n){return typeof n.constructor=="function"&&!Hi(n)?Lc(Ki(n)):{}}var ff="[object Map]";function df(n){return Te(n)&&ne(n)==ff}var $o=Nr&&Nr.isMap,pf=$o?zi($o):df,gf="[object Set]";function mf(n){return Te(n)&&ne(n)==gf}var Bo=Nr&&Nr.isSet,yf=Bo?zi(Bo):mf,bf=1,vf=2,wf=4,Fa="[object Arguments]",xf="[object Array]",Af="[object Boolean]",Ef="[object Date]",_f="[object Error]",Ha="[object Function]",Nf="[object GeneratorFunction]",Tf="[object Map]",Of="[object Number]",za="[object Object]",Sf="[object RegExp]",kf="[object Set]",Cf="[object String]",Lf="[object Symbol]",qf="[object WeakMap]",If="[object ArrayBuffer]",jf="[object DataView]",Rf="[object Float32Array]",Pf="[object Float64Array]",Mf="[object Int8Array]",$f="[object Int16Array]",Bf="[object Int32Array]",Df="[object Uint8Array]",Uf="[object Uint8ClampedArray]",Ff="[object Uint16Array]",Hf="[object Uint32Array]",dt={};dt[Fa]=dt[xf]=dt[If]=dt[jf]=dt[Af]=dt[Ef]=dt[Rf]=dt[Pf]=dt[Mf]=dt[$f]=dt[Bf]=dt[Tf]=dt[Of]=dt[za]=dt[Sf]=dt[kf]=dt[Cf]=dt[Lf]=dt[Df]=dt[Uf]=dt[Ff]=dt[Hf]=!0;dt[_f]=dt[Ha]=dt[qf]=!1;function Un(n,t,e,r,s,i){var o,a=t&bf,c=t&vf,u=t&wf;if(o!==void 0)return o;if(!De(n))return n;var h=Ze(n);if(h){if(o=Dh(n),!a)return _a(n,o)}else{var d=ne(n),f=d==Ha||d==Nf;if(tn(n))return Pa(n,a);if(d==za||d==Fa||f&&!s){if(o=c||f?{}:Ua(n),!a)return c?Ch(n,Eh(o,n)):Sh(n,Ah(o,n))}else{if(!dt[d])return s?n:{};o=hf(n,d,a)}}i||(i=new me);var p=i.get(n);if(p)return p;i.set(n,o),yf(n)?n.forEach(function(v){o.add(Un(v,t,e,v,n,i))}):pf(n)&&n.forEach(function(v,x){o.set(x,Un(v,t,e,x,n,i))});var g=u?c?Lh:fi:c?hn:Gi,E=h?void 0:g(n);return Dc(E||n,function(v,x){E&&(x=v,v=n[x]),Ta(o,x,Un(v,t,e,x,n,i))}),o}var zf=1,Vf=4;function Ar(n){return Un(n,zf|Vf)}var Gf="__lodash_hash_undefined__";function Kf(n){return this.__data__.set(n,Gf),this}function Wf(n){return this.__data__.has(n)}function Zn(n){var t=-1,e=n==null?0:n.length;for(this.__data__=new tr;++t<e;)this.add(n[t])}Zn.prototype.add=Zn.prototype.push=Kf;Zn.prototype.has=Wf;function Zf(n,t){for(var e=-1,r=n==null?0:n.length;++e<r;)if(t(n[e],e,n))return!0;return!1}function Xf(n,t){return n.has(t)}var Yf=1,Jf=2;function Va(n,t,e,r,s,i){var o=e&Yf,a=n.length,c=t.length;if(a!=c&&!(o&&c>a))return!1;var u=i.get(n),h=i.get(t);if(u&&h)return u==t&&h==n;var d=-1,f=!0,p=e&Jf?new Zn:void 0;for(i.set(n,t),i.set(t,n);++d<a;){var g=n[d],E=t[d];if(r)var v=o?r(E,g,d,t,n,i):r(g,E,d,n,t,i);if(v!==void 0){if(v)continue;f=!1;break}if(p){if(!Zf(t,function(x,w){if(!Xf(p,w)&&(g===x||s(g,x,e,r,i)))return p.push(w)})){f=!1;break}}else if(!(g===E||s(g,E,e,r,i))){f=!1;break}}return i.delete(n),i.delete(t),f}function Qf(n){var t=-1,e=Array(n.size);return n.forEach(function(r,s){e[++t]=[s,r]}),e}function td(n){var t=-1,e=Array(n.size);return n.forEach(function(r){e[++t]=r}),e}var ed=1,rd=2,nd="[object Boolean]",sd="[object Date]",id="[object Error]",od="[object Map]",ad="[object Number]",ld="[object RegExp]",cd="[object Set]",ud="[object String]",hd="[object Symbol]",fd="[object ArrayBuffer]",dd="[object DataView]",Do=Be?Be.prototype:void 0,Js=Do?Do.valueOf:void 0;function pd(n,t,e,r,s,i,o){switch(e){case dd:if(n.byteLength!=t.byteLength||n.byteOffset!=t.byteOffset)return!1;n=n.buffer,t=t.buffer;case fd:return!(n.byteLength!=t.byteLength||!i(new Wn(n),new Wn(t)));case nd:case sd:case ad:return cn(+n,+t);case id:return n.name==t.name&&n.message==t.message;case ld:case ud:return n==t+"";case od:var a=Qf;case cd:var c=r&ed;if(a||(a=td),n.size!=t.size&&!c)return!1;var u=o.get(n);if(u)return u==t;r|=rd,o.set(n,t);var h=Va(a(n),a(t),r,s,i,o);return o.delete(n),h;case hd:if(Js)return Js.call(n)==Js.call(t)}return!1}var gd=1,md=Object.prototype,yd=md.hasOwnProperty;function bd(n,t,e,r,s,i){var o=e&gd,a=fi(n),c=a.length,u=fi(t),h=u.length;if(c!=h&&!o)return!1;for(var d=c;d--;){var f=a[d];if(!(o?f in t:yd.call(t,f)))return!1}var p=i.get(n),g=i.get(t);if(p&&g)return p==t&&g==n;var E=!0;i.set(n,t),i.set(t,n);for(var v=o;++d<c;){f=a[d];var x=n[f],w=t[f];if(r)var A=o?r(w,x,f,t,n,i):r(x,w,f,n,t,i);if(!(A===void 0?x===w||s(x,w,e,r,i):A)){E=!1;break}v||(v=f=="constructor")}if(E&&!v){var m=n.constructor,_=t.constructor;m!=_&&"constructor"in n&&"constructor"in t&&!(typeof m=="function"&&m instanceof m&&typeof _=="function"&&_ instanceof _)&&(E=!1)}return i.delete(n),i.delete(t),E}var vd=1,Uo="[object Arguments]",Fo="[object Array]",Rn="[object Object]",wd=Object.prototype,Ho=wd.hasOwnProperty;function xd(n,t,e,r,s,i){var o=Ze(n),a=Ze(t),c=o?Fo:ne(n),u=a?Fo:ne(t);c=c==Uo?Rn:c,u=u==Uo?Rn:u;var h=c==Rn,d=u==Rn,f=c==u;if(f&&tn(n)){if(!tn(t))return!1;o=!0,h=!1}if(f&&!h)return i||(i=new me),o||Vi(n)?Va(n,t,e,r,s,i):pd(n,t,c,e,r,s,i);if(!(e&vd)){var p=h&&Ho.call(n,"__wrapped__"),g=d&&Ho.call(t,"__wrapped__");if(p||g){var E=p?n.value():n,v=g?t.value():t;return i||(i=new me),s(E,v,e,r,i)}}return f?(i||(i=new me),bd(n,t,e,r,s,i)):!1}function Ga(n,t,e,r,s){return n===t?!0:n==null||t==null||!Te(n)&&!Te(t)?n!==n&&t!==t:xd(n,t,e,r,Ga,s)}function Ad(n){return function(t,e,r){for(var s=-1,i=Object(t),o=r(t),a=o.length;a--;){var c=o[++s];if(e(i[c],c,i)===!1)break}return t}}var Ed=Ad();function mi(n,t,e){(e!==void 0&&!cn(n[t],e)||e===void 0&&!(t in n))&&Fi(n,t,e)}function _d(n){return Te(n)&&ts(n)}function yi(n,t){if(!(t==="constructor"&&typeof n[t]=="function")&&t!="__proto__")return n[t]}function Nd(n){return un(n,hn(n))}function Td(n,t,e,r,s,i,o){var a=yi(n,e),c=yi(t,e),u=o.get(c);if(u){mi(n,e,u);return}var h=i?i(a,c,e+"",n,t,o):void 0,d=h===void 0;if(d){var f=Ze(c),p=!f&&tn(c),g=!f&&!p&&Vi(c);h=c,f||p||g?Ze(a)?h=a:_d(a)?h=_a(a):p?(d=!1,h=Pa(c,!0)):g?(d=!1,h=Da(c,!0)):h=[]:gh(c)||hi(c)?(h=a,hi(a)?h=Nd(a):(!De(a)||Ui(a))&&(h=Ua(c))):d=!1}d&&(o.set(c,h),s(h,c,r,i,o),o.delete(c)),mi(n,e,h)}function Ka(n,t,e,r,s){n!==t&&Ed(t,function(i,o){if(s||(s=new me),De(i))Td(n,t,o,e,Ka,r,s);else{var a=r?r(yi(n,o),i,o+"",n,t,s):void 0;a===void 0&&(a=i),mi(n,o,a)}},hn)}function Xi(n,t){return Ga(n,t)}var $e=Zc(function(n,t,e){Ka(n,t,e)}),X=(n=>(n[n.TYPE=3]="TYPE",n[n.LEVEL=12]="LEVEL",n[n.ATTRIBUTE=13]="ATTRIBUTE",n[n.BLOT=14]="BLOT",n[n.INLINE=7]="INLINE",n[n.BLOCK=11]="BLOCK",n[n.BLOCK_BLOT=10]="BLOCK_BLOT",n[n.INLINE_BLOT=6]="INLINE_BLOT",n[n.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",n[n.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",n[n.ANY=15]="ANY",n))(X||{});class be{constructor(t,e,r={}){this.attrName=t,this.keyName=e;const s=X.TYPE&X.ATTRIBUTE;this.scope=r.scope!=null?r.scope&X.LEVEL|s:X.ATTRIBUTE,r.whitelist!=null&&(this.whitelist=r.whitelist)}static keys(t){return Array.from(t.attributes).map(e=>e.name)}add(t,e){return this.canAdd(t,e)?(t.setAttribute(this.keyName,e),!0):!1}canAdd(t,e){return this.whitelist==null?!0:typeof e=="string"?this.whitelist.indexOf(e.replace(/["']/g,""))>-1:this.whitelist.indexOf(e)>-1}remove(t){t.removeAttribute(this.keyName)}value(t){const e=t.getAttribute(this.keyName);return this.canAdd(t,e)&&e?e:""}}class Er extends Error{constructor(t){t="[Parchment] "+t,super(t),this.message=t,this.name=this.constructor.name}}const Wa=class bi{constructor(){this.attributes={},this.classes={},this.tags={},this.types={}}static find(t,e=!1){if(t==null)return null;if(this.blots.has(t))return this.blots.get(t)||null;if(e){let r=null;try{r=t.parentNode}catch{return null}return this.find(r,e)}return null}create(t,e,r){const s=this.query(e);if(s==null)throw new Er(`Unable to create ${e} blot`);const i=s,o=e instanceof Node||e.nodeType===Node.TEXT_NODE?e:i.create(r),a=new i(t,o,r);return bi.blots.set(a.domNode,a),a}find(t,e=!1){return bi.find(t,e)}query(t,e=X.ANY){let r;return typeof t=="string"?r=this.types[t]||this.attributes[t]:t instanceof Text||t.nodeType===Node.TEXT_NODE?r=this.types.text:typeof t=="number"?t&X.LEVEL&X.BLOCK?r=this.types.block:t&X.LEVEL&X.INLINE&&(r=this.types.inline):t instanceof Element&&((t.getAttribute("class")||"").split(/\s+/).some(s=>(r=this.classes[s],!!r)),r=r||this.tags[t.tagName]),r==null?null:"scope"in r&&e&X.LEVEL&r.scope&&e&X.TYPE&r.scope?r:null}register(...t){return t.map(e=>{const r="blotName"in e,s="attrName"in e;if(!r&&!s)throw new Er("Invalid definition");if(r&&e.blotName==="abstract")throw new Er("Cannot register abstract class");const i=r?e.blotName:s?e.attrName:void 0;return this.types[i]=e,s?typeof e.keyName=="string"&&(this.attributes[e.keyName]=e):r&&(e.className&&(this.classes[e.className]=e),e.tagName&&(Array.isArray(e.tagName)?e.tagName=e.tagName.map(o=>o.toUpperCase()):e.tagName=e.tagName.toUpperCase(),(Array.isArray(e.tagName)?e.tagName:[e.tagName]).forEach(o=>{(this.tags[o]==null||e.className==null)&&(this.tags[o]=e)}))),e})}};Wa.blots=new WeakMap;let Tr=Wa;function zo(n,t){return(n.getAttribute("class")||"").split(/\s+/).filter(e=>e.indexOf(`${t}-`)===0)}class Od extends be{static keys(t){return(t.getAttribute("class")||"").split(/\s+/).map(e=>e.split("-").slice(0,-1).join("-"))}add(t,e){return this.canAdd(t,e)?(this.remove(t),t.classList.add(`${this.keyName}-${e}`),!0):!1}remove(t){zo(t,this.keyName).forEach(e=>{t.classList.remove(e)}),t.classList.length===0&&t.removeAttribute("class")}value(t){const e=(zo(t,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(t,e)?e:""}}const ae=Od;function Qs(n){const t=n.split("-"),e=t.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("");return t[0]+e}class Sd extends be{static keys(t){return(t.getAttribute("style")||"").split(";").map(e=>e.split(":")[0].trim())}add(t,e){return this.canAdd(t,e)?(t.style[Qs(this.keyName)]=e,!0):!1}remove(t){t.style[Qs(this.keyName)]="",t.getAttribute("style")||t.removeAttribute("style")}value(t){const e=t.style[Qs(this.keyName)];return this.canAdd(t,e)?e:""}}const Ue=Sd;class kd{constructor(t){this.attributes={},this.domNode=t,this.build()}attribute(t,e){e?t.add(this.domNode,e)&&(t.value(this.domNode)!=null?this.attributes[t.attrName]=t:delete this.attributes[t.attrName]):(t.remove(this.domNode),delete this.attributes[t.attrName])}build(){this.attributes={};const t=Tr.find(this.domNode);if(t==null)return;const e=be.keys(this.domNode),r=ae.keys(this.domNode),s=Ue.keys(this.domNode);e.concat(r).concat(s).forEach(i=>{const o=t.scroll.query(i,X.ATTRIBUTE);o instanceof be&&(this.attributes[o.attrName]=o)})}copy(t){Object.keys(this.attributes).forEach(e=>{const r=this.attributes[e].value(this.domNode);t.format(e,r)})}move(t){this.copy(t),Object.keys(this.attributes).forEach(e=>{this.attributes[e].remove(this.domNode)}),this.attributes={}}values(){return Object.keys(this.attributes).reduce((t,e)=>(t[e]=this.attributes[e].value(this.domNode),t),{})}}const ns=kd,Za=class{constructor(t,e){this.scroll=t,this.domNode=e,Tr.blots.set(e,this),this.prev=null,this.next=null}static create(t){if(this.tagName==null)throw new Er("Blot definition missing tagName");let e,r;return Array.isArray(this.tagName)?(typeof t=="string"?(r=t.toUpperCase(),parseInt(r,10).toString()===r&&(r=parseInt(r,10))):typeof t=="number"&&(r=t),typeof r=="number"?e=document.createElement(this.tagName[r-1]):r&&this.tagName.indexOf(r)>-1?e=document.createElement(r):e=document.createElement(this.tagName[0])):e=document.createElement(this.tagName),this.className&&e.classList.add(this.className),e}get statics(){return this.constructor}attach(){}clone(){const t=this.domNode.cloneNode(!1);return this.scroll.create(t)}detach(){this.parent!=null&&this.parent.removeChild(this),Tr.blots.delete(this.domNode)}deleteAt(t,e){this.isolate(t,e).remove()}formatAt(t,e,r,s){const i=this.isolate(t,e);if(this.scroll.query(r,X.BLOT)!=null&&s)i.wrap(r,s);else if(this.scroll.query(r,X.ATTRIBUTE)!=null){const o=this.scroll.create(this.statics.scope);i.wrap(o),o.format(r,s)}}insertAt(t,e,r){const s=r==null?this.scroll.create("text",e):this.scroll.create(e,r),i=this.split(t);this.parent.insertBefore(s,i||void 0)}isolate(t,e){const r=this.split(t);if(r==null)throw new Error("Attempt to isolate at end");return r.split(e),r}length(){return 1}offset(t=this.parent){return this.parent==null||this===t?0:this.parent.children.offset(this)+this.parent.offset(t)}optimize(t){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)}remove(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}replaceWith(t,e){const r=typeof t=="string"?this.scroll.create(t,e):t;return this.parent!=null&&(this.parent.insertBefore(r,this.next||void 0),this.remove()),r}split(t,e){return t===0?this:this.next}update(t,e){}wrap(t,e){const r=typeof t=="string"?this.scroll.create(t,e):t;if(this.parent!=null&&this.parent.insertBefore(r,this.next||void 0),typeof r.appendChild!="function")throw new Er(`Cannot wrap ${t}`);return r.appendChild(this),r}};Za.blotName="abstract";let Xa=Za;const Ya=class extends Xa{static value(t){return!0}index(t,e){return this.domNode===t||this.domNode.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(e,1):-1}position(t,e){let r=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return t>0&&(r+=1),[this.parent.domNode,r]}value(){return{[this.statics.blotName]:this.statics.value(this.domNode)||!0}}};Ya.scope=X.INLINE_BLOT;let Cd=Ya;const Pt=Cd;class Ld{constructor(){this.head=null,this.tail=null,this.length=0}append(...t){if(this.insertBefore(t[0],null),t.length>1){const e=t.slice(1);this.append(...e)}}at(t){const e=this.iterator();let r=e();for(;r&&t>0;)t-=1,r=e();return r}contains(t){const e=this.iterator();let r=e();for(;r;){if(r===t)return!0;r=e()}return!1}indexOf(t){const e=this.iterator();let r=e(),s=0;for(;r;){if(r===t)return s;s+=1,r=e()}return-1}insertBefore(t,e){t!=null&&(this.remove(t),t.next=e,e!=null?(t.prev=e.prev,e.prev!=null&&(e.prev.next=t),e.prev=t,e===this.head&&(this.head=t)):this.tail!=null?(this.tail.next=t,t.prev=this.tail,this.tail=t):(t.prev=null,this.head=this.tail=t),this.length+=1)}offset(t){let e=0,r=this.head;for(;r!=null;){if(r===t)return e;e+=r.length(),r=r.next}return-1}remove(t){this.contains(t)&&(t.prev!=null&&(t.prev.next=t.next),t.next!=null&&(t.next.prev=t.prev),t===this.head&&(this.head=t.next),t===this.tail&&(this.tail=t.prev),this.length-=1)}iterator(t=this.head){return()=>{const e=t;return t!=null&&(t=t.next),e}}find(t,e=!1){const r=this.iterator();let s=r();for(;s;){const i=s.length();if(t<i||e&&t===i&&(s.next==null||s.next.length()!==0))return[s,t];t-=i,s=r()}return[null,0]}forEach(t){const e=this.iterator();let r=e();for(;r;)t(r),r=e()}forEachAt(t,e,r){if(e<=0)return;const[s,i]=this.find(t);let o=t-i;const a=this.iterator(s);let c=a();for(;c&&o<t+e;){const u=c.length();t>o?r(c,t-o,Math.min(e,o+u-t)):r(c,0,Math.min(u,t+e-o)),o+=u,c=a()}}map(t){return this.reduce((e,r)=>(e.push(t(r)),e),[])}reduce(t,e){const r=this.iterator();let s=r();for(;s;)e=t(e,s),s=r();return e}}function Vo(n,t){const e=t.find(n);if(e)return e;try{return t.create(n)}catch{const r=t.create(X.INLINE);return Array.from(n.childNodes).forEach(s=>{r.domNode.appendChild(s)}),n.parentNode&&n.parentNode.replaceChild(r.domNode,n),r.attach(),r}}const Ja=class je extends Xa{constructor(t,e){super(t,e),this.uiNode=null,this.build()}appendChild(t){this.insertBefore(t)}attach(){super.attach(),this.children.forEach(t=>{t.attach()})}attachUI(t){this.uiNode!=null&&this.uiNode.remove(),this.uiNode=t,je.uiClass&&this.uiNode.classList.add(je.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}build(){this.children=new Ld,Array.from(this.domNode.childNodes).filter(t=>t!==this.uiNode).reverse().forEach(t=>{try{const e=Vo(t,this.scroll);this.insertBefore(e,this.children.head||void 0)}catch(e){if(e instanceof Er)return;throw e}})}deleteAt(t,e){if(t===0&&e===this.length())return this.remove();this.children.forEachAt(t,e,(r,s,i)=>{r.deleteAt(s,i)})}descendant(t,e=0){const[r,s]=this.children.find(e);return t.blotName==null&&t(r)||t.blotName!=null&&r instanceof t?[r,s]:r instanceof je?r.descendant(t,s):[null,-1]}descendants(t,e=0,r=Number.MAX_VALUE){let s=[],i=r;return this.children.forEachAt(e,r,(o,a,c)=>{(t.blotName==null&&t(o)||t.blotName!=null&&o instanceof t)&&s.push(o),o instanceof je&&(s=s.concat(o.descendants(t,a,i))),i-=c}),s}detach(){this.children.forEach(t=>{t.detach()}),super.detach()}enforceAllowedChildren(){let t=!1;this.children.forEach(e=>{t||this.statics.allowedChildren.some(r=>e instanceof r)||(e.statics.scope===X.BLOCK_BLOT?(e.next!=null&&this.splitAfter(e),e.prev!=null&&this.splitAfter(e.prev),e.parent.unwrap(),t=!0):e instanceof je?e.unwrap():e.remove())})}formatAt(t,e,r,s){this.children.forEachAt(t,e,(i,o,a)=>{i.formatAt(o,a,r,s)})}insertAt(t,e,r){const[s,i]=this.children.find(t);if(s)s.insertAt(i,e,r);else{const o=r==null?this.scroll.create("text",e):this.scroll.create(e,r);this.appendChild(o)}}insertBefore(t,e){t.parent!=null&&t.parent.children.remove(t);let r=null;this.children.insertBefore(t,e||null),t.parent=this,e!=null&&(r=e.domNode),(this.domNode.parentNode!==t.domNode||this.domNode.nextSibling!==r)&&this.domNode.insertBefore(t.domNode,r),t.attach()}length(){return this.children.reduce((t,e)=>t+e.length(),0)}moveChildren(t,e){this.children.forEach(r=>{t.insertBefore(r,e)})}optimize(t){if(super.optimize(t),this.enforceAllowedChildren(),this.uiNode!=null&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length===0)if(this.statics.defaultChild!=null){const e=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(e)}else this.remove()}path(t,e=!1){const[r,s]=this.children.find(t,e),i=[[this,t]];return r instanceof je?i.concat(r.path(s,e)):(r!=null&&i.push([r,s]),i)}removeChild(t){this.children.remove(t)}replaceWith(t,e){const r=typeof t=="string"?this.scroll.create(t,e):t;return r instanceof je&&this.moveChildren(r),super.replaceWith(r)}split(t,e=!1){if(!e){if(t===0)return this;if(t===this.length())return this.next}const r=this.clone();return this.parent&&this.parent.insertBefore(r,this.next||void 0),this.children.forEachAt(t,this.length(),(s,i,o)=>{const a=s.split(i,e);a!=null&&r.appendChild(a)}),r}splitAfter(t){const e=this.clone();for(;t.next!=null;)e.appendChild(t.next);return this.parent&&this.parent.insertBefore(e,this.next||void 0),e}unwrap(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}update(t,e){const r=[],s=[];t.forEach(i=>{i.target===this.domNode&&i.type==="childList"&&(r.push(...i.addedNodes),s.push(...i.removedNodes))}),s.forEach(i=>{if(i.parentNode!=null&&i.tagName!=="IFRAME"&&document.body.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY)return;const o=this.scroll.find(i);o!=null&&(o.domNode.parentNode==null||o.domNode.parentNode===this.domNode)&&o.detach()}),r.filter(i=>i.parentNode===this.domNode&&i!==this.uiNode).sort((i,o)=>i===o?0:i.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1).forEach(i=>{let o=null;i.nextSibling!=null&&(o=this.scroll.find(i.nextSibling));const a=Vo(i,this.scroll);(a.next!==o||a.next==null)&&(a.parent!=null&&a.parent.removeChild(this),this.insertBefore(a,o||void 0))}),this.enforceAllowedChildren()}};Ja.uiClass="";let qd=Ja;const ie=qd;function Id(n,t){if(Object.keys(n).length!==Object.keys(t).length)return!1;for(const e in n)if(n[e]!==t[e])return!1;return!0}const mr=class yr extends ie{static create(t){return super.create(t)}static formats(t,e){const r=e.query(yr.blotName);if(!(r!=null&&t.tagName===r.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return t.tagName.toLowerCase()}}constructor(t,e){super(t,e),this.attributes=new ns(this.domNode)}format(t,e){if(t===this.statics.blotName&&!e)this.children.forEach(r=>{r instanceof yr||(r=r.wrap(yr.blotName,!0)),this.attributes.copy(r)}),this.unwrap();else{const r=this.scroll.query(t,X.INLINE);if(r==null)return;r instanceof be?this.attributes.attribute(r,e):e&&(t!==this.statics.blotName||this.formats()[t]!==e)&&this.replaceWith(t,e)}}formats(){const t=this.attributes.values(),e=this.statics.formats(this.domNode,this.scroll);return e!=null&&(t[this.statics.blotName]=e),t}formatAt(t,e,r,s){this.formats()[r]!=null||this.scroll.query(r,X.ATTRIBUTE)?this.isolate(t,e).format(r,s):super.formatAt(t,e,r,s)}optimize(t){super.optimize(t);const e=this.formats();if(Object.keys(e).length===0)return this.unwrap();const r=this.next;r instanceof yr&&r.prev===this&&Id(e,r.formats())&&(r.moveChildren(this),r.remove())}replaceWith(t,e){const r=super.replaceWith(t,e);return this.attributes.copy(r),r}update(t,e){super.update(t,e),t.some(r=>r.target===this.domNode&&r.type==="attributes")&&this.attributes.build()}wrap(t,e){const r=super.wrap(t,e);return r instanceof yr&&this.attributes.move(r),r}};mr.allowedChildren=[mr,Pt],mr.blotName="inline",mr.scope=X.INLINE_BLOT,mr.tagName="SPAN";let jd=mr;const Yi=jd,br=class vi extends ie{static create(t){return super.create(t)}static formats(t,e){const r=e.query(vi.blotName);if(!(r!=null&&t.tagName===r.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return t.tagName.toLowerCase()}}constructor(t,e){super(t,e),this.attributes=new ns(this.domNode)}format(t,e){const r=this.scroll.query(t,X.BLOCK);r!=null&&(r instanceof be?this.attributes.attribute(r,e):t===this.statics.blotName&&!e?this.replaceWith(vi.blotName):e&&(t!==this.statics.blotName||this.formats()[t]!==e)&&this.replaceWith(t,e))}formats(){const t=this.attributes.values(),e=this.statics.formats(this.domNode,this.scroll);return e!=null&&(t[this.statics.blotName]=e),t}formatAt(t,e,r,s){this.scroll.query(r,X.BLOCK)!=null?this.format(r,s):super.formatAt(t,e,r,s)}insertAt(t,e,r){if(r==null||this.scroll.query(e,X.INLINE)!=null)super.insertAt(t,e,r);else{const s=this.split(t);if(s!=null){const i=this.scroll.create(e,r);s.parent.insertBefore(i,s)}else throw new Error("Attempt to insertAt after block boundaries")}}replaceWith(t,e){const r=super.replaceWith(t,e);return this.attributes.copy(r),r}update(t,e){super.update(t,e),t.some(r=>r.target===this.domNode&&r.type==="attributes")&&this.attributes.build()}};br.blotName="block",br.scope=X.BLOCK_BLOT,br.tagName="P",br.allowedChildren=[Yi,br,Pt];let Rd=br;const nn=Rd,wi=class extends ie{checkMerge(){return this.next!==null&&this.next.statics.blotName===this.statics.blotName}deleteAt(t,e){super.deleteAt(t,e),this.enforceAllowedChildren()}formatAt(t,e,r,s){super.formatAt(t,e,r,s),this.enforceAllowedChildren()}insertAt(t,e,r){super.insertAt(t,e,r),this.enforceAllowedChildren()}optimize(t){super.optimize(t),this.children.length>0&&this.next!=null&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}};wi.blotName="container",wi.scope=X.BLOCK_BLOT;let Pd=wi;const ss=Pd;class Md extends Pt{static formats(t,e){}format(t,e){super.formatAt(0,this.length(),t,e)}formatAt(t,e,r,s){t===0&&e===this.length()?this.format(r,s):super.formatAt(t,e,r,s)}formats(){return this.statics.formats(this.domNode,this.scroll)}}const zt=Md,$d={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},Bd=100,vr=class extends ie{constructor(t,e){super(null,e),this.registry=t,this.scroll=this,this.build(),this.observer=new MutationObserver(r=>{this.update(r)}),this.observer.observe(this.domNode,$d),this.attach()}create(t,e){return this.registry.create(this,t,e)}find(t,e=!1){const r=this.registry.find(t,e);return r?r.scroll===this?r:e?this.find(r.scroll.domNode.parentNode,!0):null:null}query(t,e=X.ANY){return this.registry.query(t,e)}register(...t){return this.registry.register(...t)}build(){this.scroll!=null&&super.build()}detach(){super.detach(),this.observer.disconnect()}deleteAt(t,e){this.update(),t===0&&e===this.length()?this.children.forEach(r=>{r.remove()}):super.deleteAt(t,e)}formatAt(t,e,r,s){this.update(),super.formatAt(t,e,r,s)}insertAt(t,e,r){this.update(),super.insertAt(t,e,r)}optimize(t=[],e={}){super.optimize(e);const r=e.mutationsMap||new WeakMap;let s=Array.from(this.observer.takeRecords());for(;s.length>0;)t.push(s.pop());const i=(c,u=!0)=>{c==null||c===this||c.domNode.parentNode!=null&&(r.has(c.domNode)||r.set(c.domNode,[]),u&&i(c.parent))},o=c=>{r.has(c.domNode)&&(c instanceof ie&&c.children.forEach(o),r.delete(c.domNode),c.optimize(e))};let a=t;for(let c=0;a.length>0;c+=1){if(c>=Bd)throw new Error("[Parchment] Maximum optimize iterations reached");for(a.forEach(u=>{const h=this.find(u.target,!0);h!=null&&(h.domNode===u.target&&(u.type==="childList"?(i(this.find(u.previousSibling,!1)),Array.from(u.addedNodes).forEach(d=>{const f=this.find(d,!1);i(f,!1),f instanceof ie&&f.children.forEach(p=>{i(p,!1)})})):u.type==="attributes"&&i(h.prev)),i(h))}),this.children.forEach(o),a=Array.from(this.observer.takeRecords()),s=a.slice();s.length>0;)t.push(s.pop())}}update(t,e={}){t=t||this.observer.takeRecords();const r=new WeakMap;t.map(s=>{const i=this.find(s.target,!0);return i==null?null:r.has(i.domNode)?(r.get(i.domNode).push(s),null):(r.set(i.domNode,[s]),i)}).forEach(s=>{s!=null&&s!==this&&r.has(s.domNode)&&s.update(r.get(s.domNode)||[],e)}),e.mutationsMap=r,r.has(this.domNode)&&super.update(r.get(this.domNode),e),this.optimize(t,e)}};vr.blotName="scroll",vr.defaultChild=nn,vr.allowedChildren=[nn,ss],vr.scope=X.BLOCK_BLOT,vr.tagName="DIV";let Dd=vr;const Ji=Dd,xi=class Qa extends Pt{static create(t){return document.createTextNode(t)}static value(t){return t.data}constructor(t,e){super(t,e),this.text=this.statics.value(this.domNode)}deleteAt(t,e){this.domNode.data=this.text=this.text.slice(0,t)+this.text.slice(t+e)}index(t,e){return this.domNode===t?e:-1}insertAt(t,e,r){r==null?(this.text=this.text.slice(0,t)+e+this.text.slice(t),this.domNode.data=this.text):super.insertAt(t,e,r)}length(){return this.text.length}optimize(t){super.optimize(t),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof Qa&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}position(t,e=!1){return[this.domNode,t]}split(t,e=!1){if(!e){if(t===0)return this;if(t===this.length())return this.next}const r=this.scroll.create(this.domNode.splitText(t));return this.parent.insertBefore(r,this.next||void 0),this.text=this.statics.value(this.domNode),r}update(t,e){t.some(r=>r.type==="characterData"&&r.target===this.domNode)&&(this.text=this.statics.value(this.domNode))}value(){return this.text}};xi.blotName="text",xi.scope=X.INLINE_BLOT;let Ud=xi;const Xn=Ud,Fd=Object.freeze(Object.defineProperty({__proto__:null,Attributor:be,AttributorStore:ns,BlockBlot:nn,ClassAttributor:ae,ContainerBlot:ss,EmbedBlot:zt,InlineBlot:Yi,LeafBlot:Pt,ParentBlot:ie,Registry:Tr,Scope:X,ScrollBlot:Ji,StyleAttributor:Ue,TextBlot:Xn},Symbol.toStringTag,{value:"Module"}));var Re=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Qi(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Ai={exports:{}},Ht=-1,Dt=1,Ot=0;function sn(n,t,e,r,s){if(n===t)return n?[[Ot,n]]:[];if(e!=null){var i=Yd(n,t,e);if(i)return i}var o=to(n,t),a=n.substring(0,o);n=n.substring(o),t=t.substring(o),o=is(n,t);var c=n.substring(n.length-o);n=n.substring(0,n.length-o),t=t.substring(0,t.length-o);var u=Hd(n,t);return a&&u.unshift([Ot,a]),c&&u.push([Ot,c]),eo(u,s),r&&Gd(u),u}function Hd(n,t){var e;if(!n)return[[Dt,t]];if(!t)return[[Ht,n]];var r=n.length>t.length?n:t,s=n.length>t.length?t:n,i=r.indexOf(s);if(i!==-1)return e=[[Dt,r.substring(0,i)],[Ot,s],[Dt,r.substring(i+s.length)]],n.length>t.length&&(e[0][0]=e[2][0]=Ht),e;if(s.length===1)return[[Ht,n],[Dt,t]];var o=Vd(n,t);if(o){var a=o[0],c=o[1],u=o[2],h=o[3],d=o[4],f=sn(a,u),p=sn(c,h);return f.concat([[Ot,d]],p)}return zd(n,t)}function zd(n,t){for(var e=n.length,r=t.length,s=Math.ceil((e+r)/2),i=s,o=2*s,a=new Array(o),c=new Array(o),u=0;u<o;u++)a[u]=-1,c[u]=-1;a[i+1]=0,c[i+1]=0;for(var h=e-r,d=h%2!==0,f=0,p=0,g=0,E=0,v=0;v<s;v++){for(var x=-v+f;x<=v-p;x+=2){var w=i+x,A;x===-v||x!==v&&a[w-1]<a[w+1]?A=a[w+1]:A=a[w-1]+1;for(var m=A-x;A<e&&m<r&&n.charAt(A)===t.charAt(m);)A++,m++;if(a[w]=A,A>e)p+=2;else if(m>r)f+=2;else if(d){var _=i+h-x;if(_>=0&&_<o&&c[_]!==-1){var b=e-c[_];if(A>=b)return Go(n,t,A,m)}}}for(var S=-v+g;S<=v-E;S+=2){var _=i+S,b;S===-v||S!==v&&c[_-1]<c[_+1]?b=c[_+1]:b=c[_-1]+1;for(var N=b-S;b<e&&N<r&&n.charAt(e-b-1)===t.charAt(r-N-1);)b++,N++;if(c[_]=b,b>e)E+=2;else if(N>r)g+=2;else if(!d){var w=i+h-S;if(w>=0&&w<o&&a[w]!==-1){var A=a[w],m=i+A-w;if(b=e-b,A>=b)return Go(n,t,A,m)}}}}return[[Ht,n],[Dt,t]]}function Go(n,t,e,r){var s=n.substring(0,e),i=t.substring(0,r),o=n.substring(e),a=t.substring(r),c=sn(s,i),u=sn(o,a);return c.concat(u)}function to(n,t){if(!n||!t||n.charAt(0)!==t.charAt(0))return 0;for(var e=0,r=Math.min(n.length,t.length),s=r,i=0;e<s;)n.substring(i,s)==t.substring(i,s)?(e=s,i=e):r=s,s=Math.floor((r-e)/2+e);return tl(n.charCodeAt(s-1))&&s--,s}function Ko(n,t){var e=n.length,r=t.length;if(e==0||r==0)return 0;e>r?n=n.substring(e-r):e<r&&(t=t.substring(0,e));var s=Math.min(e,r);if(n==t)return s;for(var i=0,o=1;;){var a=n.substring(s-o),c=t.indexOf(a);if(c==-1)return i;o+=c,(c==0||n.substring(s-o)==t.substring(0,o))&&(i=o,o++)}}function is(n,t){if(!n||!t||n.slice(-1)!==t.slice(-1))return 0;for(var e=0,r=Math.min(n.length,t.length),s=r,i=0;e<s;)n.substring(n.length-s,n.length-i)==t.substring(t.length-s,t.length-i)?(e=s,i=e):r=s,s=Math.floor((r-e)/2+e);return el(n.charCodeAt(n.length-s))&&s--,s}function Vd(n,t){var e=n.length>t.length?n:t,r=n.length>t.length?t:n;if(e.length<4||r.length*2<e.length)return null;function s(p,g,E){for(var v=p.substring(E,E+Math.floor(p.length/4)),x=-1,w="",A,m,_,b;(x=g.indexOf(v,x+1))!==-1;){var S=to(p.substring(E),g.substring(x)),N=is(p.substring(0,E),g.substring(0,x));w.length<N+S&&(w=g.substring(x-N,x)+g.substring(x,x+S),A=p.substring(0,E-N),m=p.substring(E+S),_=g.substring(0,x-N),b=g.substring(x+S))}return w.length*2>=p.length?[A,m,_,b,w]:null}var i=s(e,r,Math.ceil(e.length/4)),o=s(e,r,Math.ceil(e.length/2)),a;if(!i&&!o)return null;o?i?a=i[4].length>o[4].length?i:o:a=o:a=i;var c,u,h,d;n.length>t.length?(c=a[0],u=a[1],h=a[2],d=a[3]):(h=a[0],d=a[1],c=a[2],u=a[3]);var f=a[4];return[c,u,h,d,f]}function Gd(n){for(var t=!1,e=[],r=0,s=null,i=0,o=0,a=0,c=0,u=0;i<n.length;)n[i][0]==Ot?(e[r++]=i,o=c,a=u,c=0,u=0,s=n[i][1]):(n[i][0]==Dt?c+=n[i][1].length:u+=n[i][1].length,s&&s.length<=Math.max(o,a)&&s.length<=Math.max(c,u)&&(n.splice(e[r-1],0,[Ht,s]),n[e[r-1]+1][0]=Dt,r--,r--,i=r>0?e[r-1]:-1,o=0,a=0,c=0,u=0,s=null,t=!0)),i++;for(t&&eo(n),Zd(n),i=1;i<n.length;){if(n[i-1][0]==Ht&&n[i][0]==Dt){var h=n[i-1][1],d=n[i][1],f=Ko(h,d),p=Ko(d,h);f>=p?(f>=h.length/2||f>=d.length/2)&&(n.splice(i,0,[Ot,d.substring(0,f)]),n[i-1][1]=h.substring(0,h.length-f),n[i+1][1]=d.substring(f),i++):(p>=h.length/2||p>=d.length/2)&&(n.splice(i,0,[Ot,h.substring(0,p)]),n[i-1][0]=Dt,n[i-1][1]=d.substring(0,d.length-p),n[i+1][0]=Ht,n[i+1][1]=h.substring(p),i++),i++}i++}}var Wo=/[^a-zA-Z0-9]/,Zo=/\s/,Xo=/[\r\n]/,Kd=/\n\r?\n$/,Wd=/^\r?\n\r?\n/;function Zd(n){function t(p,g){if(!p||!g)return 6;var E=p.charAt(p.length-1),v=g.charAt(0),x=E.match(Wo),w=v.match(Wo),A=x&&E.match(Zo),m=w&&v.match(Zo),_=A&&E.match(Xo),b=m&&v.match(Xo),S=_&&p.match(Kd),N=b&&g.match(Wd);return S||N?5:_||b?4:x&&!A&&m?3:A||m?2:x||w?1:0}for(var e=1;e<n.length-1;){if(n[e-1][0]==Ot&&n[e+1][0]==Ot){var r=n[e-1][1],s=n[e][1],i=n[e+1][1],o=is(r,s);if(o){var a=s.substring(s.length-o);r=r.substring(0,r.length-o),s=a+s.substring(0,s.length-o),i=a+i}for(var c=r,u=s,h=i,d=t(r,s)+t(s,i);s.charAt(0)===i.charAt(0);){r+=s.charAt(0),s=s.substring(1)+i.charAt(0),i=i.substring(1);var f=t(r,s)+t(s,i);f>=d&&(d=f,c=r,u=s,h=i)}n[e-1][1]!=c&&(c?n[e-1][1]=c:(n.splice(e-1,1),e--),n[e][1]=u,h?n[e+1][1]=h:(n.splice(e+1,1),e--))}e++}}function eo(n,t){n.push([Ot,""]);for(var e=0,r=0,s=0,i="",o="",a;e<n.length;){if(e<n.length-1&&!n[e][1]){n.splice(e,1);continue}switch(n[e][0]){case Dt:s++,o+=n[e][1],e++;break;case Ht:r++,i+=n[e][1],e++;break;case Ot:var c=e-s-r-1;if(t){if(c>=0&&nl(n[c][1])){var u=n[c][1].slice(-1);if(n[c][1]=n[c][1].slice(0,-1),i=u+i,o=u+o,!n[c][1]){n.splice(c,1),e--;var h=c-1;n[h]&&n[h][0]===Dt&&(s++,o=n[h][1]+o,h--),n[h]&&n[h][0]===Ht&&(r++,i=n[h][1]+i,h--),c=h}}if(rl(n[e][1])){var u=n[e][1].charAt(0);n[e][1]=n[e][1].slice(1),i+=u,o+=u}}if(e<n.length-1&&!n[e][1]){n.splice(e,1);break}if(i.length>0||o.length>0){i.length>0&&o.length>0&&(a=to(o,i),a!==0&&(c>=0?n[c][1]+=o.substring(0,a):(n.splice(0,0,[Ot,o.substring(0,a)]),e++),o=o.substring(a),i=i.substring(a)),a=is(o,i),a!==0&&(n[e][1]=o.substring(o.length-a)+n[e][1],o=o.substring(0,o.length-a),i=i.substring(0,i.length-a)));var d=s+r;i.length===0&&o.length===0?(n.splice(e-d,d),e=e-d):i.length===0?(n.splice(e-d,d,[Dt,o]),e=e-d+1):o.length===0?(n.splice(e-d,d,[Ht,i]),e=e-d+1):(n.splice(e-d,d,[Ht,i],[Dt,o]),e=e-d+2)}e!==0&&n[e-1][0]===Ot?(n[e-1][1]+=n[e][1],n.splice(e,1)):e++,s=0,r=0,i="",o="";break}}n[n.length-1][1]===""&&n.pop();var f=!1;for(e=1;e<n.length-1;)n[e-1][0]===Ot&&n[e+1][0]===Ot&&(n[e][1].substring(n[e][1].length-n[e-1][1].length)===n[e-1][1]?(n[e][1]=n[e-1][1]+n[e][1].substring(0,n[e][1].length-n[e-1][1].length),n[e+1][1]=n[e-1][1]+n[e+1][1],n.splice(e-1,1),f=!0):n[e][1].substring(0,n[e+1][1].length)==n[e+1][1]&&(n[e-1][1]+=n[e+1][1],n[e][1]=n[e][1].substring(n[e+1][1].length)+n[e+1][1],n.splice(e+1,1),f=!0)),e++;f&&eo(n,t)}function tl(n){return n>=55296&&n<=56319}function el(n){return n>=56320&&n<=57343}function rl(n){return el(n.charCodeAt(0))}function nl(n){return tl(n.charCodeAt(n.length-1))}function Xd(n){for(var t=[],e=0;e<n.length;e++)n[e][1].length>0&&t.push(n[e]);return t}function ti(n,t,e,r){return nl(n)||rl(r)?null:Xd([[Ot,n],[Ht,t],[Dt,e],[Ot,r]])}function Yd(n,t,e){var r=typeof e=="number"?{index:e,length:0}:e.oldRange,s=typeof e=="number"?null:e.newRange,i=n.length,o=t.length;if(r.length===0&&(s===null||s.length===0)){var a=r.index,c=n.slice(0,a),u=n.slice(a),h=s?s.index:null;t:{var d=a+o-i;if(h!==null&&h!==d||d<0||d>o)break t;var f=t.slice(0,d),p=t.slice(d);if(p!==u)break t;var g=Math.min(a,d),E=c.slice(0,g),v=f.slice(0,g);if(E!==v)break t;var x=c.slice(g),w=f.slice(g);return ti(E,x,w,u)}t:{if(h!==null&&h!==a)break t;var A=a,f=t.slice(0,A),p=t.slice(A);if(f!==c)break t;var m=Math.min(i-A,o-A),_=u.slice(u.length-m),b=p.slice(p.length-m);if(_!==b)break t;var x=u.slice(0,u.length-m),w=p.slice(0,p.length-m);return ti(c,x,w,_)}}if(r.length>0&&s&&s.length===0)t:{var E=n.slice(0,r.index),_=n.slice(r.index+r.length),g=E.length,m=_.length;if(o<g+m)break t;var v=t.slice(0,g),b=t.slice(o-m);if(E!==v||_!==b)break t;var x=n.slice(g,i-m),w=t.slice(g,o-m);return ti(E,x,w,_)}return null}function os(n,t,e,r){return sn(n,t,e,r,!0)}os.INSERT=Dt;os.DELETE=Ht;os.EQUAL=Ot;var Jd=os,Yn={exports:{}};Yn.exports;(function(n,t){var e=200,r="__lodash_hash_undefined__",s=9007199254740991,i="[object Arguments]",o="[object Array]",a="[object Boolean]",c="[object Date]",u="[object Error]",h="[object Function]",d="[object GeneratorFunction]",f="[object Map]",p="[object Number]",g="[object Object]",E="[object Promise]",v="[object RegExp]",x="[object Set]",w="[object String]",A="[object Symbol]",m="[object WeakMap]",_="[object ArrayBuffer]",b="[object DataView]",S="[object Float32Array]",N="[object Float64Array]",B="[object Int8Array]",Z="[object Int16Array]",I="[object Int32Array]",k="[object Uint8Array]",R="[object Uint8ClampedArray]",D="[object Uint16Array]",F="[object Uint32Array]",G=/[\\^$.*+?()[\]{}|]/g,W=/\w*$/,z=/^\[object .+?Constructor\]$/,H=/^(?:0|[1-9]\d*)$/,P={};P[i]=P[o]=P[_]=P[b]=P[a]=P[c]=P[S]=P[N]=P[B]=P[Z]=P[I]=P[f]=P[p]=P[g]=P[v]=P[x]=P[w]=P[A]=P[k]=P[R]=P[D]=P[F]=!0,P[u]=P[h]=P[m]=!1;var et=typeof Re=="object"&&Re&&Re.Object===Object&&Re,J=typeof self=="object"&&self&&self.Object===Object&&self,$=et||J||Function("return this")(),j=t&&!t.nodeType&&t,O=j&&!0&&n&&!n.nodeType&&n,M=O&&O.exports===j;function rt(l,y){return l.set(y[0],y[1]),l}function ft(l,y){return l.add(y),l}function mt(l,y){for(var T=-1,L=l?l.length:0;++T<L&&y(l[T],T,l)!==!1;);return l}function pt(l,y){for(var T=-1,L=y.length,Q=l.length;++T<L;)l[Q+T]=y[T];return l}function lt(l,y,T,L){for(var Q=-1,Y=l?l.length:0;++Q<Y;)T=y(T,l[Q],Q,l);return T}function bt(l,y){for(var T=-1,L=Array(l);++T<l;)L[T]=y(T);return L}function wt(l,y){return l==null?void 0:l[y]}function vt(l){var y=!1;if(l!=null&&typeof l.toString!="function")try{y=!!(l+"")}catch{}return y}function xt(l){var y=-1,T=Array(l.size);return l.forEach(function(L,Q){T[++y]=[Q,L]}),T}function ht(l,y){return function(T){return l(y(T))}}function yt(l){var y=-1,T=Array(l.size);return l.forEach(function(L){T[++y]=L}),T}var $t=Array.prototype,At=Function.prototype,sr=Object.prototype,Lr=$["__core-js_shared__"],mn=function(){var l=/[^.]+$/.exec(Lr&&Lr.keys&&Lr.keys.IE_PROTO||"");return l?"Symbol(src)_1."+l:""}(),yn=At.toString,ue=sr.hasOwnProperty,ir=sr.toString,hs=RegExp("^"+yn.call(ue).replace(G,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Fe=M?$.Buffer:void 0,or=$.Symbol,qr=$.Uint8Array,Vt=ht(Object.getPrototypeOf,Object),bn=Object.create,vn=sr.propertyIsEnumerable,fs=$t.splice,Ir=Object.getOwnPropertySymbols,ar=Fe?Fe.isBuffer:void 0,wn=ht(Object.keys,Object),lr=Jt($,"DataView"),He=Jt($,"Map"),Yt=Jt($,"Promise"),cr=Jt($,"Set"),jr=Jt($,"WeakMap"),ze=Jt(Object,"create"),Rr=Bt(lr),Ve=Bt(He),Pr=Bt(Yt),Mr=Bt(cr),$r=Bt(jr),Le=or?or.prototype:void 0,xn=Le?Le.valueOf:void 0;function xe(l){var y=-1,T=l?l.length:0;for(this.clear();++y<T;){var L=l[y];this.set(L[0],L[1])}}function ds(){this.__data__=ze?ze(null):{}}function ps(l){return this.has(l)&&delete this.__data__[l]}function gs(l){var y=this.__data__;if(ze){var T=y[l];return T===r?void 0:T}return ue.call(y,l)?y[l]:void 0}function An(l){var y=this.__data__;return ze?y[l]!==void 0:ue.call(y,l)}function Br(l,y){var T=this.__data__;return T[l]=ze&&y===void 0?r:y,this}xe.prototype.clear=ds,xe.prototype.delete=ps,xe.prototype.get=gs,xe.prototype.has=An,xe.prototype.set=Br;function kt(l){var y=-1,T=l?l.length:0;for(this.clear();++y<T;){var L=l[y];this.set(L[0],L[1])}}function ms(){this.__data__=[]}function ys(l){var y=this.__data__,T=hr(y,l);if(T<0)return!1;var L=y.length-1;return T==L?y.pop():fs.call(y,T,1),!0}function bs(l){var y=this.__data__,T=hr(y,l);return T<0?void 0:y[T][1]}function vs(l){return hr(this.__data__,l)>-1}function ws(l,y){var T=this.__data__,L=hr(T,l);return L<0?T.push([l,y]):T[L][1]=y,this}kt.prototype.clear=ms,kt.prototype.delete=ys,kt.prototype.get=bs,kt.prototype.has=vs,kt.prototype.set=ws;function qt(l){var y=-1,T=l?l.length:0;for(this.clear();++y<T;){var L=l[y];this.set(L[0],L[1])}}function xs(){this.__data__={hash:new xe,map:new(He||kt),string:new xe}}function As(l){return Ke(this,l).delete(l)}function Es(l){return Ke(this,l).get(l)}function _s(l){return Ke(this,l).has(l)}function Ns(l,y){return Ke(this,l).set(l,y),this}qt.prototype.clear=xs,qt.prototype.delete=As,qt.prototype.get=Es,qt.prototype.has=_s,qt.prototype.set=Ns;function Ut(l){this.__data__=new kt(l)}function Ts(){this.__data__=new kt}function Os(l){return this.__data__.delete(l)}function Ss(l){return this.__data__.get(l)}function ks(l){return this.__data__.has(l)}function Cs(l,y){var T=this.__data__;if(T instanceof kt){var L=T.__data__;if(!He||L.length<e-1)return L.push([l,y]),this;T=this.__data__=new qt(L)}return T.set(l,y),this}Ut.prototype.clear=Ts,Ut.prototype.delete=Os,Ut.prototype.get=Ss,Ut.prototype.has=ks,Ut.prototype.set=Cs;function ur(l,y){var T=Hr(l)||dr(l)?bt(l.length,String):[],L=T.length,Q=!!L;for(var Y in l)ue.call(l,Y)&&!(Q&&(Y=="length"||zs(Y,L)))&&T.push(Y);return T}function En(l,y,T){var L=l[y];(!(ue.call(l,y)&&Sn(L,T))||T===void 0&&!(y in l))&&(l[y]=T)}function hr(l,y){for(var T=l.length;T--;)if(Sn(l[T][0],y))return T;return-1}function he(l,y){return l&&Fr(y,Vr(y),l)}function Dr(l,y,T,L,Q,Y,ot){var it;if(L&&(it=Y?L(l,Q,Y,ot):L(l)),it!==void 0)return it;if(!de(l))return l;var Et=Hr(l);if(Et){if(it=Fs(l),!y)return Bs(l,it)}else{var ct=Ee(l),It=ct==h||ct==d;if(kn(l))return fr(l,y);if(ct==g||ct==i||It&&!Y){if(vt(l))return Y?l:{};if(it=fe(It?{}:l),!y)return Ds(l,he(it,l))}else{if(!P[ct])return Y?l:{};it=Hs(l,ct,Dr,y)}}ot||(ot=new Ut);var Ft=ot.get(l);if(Ft)return Ft;if(ot.set(l,it),!Et)var Nt=T?Us(l):Vr(l);return mt(Nt||l,function(jt,Ct){Nt&&(Ct=jt,jt=l[Ct]),En(it,Ct,Dr(jt,y,T,L,Ct,l,ot))}),it}function Ls(l){return de(l)?bn(l):{}}function qs(l,y,T){var L=y(l);return Hr(l)?L:pt(L,T(l))}function Is(l){return ir.call(l)}function js(l){if(!de(l)||Gs(l))return!1;var y=zr(l)||vt(l)?hs:z;return y.test(Bt(l))}function Rs(l){if(!Tn(l))return wn(l);var y=[];for(var T in Object(l))ue.call(l,T)&&T!="constructor"&&y.push(T);return y}function fr(l,y){if(y)return l.slice();var T=new l.constructor(l.length);return l.copy(T),T}function Ur(l){var y=new l.constructor(l.byteLength);return new qr(y).set(new qr(l)),y}function Ge(l,y){var T=y?Ur(l.buffer):l.buffer;return new l.constructor(T,l.byteOffset,l.byteLength)}function _n(l,y,T){var L=y?T(xt(l),!0):xt(l);return lt(L,rt,new l.constructor)}function Nn(l){var y=new l.constructor(l.source,W.exec(l));return y.lastIndex=l.lastIndex,y}function Ps(l,y,T){var L=y?T(yt(l),!0):yt(l);return lt(L,ft,new l.constructor)}function Ms(l){return xn?Object(xn.call(l)):{}}function $s(l,y){var T=y?Ur(l.buffer):l.buffer;return new l.constructor(T,l.byteOffset,l.length)}function Bs(l,y){var T=-1,L=l.length;for(y||(y=Array(L));++T<L;)y[T]=l[T];return y}function Fr(l,y,T,L){T||(T={});for(var Q=-1,Y=y.length;++Q<Y;){var ot=y[Q],it=void 0;En(T,ot,it===void 0?l[ot]:it)}return T}function Ds(l,y){return Fr(l,Ae(l),y)}function Us(l){return qs(l,Vr,Ae)}function Ke(l,y){var T=l.__data__;return Vs(y)?T[typeof y=="string"?"string":"hash"]:T.map}function Jt(l,y){var T=wt(l,y);return js(T)?T:void 0}var Ae=Ir?ht(Ir,Object):Ws,Ee=Is;(lr&&Ee(new lr(new ArrayBuffer(1)))!=b||He&&Ee(new He)!=f||Yt&&Ee(Yt.resolve())!=E||cr&&Ee(new cr)!=x||jr&&Ee(new jr)!=m)&&(Ee=function(l){var y=ir.call(l),T=y==g?l.constructor:void 0,L=T?Bt(T):void 0;if(L)switch(L){case Rr:return b;case Ve:return f;case Pr:return E;case Mr:return x;case $r:return m}return y});function Fs(l){var y=l.length,T=l.constructor(y);return y&&typeof l[0]=="string"&&ue.call(l,"index")&&(T.index=l.index,T.input=l.input),T}function fe(l){return typeof l.constructor=="function"&&!Tn(l)?Ls(Vt(l)):{}}function Hs(l,y,T,L){var Q=l.constructor;switch(y){case _:return Ur(l);case a:case c:return new Q(+l);case b:return Ge(l,L);case S:case N:case B:case Z:case I:case k:case R:case D:case F:return $s(l,L);case f:return _n(l,L,T);case p:case w:return new Q(l);case v:return Nn(l);case x:return Ps(l,L,T);case A:return Ms(l)}}function zs(l,y){return y=y??s,!!y&&(typeof l=="number"||H.test(l))&&l>-1&&l%1==0&&l<y}function Vs(l){var y=typeof l;return y=="string"||y=="number"||y=="symbol"||y=="boolean"?l!=="__proto__":l===null}function Gs(l){return!!mn&&mn in l}function Tn(l){var y=l&&l.constructor,T=typeof y=="function"&&y.prototype||sr;return l===T}function Bt(l){if(l!=null){try{return yn.call(l)}catch{}try{return l+""}catch{}}return""}function On(l){return Dr(l,!0,!0)}function Sn(l,y){return l===y||l!==l&&y!==y}function dr(l){return Ks(l)&&ue.call(l,"callee")&&(!vn.call(l,"callee")||ir.call(l)==i)}var Hr=Array.isArray;function pr(l){return l!=null&&Cn(l.length)&&!zr(l)}function Ks(l){return Ln(l)&&pr(l)}var kn=ar||Zs;function zr(l){var y=de(l)?ir.call(l):"";return y==h||y==d}function Cn(l){return typeof l=="number"&&l>-1&&l%1==0&&l<=s}function de(l){var y=typeof l;return!!l&&(y=="object"||y=="function")}function Ln(l){return!!l&&typeof l=="object"}function Vr(l){return pr(l)?ur(l):Rs(l)}function Ws(){return[]}function Zs(){return!1}n.exports=On})(Yn,Yn.exports);var sl=Yn.exports,Jn={exports:{}};Jn.exports;(function(n,t){var e=200,r="__lodash_hash_undefined__",s=1,i=2,o=9007199254740991,a="[object Arguments]",c="[object Array]",u="[object AsyncFunction]",h="[object Boolean]",d="[object Date]",f="[object Error]",p="[object Function]",g="[object GeneratorFunction]",E="[object Map]",v="[object Number]",x="[object Null]",w="[object Object]",A="[object Promise]",m="[object Proxy]",_="[object RegExp]",b="[object Set]",S="[object String]",N="[object Symbol]",B="[object Undefined]",Z="[object WeakMap]",I="[object ArrayBuffer]",k="[object DataView]",R="[object Float32Array]",D="[object Float64Array]",F="[object Int8Array]",G="[object Int16Array]",W="[object Int32Array]",z="[object Uint8Array]",H="[object Uint8ClampedArray]",P="[object Uint16Array]",et="[object Uint32Array]",J=/[\\^$.*+?()[\]{}|]/g,$=/^\[object .+?Constructor\]$/,j=/^(?:0|[1-9]\d*)$/,O={};O[R]=O[D]=O[F]=O[G]=O[W]=O[z]=O[H]=O[P]=O[et]=!0,O[a]=O[c]=O[I]=O[h]=O[k]=O[d]=O[f]=O[p]=O[E]=O[v]=O[w]=O[_]=O[b]=O[S]=O[Z]=!1;var M=typeof Re=="object"&&Re&&Re.Object===Object&&Re,rt=typeof self=="object"&&self&&self.Object===Object&&self,ft=M||rt||Function("return this")(),mt=t&&!t.nodeType&&t,pt=mt&&!0&&n&&!n.nodeType&&n,lt=pt&&pt.exports===mt,bt=lt&&M.process,wt=function(){try{return bt&&bt.binding&&bt.binding("util")}catch{}}(),vt=wt&&wt.isTypedArray;function xt(l,y){for(var T=-1,L=l==null?0:l.length,Q=0,Y=[];++T<L;){var ot=l[T];y(ot,T,l)&&(Y[Q++]=ot)}return Y}function ht(l,y){for(var T=-1,L=y.length,Q=l.length;++T<L;)l[Q+T]=y[T];return l}function yt(l,y){for(var T=-1,L=l==null?0:l.length;++T<L;)if(y(l[T],T,l))return!0;return!1}function $t(l,y){for(var T=-1,L=Array(l);++T<l;)L[T]=y(T);return L}function At(l){return function(y){return l(y)}}function sr(l,y){return l.has(y)}function Lr(l,y){return l==null?void 0:l[y]}function mn(l){var y=-1,T=Array(l.size);return l.forEach(function(L,Q){T[++y]=[Q,L]}),T}function yn(l,y){return function(T){return l(y(T))}}function ue(l){var y=-1,T=Array(l.size);return l.forEach(function(L){T[++y]=L}),T}var ir=Array.prototype,hs=Function.prototype,Fe=Object.prototype,or=ft["__core-js_shared__"],qr=hs.toString,Vt=Fe.hasOwnProperty,bn=function(){var l=/[^.]+$/.exec(or&&or.keys&&or.keys.IE_PROTO||"");return l?"Symbol(src)_1."+l:""}(),vn=Fe.toString,fs=RegExp("^"+qr.call(Vt).replace(J,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ir=lt?ft.Buffer:void 0,ar=ft.Symbol,wn=ft.Uint8Array,lr=Fe.propertyIsEnumerable,He=ir.splice,Yt=ar?ar.toStringTag:void 0,cr=Object.getOwnPropertySymbols,jr=Ir?Ir.isBuffer:void 0,ze=yn(Object.keys,Object),Rr=Ae(ft,"DataView"),Ve=Ae(ft,"Map"),Pr=Ae(ft,"Promise"),Mr=Ae(ft,"Set"),$r=Ae(ft,"WeakMap"),Le=Ae(Object,"create"),xn=Bt(Rr),xe=Bt(Ve),ds=Bt(Pr),ps=Bt(Mr),gs=Bt($r),An=ar?ar.prototype:void 0,Br=An?An.valueOf:void 0;function kt(l){var y=-1,T=l==null?0:l.length;for(this.clear();++y<T;){var L=l[y];this.set(L[0],L[1])}}function ms(){this.__data__=Le?Le(null):{},this.size=0}function ys(l){var y=this.has(l)&&delete this.__data__[l];return this.size-=y?1:0,y}function bs(l){var y=this.__data__;if(Le){var T=y[l];return T===r?void 0:T}return Vt.call(y,l)?y[l]:void 0}function vs(l){var y=this.__data__;return Le?y[l]!==void 0:Vt.call(y,l)}function ws(l,y){var T=this.__data__;return this.size+=this.has(l)?0:1,T[l]=Le&&y===void 0?r:y,this}kt.prototype.clear=ms,kt.prototype.delete=ys,kt.prototype.get=bs,kt.prototype.has=vs,kt.prototype.set=ws;function qt(l){var y=-1,T=l==null?0:l.length;for(this.clear();++y<T;){var L=l[y];this.set(L[0],L[1])}}function xs(){this.__data__=[],this.size=0}function As(l){var y=this.__data__,T=fr(y,l);if(T<0)return!1;var L=y.length-1;return T==L?y.pop():He.call(y,T,1),--this.size,!0}function Es(l){var y=this.__data__,T=fr(y,l);return T<0?void 0:y[T][1]}function _s(l){return fr(this.__data__,l)>-1}function Ns(l,y){var T=this.__data__,L=fr(T,l);return L<0?(++this.size,T.push([l,y])):T[L][1]=y,this}qt.prototype.clear=xs,qt.prototype.delete=As,qt.prototype.get=Es,qt.prototype.has=_s,qt.prototype.set=Ns;function Ut(l){var y=-1,T=l==null?0:l.length;for(this.clear();++y<T;){var L=l[y];this.set(L[0],L[1])}}function Ts(){this.size=0,this.__data__={hash:new kt,map:new(Ve||qt),string:new kt}}function Os(l){var y=Jt(this,l).delete(l);return this.size-=y?1:0,y}function Ss(l){return Jt(this,l).get(l)}function ks(l){return Jt(this,l).has(l)}function Cs(l,y){var T=Jt(this,l),L=T.size;return T.set(l,y),this.size+=T.size==L?0:1,this}Ut.prototype.clear=Ts,Ut.prototype.delete=Os,Ut.prototype.get=Ss,Ut.prototype.has=ks,Ut.prototype.set=Cs;function ur(l){var y=-1,T=l==null?0:l.length;for(this.__data__=new Ut;++y<T;)this.add(l[y])}function En(l){return this.__data__.set(l,r),this}function hr(l){return this.__data__.has(l)}ur.prototype.add=ur.prototype.push=En,ur.prototype.has=hr;function he(l){var y=this.__data__=new qt(l);this.size=y.size}function Dr(){this.__data__=new qt,this.size=0}function Ls(l){var y=this.__data__,T=y.delete(l);return this.size=y.size,T}function qs(l){return this.__data__.get(l)}function Is(l){return this.__data__.has(l)}function js(l,y){var T=this.__data__;if(T instanceof qt){var L=T.__data__;if(!Ve||L.length<e-1)return L.push([l,y]),this.size=++T.size,this;T=this.__data__=new Ut(L)}return T.set(l,y),this.size=T.size,this}he.prototype.clear=Dr,he.prototype.delete=Ls,he.prototype.get=qs,he.prototype.has=Is,he.prototype.set=js;function Rs(l,y){var T=dr(l),L=!T&&Sn(l),Q=!T&&!L&&pr(l),Y=!T&&!L&&!Q&&Ln(l),ot=T||L||Q||Y,it=ot?$t(l.length,String):[],Et=it.length;for(var ct in l)Vt.call(l,ct)&&!(ot&&(ct=="length"||Q&&(ct=="offset"||ct=="parent")||Y&&(ct=="buffer"||ct=="byteLength"||ct=="byteOffset")||Hs(ct,Et)))&&it.push(ct);return it}function fr(l,y){for(var T=l.length;T--;)if(On(l[T][0],y))return T;return-1}function Ur(l,y,T){var L=y(l);return dr(l)?L:ht(L,T(l))}function Ge(l){return l==null?l===void 0?B:x:Yt&&Yt in Object(l)?Ee(l):Tn(l)}function _n(l){return de(l)&&Ge(l)==a}function Nn(l,y,T,L,Q){return l===y?!0:l==null||y==null||!de(l)&&!de(y)?l!==l&&y!==y:Ps(l,y,T,L,Nn,Q)}function Ps(l,y,T,L,Q,Y){var ot=dr(l),it=dr(y),Et=ot?c:fe(l),ct=it?c:fe(y);Et=Et==a?w:Et,ct=ct==a?w:ct;var It=Et==w,Ft=ct==w,Nt=Et==ct;if(Nt&&pr(l)){if(!pr(y))return!1;ot=!0,It=!1}if(Nt&&!It)return Y||(Y=new he),ot||Ln(l)?Fr(l,y,T,L,Q,Y):Ds(l,y,Et,T,L,Q,Y);if(!(T&s)){var jt=It&&Vt.call(l,"__wrapped__"),Ct=Ft&&Vt.call(y,"__wrapped__");if(jt||Ct){var qe=jt?l.value():l,_e=Ct?y.value():y;return Y||(Y=new he),Q(qe,_e,T,L,Y)}}return Nt?(Y||(Y=new he),Us(l,y,T,L,Q,Y)):!1}function Ms(l){if(!Cn(l)||Vs(l))return!1;var y=kn(l)?fs:$;return y.test(Bt(l))}function $s(l){return de(l)&&zr(l.length)&&!!O[Ge(l)]}function Bs(l){if(!Gs(l))return ze(l);var y=[];for(var T in Object(l))Vt.call(l,T)&&T!="constructor"&&y.push(T);return y}function Fr(l,y,T,L,Q,Y){var ot=T&s,it=l.length,Et=y.length;if(it!=Et&&!(ot&&Et>it))return!1;var ct=Y.get(l);if(ct&&Y.get(y))return ct==y;var It=-1,Ft=!0,Nt=T&i?new ur:void 0;for(Y.set(l,y),Y.set(y,l);++It<it;){var jt=l[It],Ct=y[It];if(L)var qe=ot?L(Ct,jt,It,y,l,Y):L(jt,Ct,It,l,y,Y);if(qe!==void 0){if(qe)continue;Ft=!1;break}if(Nt){if(!yt(y,function(_e,We){if(!sr(Nt,We)&&(jt===_e||Q(jt,_e,T,L,Y)))return Nt.push(We)})){Ft=!1;break}}else if(!(jt===Ct||Q(jt,Ct,T,L,Y))){Ft=!1;break}}return Y.delete(l),Y.delete(y),Ft}function Ds(l,y,T,L,Q,Y,ot){switch(T){case k:if(l.byteLength!=y.byteLength||l.byteOffset!=y.byteOffset)return!1;l=l.buffer,y=y.buffer;case I:return!(l.byteLength!=y.byteLength||!Y(new wn(l),new wn(y)));case h:case d:case v:return On(+l,+y);case f:return l.name==y.name&&l.message==y.message;case _:case S:return l==y+"";case E:var it=mn;case b:var Et=L&s;if(it||(it=ue),l.size!=y.size&&!Et)return!1;var ct=ot.get(l);if(ct)return ct==y;L|=i,ot.set(l,y);var It=Fr(it(l),it(y),L,Q,Y,ot);return ot.delete(l),It;case N:if(Br)return Br.call(l)==Br.call(y)}return!1}function Us(l,y,T,L,Q,Y){var ot=T&s,it=Ke(l),Et=it.length,ct=Ke(y),It=ct.length;if(Et!=It&&!ot)return!1;for(var Ft=Et;Ft--;){var Nt=it[Ft];if(!(ot?Nt in y:Vt.call(y,Nt)))return!1}var jt=Y.get(l);if(jt&&Y.get(y))return jt==y;var Ct=!0;Y.set(l,y),Y.set(y,l);for(var qe=ot;++Ft<Et;){Nt=it[Ft];var _e=l[Nt],We=y[Nt];if(L)var go=ot?L(We,_e,Nt,y,l,Y):L(_e,We,Nt,l,y,Y);if(!(go===void 0?_e===We||Q(_e,We,T,L,Y):go)){Ct=!1;break}qe||(qe=Nt=="constructor")}if(Ct&&!qe){var qn=l.constructor,In=y.constructor;qn!=In&&"constructor"in l&&"constructor"in y&&!(typeof qn=="function"&&qn instanceof qn&&typeof In=="function"&&In instanceof In)&&(Ct=!1)}return Y.delete(l),Y.delete(y),Ct}function Ke(l){return Ur(l,Vr,Fs)}function Jt(l,y){var T=l.__data__;return zs(y)?T[typeof y=="string"?"string":"hash"]:T.map}function Ae(l,y){var T=Lr(l,y);return Ms(T)?T:void 0}function Ee(l){var y=Vt.call(l,Yt),T=l[Yt];try{l[Yt]=void 0;var L=!0}catch{}var Q=vn.call(l);return L&&(y?l[Yt]=T:delete l[Yt]),Q}var Fs=cr?function(l){return l==null?[]:(l=Object(l),xt(cr(l),function(y){return lr.call(l,y)}))}:Ws,fe=Ge;(Rr&&fe(new Rr(new ArrayBuffer(1)))!=k||Ve&&fe(new Ve)!=E||Pr&&fe(Pr.resolve())!=A||Mr&&fe(new Mr)!=b||$r&&fe(new $r)!=Z)&&(fe=function(l){var y=Ge(l),T=y==w?l.constructor:void 0,L=T?Bt(T):"";if(L)switch(L){case xn:return k;case xe:return E;case ds:return A;case ps:return b;case gs:return Z}return y});function Hs(l,y){return y=y??o,!!y&&(typeof l=="number"||j.test(l))&&l>-1&&l%1==0&&l<y}function zs(l){var y=typeof l;return y=="string"||y=="number"||y=="symbol"||y=="boolean"?l!=="__proto__":l===null}function Vs(l){return!!bn&&bn in l}function Gs(l){var y=l&&l.constructor,T=typeof y=="function"&&y.prototype||Fe;return l===T}function Tn(l){return vn.call(l)}function Bt(l){if(l!=null){try{return qr.call(l)}catch{}try{return l+""}catch{}}return""}function On(l,y){return l===y||l!==l&&y!==y}var Sn=_n(function(){return arguments}())?_n:function(l){return de(l)&&Vt.call(l,"callee")&&!lr.call(l,"callee")},dr=Array.isArray;function Hr(l){return l!=null&&zr(l.length)&&!kn(l)}var pr=jr||Zs;function Ks(l,y){return Nn(l,y)}function kn(l){if(!Cn(l))return!1;var y=Ge(l);return y==p||y==g||y==u||y==m}function zr(l){return typeof l=="number"&&l>-1&&l%1==0&&l<=o}function Cn(l){var y=typeof l;return l!=null&&(y=="object"||y=="function")}function de(l){return l!=null&&typeof l=="object"}var Ln=vt?At(vt):$s;function Vr(l){return Hr(l)?Rs(l):Bs(l)}function Ws(){return[]}function Zs(){return!1}n.exports=Ks})(Jn,Jn.exports);var il=Jn.exports,ro={};Object.defineProperty(ro,"__esModule",{value:!0});const Qd=sl,tp=il;var Ei;(function(n){function t(i={},o={},a=!1){typeof i!="object"&&(i={}),typeof o!="object"&&(o={});let c=Qd(o);a||(c=Object.keys(c).reduce((u,h)=>(c[h]!=null&&(u[h]=c[h]),u),{}));for(const u in i)i[u]!==void 0&&o[u]===void 0&&(c[u]=i[u]);return Object.keys(c).length>0?c:void 0}n.compose=t;function e(i={},o={}){typeof i!="object"&&(i={}),typeof o!="object"&&(o={});const a=Object.keys(i).concat(Object.keys(o)).reduce((c,u)=>(tp(i[u],o[u])||(c[u]=o[u]===void 0?null:o[u]),c),{});return Object.keys(a).length>0?a:void 0}n.diff=e;function r(i={},o={}){i=i||{};const a=Object.keys(o).reduce((c,u)=>(o[u]!==i[u]&&i[u]!==void 0&&(c[u]=o[u]),c),{});return Object.keys(i).reduce((c,u)=>(i[u]!==o[u]&&o[u]===void 0&&(c[u]=null),c),a)}n.invert=r;function s(i,o,a=!1){if(typeof i!="object")return o;if(typeof o!="object")return;if(!a)return o;const c=Object.keys(o).reduce((u,h)=>(i[h]===void 0&&(u[h]=o[h]),u),{});return Object.keys(c).length>0?c:void 0}n.transform=s})(Ei||(Ei={}));ro.default=Ei;var as={};Object.defineProperty(as,"__esModule",{value:!0});var _i;(function(n){function t(e){return typeof e.delete=="number"?e.delete:typeof e.retain=="number"?e.retain:typeof e.retain=="object"&&e.retain!==null?1:typeof e.insert=="string"?e.insert.length:1}n.length=t})(_i||(_i={}));as.default=_i;var no={};Object.defineProperty(no,"__esModule",{value:!0});const Yo=as;class ep{constructor(t){this.ops=t,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(t){t||(t=1/0);const e=this.ops[this.index];if(e){const r=this.offset,s=Yo.default.length(e);if(t>=s-r?(t=s-r,this.index+=1,this.offset=0):this.offset+=t,typeof e.delete=="number")return{delete:t};{const i={};return e.attributes&&(i.attributes=e.attributes),typeof e.retain=="number"?i.retain=t:typeof e.retain=="object"&&e.retain!==null?i.retain=e.retain:typeof e.insert=="string"?i.insert=e.insert.substr(r,t):i.insert=e.insert,i}}else return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?Yo.default.length(this.ops[this.index])-this.offset:1/0}peekType(){const t=this.ops[this.index];return t?typeof t.delete=="number"?"delete":typeof t.retain=="number"||typeof t.retain=="object"&&t.retain!==null?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);{const t=this.offset,e=this.index,r=this.next(),s=this.ops.slice(this.index);return this.offset=t,this.index=e,[r].concat(s)}}else return[]}}no.default=ep;(function(n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.AttributeMap=t.OpIterator=t.Op=void 0;const e=Jd,r=sl,s=il,i=ro;t.AttributeMap=i.default;const o=as;t.Op=o.default;const a=no;t.OpIterator=a.default;const c="\0",u=(d,f)=>{if(typeof d!="object"||d===null)throw new Error(`cannot retain a ${typeof d}`);if(typeof f!="object"||f===null)throw new Error(`cannot retain a ${typeof f}`);const p=Object.keys(d)[0];if(!p||p!==Object.keys(f)[0])throw new Error(`embed types not matched: ${p} != ${Object.keys(f)[0]}`);return[p,d[p],f[p]]};class h{constructor(f){Array.isArray(f)?this.ops=f:f!=null&&Array.isArray(f.ops)?this.ops=f.ops:this.ops=[]}static registerEmbed(f,p){this.handlers[f]=p}static unregisterEmbed(f){delete this.handlers[f]}static getHandler(f){const p=this.handlers[f];if(!p)throw new Error(`no handlers for embed type "${f}"`);return p}insert(f,p){const g={};return typeof f=="string"&&f.length===0?this:(g.insert=f,p!=null&&typeof p=="object"&&Object.keys(p).length>0&&(g.attributes=p),this.push(g))}delete(f){return f<=0?this:this.push({delete:f})}retain(f,p){if(typeof f=="number"&&f<=0)return this;const g={retain:f};return p!=null&&typeof p=="object"&&Object.keys(p).length>0&&(g.attributes=p),this.push(g)}push(f){let p=this.ops.length,g=this.ops[p-1];if(f=r(f),typeof g=="object"){if(typeof f.delete=="number"&&typeof g.delete=="number")return this.ops[p-1]={delete:g.delete+f.delete},this;if(typeof g.delete=="number"&&f.insert!=null&&(p-=1,g=this.ops[p-1],typeof g!="object"))return this.ops.unshift(f),this;if(s(f.attributes,g.attributes)){if(typeof f.insert=="string"&&typeof g.insert=="string")return this.ops[p-1]={insert:g.insert+f.insert},typeof f.attributes=="object"&&(this.ops[p-1].attributes=f.attributes),this;if(typeof f.retain=="number"&&typeof g.retain=="number")return this.ops[p-1]={retain:g.retain+f.retain},typeof f.attributes=="object"&&(this.ops[p-1].attributes=f.attributes),this}}return p===this.ops.length?this.ops.push(f):this.ops.splice(p,0,f),this}chop(){const f=this.ops[this.ops.length-1];return f&&typeof f.retain=="number"&&!f.attributes&&this.ops.pop(),this}filter(f){return this.ops.filter(f)}forEach(f){this.ops.forEach(f)}map(f){return this.ops.map(f)}partition(f){const p=[],g=[];return this.forEach(E=>{(f(E)?p:g).push(E)}),[p,g]}reduce(f,p){return this.ops.reduce(f,p)}changeLength(){return this.reduce((f,p)=>p.insert?f+o.default.length(p):p.delete?f-p.delete:f,0)}length(){return this.reduce((f,p)=>f+o.default.length(p),0)}slice(f=0,p=1/0){const g=[],E=new a.default(this.ops);let v=0;for(;v<p&&E.hasNext();){let x;v<f?x=E.next(f-v):(x=E.next(p-v),g.push(x)),v+=o.default.length(x)}return new h(g)}compose(f){const p=new a.default(this.ops),g=new a.default(f.ops),E=[],v=g.peek();if(v!=null&&typeof v.retain=="number"&&v.attributes==null){let w=v.retain;for(;p.peekType()==="insert"&&p.peekLength()<=w;)w-=p.peekLength(),E.push(p.next());v.retain-w>0&&g.next(v.retain-w)}const x=new h(E);for(;p.hasNext()||g.hasNext();)if(g.peekType()==="insert")x.push(g.next());else if(p.peekType()==="delete")x.push(p.next());else{const w=Math.min(p.peekLength(),g.peekLength()),A=p.next(w),m=g.next(w);if(m.retain){const _={};if(typeof A.retain=="number")_.retain=typeof m.retain=="number"?w:m.retain;else if(typeof m.retain=="number")A.retain==null?_.insert=A.insert:_.retain=A.retain;else{const S=A.retain==null?"insert":"retain",[N,B,Z]=u(A[S],m.retain),I=h.getHandler(N);_[S]={[N]:I.compose(B,Z,S==="retain")}}const b=i.default.compose(A.attributes,m.attributes,typeof A.retain=="number");if(b&&(_.attributes=b),x.push(_),!g.hasNext()&&s(x.ops[x.ops.length-1],_)){const S=new h(p.rest());return x.concat(S).chop()}}else typeof m.delete=="number"&&(typeof A.retain=="number"||typeof A.retain=="object"&&A.retain!==null)&&x.push(m)}return x.chop()}concat(f){const p=new h(this.ops.slice());return f.ops.length>0&&(p.push(f.ops[0]),p.ops=p.ops.concat(f.ops.slice(1))),p}diff(f,p){if(this.ops===f.ops)return new h;const g=[this,f].map(A=>A.map(m=>{if(m.insert!=null)return typeof m.insert=="string"?m.insert:c;const _=A===f?"on":"with";throw new Error("diff() called "+_+" non-document")}).join("")),E=new h,v=e(g[0],g[1],p,!0),x=new a.default(this.ops),w=new a.default(f.ops);return v.forEach(A=>{let m=A[1].length;for(;m>0;){let _=0;switch(A[0]){case e.INSERT:_=Math.min(w.peekLength(),m),E.push(w.next(_));break;case e.DELETE:_=Math.min(m,x.peekLength()),x.next(_),E.delete(_);break;case e.EQUAL:_=Math.min(x.peekLength(),w.peekLength(),m);const b=x.next(_),S=w.next(_);s(b.insert,S.insert)?E.retain(_,i.default.diff(b.attributes,S.attributes)):E.push(S).delete(_);break}m-=_}}),E.chop()}eachLine(f,p=`
`){const g=new a.default(this.ops);let E=new h,v=0;for(;g.hasNext();){if(g.peekType()!=="insert")return;const x=g.peek(),w=o.default.length(x)-g.peekLength(),A=typeof x.insert=="string"?x.insert.indexOf(p,w)-w:-1;if(A<0)E.push(g.next());else if(A>0)E.push(g.next(A));else{if(f(E,g.next(1).attributes||{},v)===!1)return;v+=1,E=new h}}E.length()>0&&f(E,{},v)}invert(f){const p=new h;return this.reduce((g,E)=>{if(E.insert)p.delete(o.default.length(E));else{if(typeof E.retain=="number"&&E.attributes==null)return p.retain(E.retain),g+E.retain;if(E.delete||typeof E.retain=="number"){const v=E.delete||E.retain;return f.slice(g,g+v).forEach(w=>{E.delete?p.push(w):E.retain&&E.attributes&&p.retain(o.default.length(w),i.default.invert(E.attributes,w.attributes))}),g+v}else if(typeof E.retain=="object"&&E.retain!==null){const v=f.slice(g,g+1),x=new a.default(v.ops).next(),[w,A,m]=u(E.retain,x.insert),_=h.getHandler(w);return p.retain({[w]:_.invert(A,m)},i.default.invert(E.attributes,x.attributes)),g+1}}return g},0),p.chop()}transform(f,p=!1){if(p=!!p,typeof f=="number")return this.transformPosition(f,p);const g=f,E=new a.default(this.ops),v=new a.default(g.ops),x=new h;for(;E.hasNext()||v.hasNext();)if(E.peekType()==="insert"&&(p||v.peekType()!=="insert"))x.retain(o.default.length(E.next()));else if(v.peekType()==="insert")x.push(v.next());else{const w=Math.min(E.peekLength(),v.peekLength()),A=E.next(w),m=v.next(w);if(A.delete)continue;if(m.delete)x.push(m);else{const _=A.retain,b=m.retain;let S=typeof b=="object"&&b!==null?b:w;if(typeof _=="object"&&_!==null&&typeof b=="object"&&b!==null){const N=Object.keys(_)[0];if(N===Object.keys(b)[0]){const B=h.getHandler(N);B&&(S={[N]:B.transform(_[N],b[N],p)})}}x.retain(S,i.default.transform(A.attributes,m.attributes,p))}}return x.chop()}transformPosition(f,p=!1){p=!!p;const g=new a.default(this.ops);let E=0;for(;g.hasNext()&&E<=f;){const v=g.peekLength(),x=g.peekType();if(g.next(),x==="delete"){f-=Math.min(v,f-E);continue}else x==="insert"&&(E<f||!p)&&(f+=v);E+=v}return f}}h.Op=o.default,h.OpIterator=a.default,h.AttributeMap=i.default,h.handlers={},t.default=h,n.exports=h,n.exports.default=h})(Ai,Ai.exports);var Xt=Ai.exports;const K=Qi(Xt);class le extends zt{static value(){}optimize(){(this.prev||this.next)&&this.remove()}length(){return 0}value(){return""}}le.blotName="break";le.tagName="BR";let oe=class extends Xn{};function ls(n){return n.replace(/[&<>"']/g,t=>({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"})[t])}const pe=class pe extends Yi{static compare(t,e){const r=pe.order.indexOf(t),s=pe.order.indexOf(e);return r>=0||s>=0?r-s:t===e?0:t<e?-1:1}formatAt(t,e,r,s){if(pe.compare(this.statics.blotName,r)<0&&this.scroll.query(r,X.BLOT)){const i=this.isolate(t,e);s&&i.wrap(r,s)}else super.formatAt(t,e,r,s)}optimize(t){if(super.optimize(t),this.parent instanceof pe&&pe.compare(this.statics.blotName,this.parent.statics.blotName)>0){const e=this.parent.isolate(this.offset(),this.length());this.moveChildren(e),e.wrap(this)}}};U(pe,"allowedChildren",[pe,le,zt,oe]),U(pe,"order",["cursor","inline","link","underline","strike","italic","bold","script","code"]);let ve=pe;const Jo=1;class Lt extends nn{constructor(){super(...arguments);U(this,"cache",{})}delta(){return this.cache.delta==null&&(this.cache.delta=ol(this)),this.cache.delta}deleteAt(e,r){super.deleteAt(e,r),this.cache={}}formatAt(e,r,s,i){r<=0||(this.scroll.query(s,X.BLOCK)?e+r===this.length()&&this.format(s,i):super.formatAt(e,Math.min(r,this.length()-e-1),s,i),this.cache={})}insertAt(e,r,s){if(s!=null){super.insertAt(e,r,s),this.cache={};return}if(r.length===0)return;const i=r.split(`
`),o=i.shift();o.length>0&&(e<this.length()-1||this.children.tail==null?super.insertAt(Math.min(e,this.length()-1),o):this.children.tail.insertAt(this.children.tail.length(),o),this.cache={});let a=this;i.reduce((c,u)=>(a=a.split(c,!0),a.insertAt(0,u),u.length),e+o.length)}insertBefore(e,r){const{head:s}=this.children;super.insertBefore(e,r),s instanceof le&&s.remove(),this.cache={}}length(){return this.cache.length==null&&(this.cache.length=super.length()+Jo),this.cache.length}moveChildren(e,r){super.moveChildren(e,r),this.cache={}}optimize(e){super.optimize(e),this.cache={}}path(e){return super.path(e,!0)}removeChild(e){super.removeChild(e),this.cache={}}split(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(r&&(e===0||e>=this.length()-Jo)){const i=this.clone();return e===0?(this.parent.insertBefore(i,this),this):(this.parent.insertBefore(i,this.next),i)}const s=super.split(e,r);return this.cache={},s}}Lt.blotName="block";Lt.tagName="P";Lt.defaultChild=le;Lt.allowedChildren=[le,ve,zt,oe];class Zt extends zt{attach(){super.attach(),this.attributes=new ns(this.domNode)}delta(){return new K().insert(this.value(),{...this.formats(),...this.attributes.values()})}format(t,e){const r=this.scroll.query(t,X.BLOCK_ATTRIBUTE);r!=null&&this.attributes.attribute(r,e)}formatAt(t,e,r,s){this.format(r,s)}insertAt(t,e,r){if(r!=null){super.insertAt(t,e,r);return}const s=e.split(`
`),i=s.pop(),o=s.map(c=>{const u=this.scroll.create(Lt.blotName);return u.insertAt(0,c),u}),a=this.split(t);o.forEach(c=>{this.parent.insertBefore(c,a)}),i&&this.parent.insertBefore(this.scroll.create("text",i),a)}}Zt.scope=X.BLOCK_BLOT;function ol(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n.descendants(Pt).reduce((e,r)=>r.length()===0?e:e.insert(r.value(),Kt(r,{},t)),new K).insert(`
`,Kt(n))}function Kt(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return n==null||("formats"in n&&typeof n.formats=="function"&&(t={...t,...n.formats()},e&&delete t["code-token"]),n.parent==null||n.parent.statics.blotName==="scroll"||n.parent.statics.scope!==n.statics.scope)?t:Kt(n.parent,t,e)}const Gt=class Gt extends zt{static value(){}constructor(t,e,r){super(t,e),this.selection=r,this.textNode=document.createTextNode(Gt.CONTENTS),this.domNode.appendChild(this.textNode),this.savedLength=0}detach(){this.parent!=null&&this.parent.removeChild(this)}format(t,e){if(this.savedLength!==0){super.format(t,e);return}let r=this,s=0;for(;r!=null&&r.statics.scope!==X.BLOCK_BLOT;)s+=r.offset(r.parent),r=r.parent;r!=null&&(this.savedLength=Gt.CONTENTS.length,r.optimize(),r.formatAt(s,Gt.CONTENTS.length,t,e),this.savedLength=0)}index(t,e){return t===this.textNode?0:super.index(t,e)}length(){return this.savedLength}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove(),this.parent=null}restore(){if(this.selection.composing||this.parent==null)return null;const t=this.selection.getNativeRange();for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);const e=this.prev instanceof oe?this.prev:null,r=e?e.length():0,s=this.next instanceof oe?this.next:null,i=s?s.text:"",{textNode:o}=this,a=o.data.split(Gt.CONTENTS).join("");o.data=Gt.CONTENTS;let c;if(e)c=e,(a||s)&&(e.insertAt(e.length(),a+i),s&&s.remove());else if(s)c=s,s.insertAt(0,a);else{const u=document.createTextNode(a);c=this.scroll.create(u),this.parent.insertBefore(c,this)}if(this.remove(),t){const u=(f,p)=>e&&f===e.domNode?p:f===o?r+p-1:s&&f===s.domNode?r+a.length+p:null,h=u(t.start.node,t.start.offset),d=u(t.end.node,t.end.offset);if(h!==null&&d!==null)return{startNode:c.domNode,startOffset:h,endNode:c.domNode,endOffset:d}}return null}update(t,e){if(t.some(r=>r.type==="characterData"&&r.target===this.textNode)){const r=this.restore();r&&(e.range=r)}}optimize(t){super.optimize(t);let{parent:e}=this;for(;e;){if(e.domNode.tagName==="A"){this.savedLength=Gt.CONTENTS.length,e.isolate(this.offset(e),this.length()).unwrap(),this.savedLength=0;break}e=e.parent}}value(){return""}};U(Gt,"blotName","cursor"),U(Gt,"className","ql-cursor"),U(Gt,"tagName","span"),U(Gt,"CONTENTS","\uFEFF");let Or=Gt;var al={exports:{}};(function(n){var t=Object.prototype.hasOwnProperty,e="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(e=!1));function s(c,u,h){this.fn=c,this.context=u,this.once=h||!1}function i(c,u,h,d,f){if(typeof h!="function")throw new TypeError("The listener must be a function");var p=new s(h,d||c,f),g=e?e+u:u;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],p]:c._events[g].push(p):(c._events[g]=p,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new r:delete c._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],h,d;if(this._eventsCount===0)return u;for(d in h=this._events)t.call(h,d)&&u.push(e?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(h)):u},a.prototype.listeners=function(u){var h=e?e+u:u,d=this._events[h];if(!d)return[];if(d.fn)return[d.fn];for(var f=0,p=d.length,g=new Array(p);f<p;f++)g[f]=d[f].fn;return g},a.prototype.listenerCount=function(u){var h=e?e+u:u,d=this._events[h];return d?d.fn?1:d.length:0},a.prototype.emit=function(u,h,d,f,p,g){var E=e?e+u:u;if(!this._events[E])return!1;var v=this._events[E],x=arguments.length,w,A;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),x){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,h),!0;case 3:return v.fn.call(v.context,h,d),!0;case 4:return v.fn.call(v.context,h,d,f),!0;case 5:return v.fn.call(v.context,h,d,f,p),!0;case 6:return v.fn.call(v.context,h,d,f,p,g),!0}for(A=1,w=new Array(x-1);A<x;A++)w[A-1]=arguments[A];v.fn.apply(v.context,w)}else{var m=v.length,_;for(A=0;A<m;A++)switch(v[A].once&&this.removeListener(u,v[A].fn,void 0,!0),x){case 1:v[A].fn.call(v[A].context);break;case 2:v[A].fn.call(v[A].context,h);break;case 3:v[A].fn.call(v[A].context,h,d);break;case 4:v[A].fn.call(v[A].context,h,d,f);break;default:if(!w)for(_=1,w=new Array(x-1);_<x;_++)w[_-1]=arguments[_];v[A].fn.apply(v[A].context,w)}}return!0},a.prototype.on=function(u,h,d){return i(this,u,h,d,!1)},a.prototype.once=function(u,h,d){return i(this,u,h,d,!0)},a.prototype.removeListener=function(u,h,d,f){var p=e?e+u:u;if(!this._events[p])return this;if(!h)return o(this,p),this;var g=this._events[p];if(g.fn)g.fn===h&&(!f||g.once)&&(!d||g.context===d)&&o(this,p);else{for(var E=0,v=[],x=g.length;E<x;E++)(g[E].fn!==h||f&&!g[E].once||d&&g[E].context!==d)&&v.push(g[E]);v.length?this._events[p]=v.length===1?v[0]:v:o(this,p)}return this},a.prototype.removeAllListeners=function(u){var h;return u?(h=e?e+u:u,this._events[h]&&o(this,h)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=e,a.EventEmitter=a,n.exports=a})(al);var rp=al.exports;const np=Qi(rp),Ni=new WeakMap,Ti=["error","warn","log","info"];let Oi="warn";function ll(n){if(Oi&&Ti.indexOf(n)<=Ti.indexOf(Oi)){for(var t=arguments.length,e=new Array(t>1?t-1:0),r=1;r<t;r++)e[r-1]=arguments[r];console[n](...e)}}function Ce(n){return Ti.reduce((t,e)=>(t[e]=ll.bind(console,e,n),t),{})}Ce.level=n=>{Oi=n};ll.level=Ce.level;const ei=Ce("quill:events"),sp=["selectionchange","mousedown","mouseup","click"];sp.forEach(n=>{document.addEventListener(n,function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];Array.from(document.querySelectorAll(".ql-container")).forEach(s=>{const i=Ni.get(s);i&&i.emitter&&i.emitter.handleDOM(...e)})})});class V extends np{constructor(){super(),this.domListeners={},this.on("error",ei.error)}emit(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return ei.log.call(ei,...e),super.emit(...e)}handleDOM(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),s=1;s<e;s++)r[s-1]=arguments[s];(this.domListeners[t.type]||[]).forEach(i=>{let{node:o,handler:a}=i;(t.target===o||o.contains(t.target))&&a(t,...r)})}listenDOM(t,e,r){this.domListeners[t]||(this.domListeners[t]=[]),this.domListeners[t].push({node:e,handler:r})}}U(V,"events",{EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SCROLL_EMBED_UPDATE:"scroll-embed-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"}),U(V,"sources",{API:"api",SILENT:"silent",USER:"user"});const ri=Ce("quill:selection");class Ye{constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.index=t,this.length=e}}class ip{constructor(t,e){this.emitter=e,this.scroll=t,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new Ye(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,()=>{!this.mouseDown&&!this.composing&&setTimeout(this.update.bind(this,V.sources.USER),1)}),this.emitter.on(V.events.SCROLL_BEFORE_UPDATE,()=>{if(!this.hasFocus())return;const r=this.getNativeRange();r!=null&&r.start.node!==this.cursor.textNode&&this.emitter.once(V.events.SCROLL_UPDATE,(s,i)=>{try{this.root.contains(r.start.node)&&this.root.contains(r.end.node)&&this.setNativeRange(r.start.node,r.start.offset,r.end.node,r.end.offset);const o=i.some(a=>a.type==="characterData"||a.type==="childList"||a.type==="attributes"&&a.target===this.root);this.update(o?V.sources.SILENT:s)}catch{}})}),this.emitter.on(V.events.SCROLL_OPTIMIZE,(r,s)=>{if(s.range){const{startNode:i,startOffset:o,endNode:a,endOffset:c}=s.range;this.setNativeRange(i,o,a,c),this.update(V.sources.SILENT)}}),this.update(V.sources.SILENT)}handleComposition(){this.emitter.on(V.events.COMPOSITION_BEFORE_START,()=>{this.composing=!0}),this.emitter.on(V.events.COMPOSITION_END,()=>{if(this.composing=!1,this.cursor.parent){const t=this.cursor.restore();if(!t)return;setTimeout(()=>{this.setNativeRange(t.startNode,t.startOffset,t.endNode,t.endOffset)},1)}})}handleDragging(){this.emitter.listenDOM("mousedown",document.body,()=>{this.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,()=>{this.mouseDown=!1,this.update(V.sources.USER)})}focus(){this.hasFocus()||(this.root.focus({preventScroll:!0}),this.setRange(this.savedRange))}format(t,e){this.scroll.update();const r=this.getNativeRange();if(!(r==null||!r.native.collapsed||this.scroll.query(t,X.BLOCK))){if(r.start.node!==this.cursor.textNode){const s=this.scroll.find(r.start.node,!1);if(s==null)return;if(s instanceof Pt){const i=s.split(r.start.offset);s.parent.insertBefore(this.cursor,i)}else s.insertBefore(this.cursor,r.start.node);this.cursor.attach()}this.cursor.format(t,e),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}getBounds(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const r=this.scroll.length();t=Math.min(t,r-1),e=Math.min(t+e,r-1)-t;let s,[i,o]=this.scroll.leaf(t);if(i==null)return null;if(e>0&&o===i.length()){const[h]=this.scroll.leaf(t+1);if(h){const[d]=this.scroll.line(t),[f]=this.scroll.line(t+1);d===f&&(i=h,o=0)}}[s,o]=i.position(o,!0);const a=document.createRange();if(e>0)return a.setStart(s,o),[i,o]=this.scroll.leaf(t+e),i==null?null:([s,o]=i.position(o,!0),a.setEnd(s,o),a.getBoundingClientRect());let c="left",u;if(s instanceof Text){if(!s.data.length)return null;o<s.data.length?(a.setStart(s,o),a.setEnd(s,o+1)):(a.setStart(s,o-1),a.setEnd(s,o),c="right"),u=a.getBoundingClientRect()}else{if(!(i.domNode instanceof Element))return null;u=i.domNode.getBoundingClientRect(),o>0&&(c="right")}return{bottom:u.top+u.height,height:u.height,left:u[c],right:u[c],top:u.top,width:0}}getNativeRange(){const t=document.getSelection();if(t==null||t.rangeCount<=0)return null;const e=t.getRangeAt(0);if(e==null)return null;const r=this.normalizeNative(e);return ri.info("getNativeRange",r),r}getRange(){const t=this.scroll.domNode;if("isConnected"in t&&!t.isConnected)return[null,null];const e=this.getNativeRange();return e==null?[null,null]:[this.normalizedToRange(e),e]}hasFocus(){return document.activeElement===this.root||document.activeElement!=null&&ni(this.root,document.activeElement)}normalizedToRange(t){const e=[[t.start.node,t.start.offset]];t.native.collapsed||e.push([t.end.node,t.end.offset]);const r=e.map(o=>{const[a,c]=o,u=this.scroll.find(a,!0),h=u.offset(this.scroll);return c===0?h:u instanceof Pt?h+u.index(a,c):h+u.length()}),s=Math.min(Math.max(...r),this.scroll.length()-1),i=Math.min(s,...r);return new Ye(i,s-i)}normalizeNative(t){if(!ni(this.root,t.startContainer)||!t.collapsed&&!ni(this.root,t.endContainer))return null;const e={start:{node:t.startContainer,offset:t.startOffset},end:{node:t.endContainer,offset:t.endOffset},native:t};return[e.start,e.end].forEach(r=>{let{node:s,offset:i}=r;for(;!(s instanceof Text)&&s.childNodes.length>0;)if(s.childNodes.length>i)s=s.childNodes[i],i=0;else if(s.childNodes.length===i)s=s.lastChild,s instanceof Text?i=s.data.length:s.childNodes.length>0?i=s.childNodes.length:i=s.childNodes.length+1;else break;r.node=s,r.offset=i}),e}rangeToNative(t){const e=this.scroll.length(),r=(s,i)=>{s=Math.min(e-1,s);const[o,a]=this.scroll.leaf(s);return o?o.position(a,i):[null,-1]};return[...r(t.index,!1),...r(t.index+t.length,!0)]}setNativeRange(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:e,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(ri.info("setNativeRange",t,e,r,s),t!=null&&(this.root.parentNode==null||t.parentNode==null||r.parentNode==null))return;const o=document.getSelection();if(o!=null)if(t!=null){this.hasFocus()||this.root.focus({preventScroll:!0});const{native:a}=this.getNativeRange()||{};if(a==null||i||t!==a.startContainer||e!==a.startOffset||r!==a.endContainer||s!==a.endOffset){t instanceof Element&&t.tagName==="BR"&&(e=Array.from(t.parentNode.childNodes).indexOf(t),t=t.parentNode),r instanceof Element&&r.tagName==="BR"&&(s=Array.from(r.parentNode.childNodes).indexOf(r),r=r.parentNode);const c=document.createRange();c.setStart(t,e),c.setEnd(r,s),o.removeAllRanges(),o.addRange(c)}}else o.removeAllRanges(),this.root.blur()}setRange(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:V.sources.API;if(typeof e=="string"&&(r=e,e=!1),ri.info("setRange",t),t!=null){const s=this.rangeToNative(t);this.setNativeRange(...s,e)}else this.setNativeRange(null);this.update(r)}update(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:V.sources.USER;const e=this.lastRange,[r,s]=this.getRange();if(this.lastRange=r,this.lastNative=s,this.lastRange!=null&&(this.savedRange=this.lastRange),!Xi(e,this.lastRange)){if(!this.composing&&s!=null&&s.native.collapsed&&s.start.node!==this.cursor.textNode){const o=this.cursor.restore();o&&this.setNativeRange(o.startNode,o.startOffset,o.endNode,o.endOffset)}const i=[V.events.SELECTION_CHANGE,Ar(this.lastRange),Ar(e),t];this.emitter.emit(V.events.EDITOR_CHANGE,...i),t!==V.sources.SILENT&&this.emitter.emit(...i)}}}function ni(n,t){try{t.parentNode}catch{return!1}return n.contains(t)}const op=/^[ -~]*$/;class ap{constructor(t){this.scroll=t,this.delta=this.getDelta()}applyDelta(t){this.scroll.update();let e=this.scroll.length();this.scroll.batchStart();const r=Qo(t),s=new K;return cp(r.ops.slice()).reduce((o,a)=>{const c=Xt.Op.length(a);let u=a.attributes||{},h=!1,d=!1;if(a.insert!=null){if(s.retain(c),typeof a.insert=="string"){const g=a.insert;d=!g.endsWith(`
`)&&(e<=o||!!this.scroll.descendant(Zt,o)[0]),this.scroll.insertAt(o,g);const[E,v]=this.scroll.line(o);let x=$e({},Kt(E));if(E instanceof Lt){const[w]=E.descendant(Pt,v);w&&(x=$e(x,Kt(w)))}u=Xt.AttributeMap.diff(x,u)||{}}else if(typeof a.insert=="object"){const g=Object.keys(a.insert)[0];if(g==null)return o;const E=this.scroll.query(g,X.INLINE)!=null;if(E)(e<=o||this.scroll.descendant(Zt,o)[0])&&(d=!0);else if(o>0){const[v,x]=this.scroll.descendant(Pt,o-1);v instanceof oe?v.value()[x]!==`
`&&(h=!0):v instanceof zt&&v.statics.scope===X.INLINE_BLOT&&(h=!0)}if(this.scroll.insertAt(o,g,a.insert[g]),E){const[v]=this.scroll.descendant(Pt,o);if(v){const x=$e({},Kt(v));u=Xt.AttributeMap.diff(x,u)||{}}}}e+=c}else if(s.push(a),a.retain!==null&&typeof a.retain=="object"){const g=Object.keys(a.retain)[0];if(g==null)return o;this.scroll.updateEmbedAt(o,g,a.retain[g])}Object.keys(u).forEach(g=>{this.scroll.formatAt(o,c,g,u[g])});const f=h?1:0,p=d?1:0;return e+=f+p,s.retain(f),s.delete(p),o+c+f+p},0),s.reduce((o,a)=>typeof a.delete=="number"?(this.scroll.deleteAt(o,a.delete),o):o+Xt.Op.length(a),0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(r)}deleteText(t,e){return this.scroll.deleteAt(t,e),this.update(new K().retain(t).delete(e))}formatLine(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.scroll.update(),Object.keys(r).forEach(i=>{this.scroll.lines(t,Math.max(e,1)).forEach(o=>{o.format(i,r[i])})}),this.scroll.optimize();const s=new K().retain(t).retain(e,Ar(r));return this.update(s)}formatText(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.keys(r).forEach(i=>{this.scroll.formatAt(t,e,i,r[i])});const s=new K().retain(t).retain(e,Ar(r));return this.update(s)}getContents(t,e){return this.delta.slice(t,t+e)}getDelta(){return this.scroll.lines().reduce((t,e)=>t.concat(e.delta()),new K)}getFormat(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=[],s=[];e===0?this.scroll.path(t).forEach(a=>{const[c]=a;c instanceof Lt?r.push(c):c instanceof Pt&&s.push(c)}):(r=this.scroll.lines(t,e),s=this.scroll.descendants(Pt,t,e));const[i,o]=[r,s].map(a=>{const c=a.shift();if(c==null)return{};let u=Kt(c);for(;Object.keys(u).length>0;){const h=a.shift();if(h==null)return u;u=lp(Kt(h),u)}return u});return{...i,...o}}getHTML(t,e){const[r,s]=this.scroll.line(t);if(r){const i=r.length();return r.length()>=s+e&&!(s===0&&e===i)?on(r,s,e,!0):on(this.scroll,t,e,!0)}return""}getText(t,e){return this.getContents(t,e).filter(r=>typeof r.insert=="string").map(r=>r.insert).join("")}insertContents(t,e){const r=Qo(e),s=new K().retain(t).concat(r);return this.scroll.insertContents(t,r),this.update(s)}insertEmbed(t,e,r){return this.scroll.insertAt(t,e,r),this.update(new K().retain(t).insert({[e]:r}))}insertText(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return e=e.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(t,e),Object.keys(r).forEach(s=>{this.scroll.formatAt(t,e.length,s,r[s])}),this.update(new K().retain(t).insert(e,Ar(r)))}isBlank(){if(this.scroll.children.length===0)return!0;if(this.scroll.children.length>1)return!1;const t=this.scroll.children.head;if((t==null?void 0:t.statics.blotName)!==Lt.blotName)return!1;const e=t;return e.children.length>1?!1:e.children.head instanceof le}removeFormat(t,e){const r=this.getText(t,e),[s,i]=this.scroll.line(t+e);let o=0,a=new K;s!=null&&(o=s.length()-i,a=s.delta().slice(i,i+o-1).insert(`
`));const u=this.getContents(t,e+o).diff(new K().insert(r).concat(a)),h=new K().retain(t).concat(u);return this.applyDelta(h)}update(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;const s=this.delta;if(e.length===1&&e[0].type==="characterData"&&e[0].target.data.match(op)&&this.scroll.find(e[0].target)){const i=this.scroll.find(e[0].target),o=Kt(i),a=i.offset(this.scroll),c=e[0].oldValue.replace(Or.CONTENTS,""),u=new K().insert(c),h=new K().insert(i.value()),d=r&&{oldRange:ta(r.oldRange,-a),newRange:ta(r.newRange,-a)};t=new K().retain(a).concat(u.diff(h,d)).reduce((p,g)=>g.insert?p.insert(g.insert,o):p.push(g),new K),this.delta=s.compose(t)}else this.delta=this.getDelta(),(!t||!Xi(s.compose(t),this.delta))&&(t=s.diff(this.delta,r));return t}}function wr(n,t,e){if(n.length===0){const[p]=si(e.pop());return t<=0?`</li></${p}>`:`</li></${p}>${wr([],t-1,e)}`}const[{child:r,offset:s,length:i,indent:o,type:a},...c]=n,[u,h]=si(a);if(o>t)return e.push(a),o===t+1?`<${u}><li${h}>${on(r,s,i)}${wr(c,o,e)}`:`<${u}><li>${wr(n,t+1,e)}`;const d=e[e.length-1];if(o===t&&a===d)return`</li><li${h}>${on(r,s,i)}${wr(c,o,e)}`;const[f]=si(e.pop());return`</li></${f}>${wr(n,t-1,e)}`}function on(n,t,e){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if("html"in n&&typeof n.html=="function")return n.html(t,e);if(n instanceof oe)return ls(n.value().slice(t,t+e));if(n instanceof ie){if(n.statics.blotName==="list-container"){const u=[];return n.children.forEachAt(t,e,(h,d,f)=>{const p="formats"in h&&typeof h.formats=="function"?h.formats():{};u.push({child:h,offset:d,length:f,indent:p.indent||0,type:p.list})}),wr(u,-1,[])}const s=[];if(n.children.forEachAt(t,e,(u,h,d)=>{s.push(on(u,h,d))}),r||n.statics.blotName==="list")return s.join("");const{outerHTML:i,innerHTML:o}=n.domNode,[a,c]=i.split(`>${o}<`);return a==="<table"?`<table style="border: 1px solid #000;">${s.join("")}<${c}`:`${a}>${s.join("")}<${c}`}return n.domNode instanceof Element?n.domNode.outerHTML:""}function lp(n,t){return Object.keys(t).reduce((e,r)=>{if(n[r]==null)return e;const s=t[r];return s===n[r]?e[r]=s:Array.isArray(s)?s.indexOf(n[r])<0?e[r]=s.concat([n[r]]):e[r]=s:e[r]=[s,n[r]],e},{})}function si(n){const t=n==="ordered"?"ol":"ul";switch(n){case"checked":return[t,' data-list="checked"'];case"unchecked":return[t,' data-list="unchecked"'];default:return[t,""]}}function Qo(n){return n.reduce((t,e)=>{if(typeof e.insert=="string"){const r=e.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return t.insert(r,e.attributes)}return t.push(e)},new K)}function ta(n,t){let{index:e,length:r}=n;return new Ye(e+t,r)}function cp(n){const t=[];return n.forEach(e=>{typeof e.insert=="string"?e.insert.split(`
`).forEach((s,i)=>{i&&t.push({insert:`
`,attributes:e.attributes}),s&&t.push({insert:s,attributes:e.attributes})}):t.push(e)}),t}class ce{constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.quill=t,this.options=e}}U(ce,"DEFAULTS",{});const Pn="\uFEFF";class so extends zt{constructor(t,e){super(t,e),this.contentNode=document.createElement("span"),this.contentNode.setAttribute("contenteditable","false"),Array.from(this.domNode.childNodes).forEach(r=>{this.contentNode.appendChild(r)}),this.leftGuard=document.createTextNode(Pn),this.rightGuard=document.createTextNode(Pn),this.domNode.appendChild(this.leftGuard),this.domNode.appendChild(this.contentNode),this.domNode.appendChild(this.rightGuard)}index(t,e){return t===this.leftGuard?0:t===this.rightGuard?1:super.index(t,e)}restore(t){let e=null,r;const s=t.data.split(Pn).join("");if(t===this.leftGuard)if(this.prev instanceof oe){const i=this.prev.length();this.prev.insertAt(i,s),e={startNode:this.prev.domNode,startOffset:i+s.length}}else r=document.createTextNode(s),this.parent.insertBefore(this.scroll.create(r),this),e={startNode:r,startOffset:s.length};else t===this.rightGuard&&(this.next instanceof oe?(this.next.insertAt(0,s),e={startNode:this.next.domNode,startOffset:s.length}):(r=document.createTextNode(s),this.parent.insertBefore(this.scroll.create(r),this.next),e={startNode:r,startOffset:s.length}));return t.data=Pn,e}update(t,e){t.forEach(r=>{if(r.type==="characterData"&&(r.target===this.leftGuard||r.target===this.rightGuard)){const s=this.restore(r.target);s&&(e.range=s)}})}}class up{constructor(t,e){U(this,"isComposing",!1);this.scroll=t,this.emitter=e,this.setupListeners()}setupListeners(){this.scroll.domNode.addEventListener("compositionstart",t=>{this.isComposing||this.handleCompositionStart(t)}),this.scroll.domNode.addEventListener("compositionend",t=>{this.isComposing&&queueMicrotask(()=>{this.handleCompositionEnd(t)})})}handleCompositionStart(t){const e=t.target instanceof Node?this.scroll.find(t.target,!0):null;e&&!(e instanceof so)&&(this.emitter.emit(V.events.COMPOSITION_BEFORE_START,t),this.scroll.batchStart(),this.emitter.emit(V.events.COMPOSITION_START,t),this.isComposing=!0)}handleCompositionEnd(t){this.emitter.emit(V.events.COMPOSITION_BEFORE_END,t),this.scroll.batchEnd(),this.emitter.emit(V.events.COMPOSITION_END,t),this.isComposing=!1}}const Yr=class Yr{constructor(t,e){U(this,"modules",{});this.quill=t,this.options=e}init(){Object.keys(this.options.modules).forEach(t=>{this.modules[t]==null&&this.addModule(t)})}addModule(t){const e=this.quill.constructor.import(`modules/${t}`);return this.modules[t]=new e(this.quill,this.options.modules[t]||{}),this.modules[t]}};U(Yr,"DEFAULTS",{modules:{}}),U(Yr,"themes",{default:Yr});let Sr=Yr;const hp=n=>n.parentElement||n.getRootNode().host||null,fp=n=>{const t=n.getBoundingClientRect(),e="offsetWidth"in n&&Math.abs(t.width)/n.offsetWidth||1,r="offsetHeight"in n&&Math.abs(t.height)/n.offsetHeight||1;return{top:t.top,right:t.left+n.clientWidth*e,bottom:t.top+n.clientHeight*r,left:t.left}},Mn=n=>{const t=parseInt(n,10);return Number.isNaN(t)?0:t},ea=(n,t,e,r,s,i)=>n<e&&t>r?0:n<e?-(e-n+s):t>r?t-n>r-e?n+s-e:t-r+i:0,dp=(n,t)=>{var i,o,a;const e=n.ownerDocument;let r=t,s=n;for(;s;){const c=s===e.body,u=c?{top:0,right:((i=window.visualViewport)==null?void 0:i.width)??e.documentElement.clientWidth,bottom:((o=window.visualViewport)==null?void 0:o.height)??e.documentElement.clientHeight,left:0}:fp(s),h=getComputedStyle(s),d=ea(r.left,r.right,u.left,u.right,Mn(h.scrollPaddingLeft),Mn(h.scrollPaddingRight)),f=ea(r.top,r.bottom,u.top,u.bottom,Mn(h.scrollPaddingTop),Mn(h.scrollPaddingBottom));if(d||f)if(c)(a=e.defaultView)==null||a.scrollBy(d,f);else{const{scrollLeft:p,scrollTop:g}=s;f&&(s.scrollTop+=f),d&&(s.scrollLeft+=d);const E=s.scrollLeft-p,v=s.scrollTop-g;r={left:r.left-E,top:r.top-v,right:r.right-E,bottom:r.bottom-v}}s=c||h.position==="fixed"?null:hp(s)}},pp=100,gp=["block","break","cursor","inline","scroll","text"],mp=(n,t,e)=>{const r=new Tr;return gp.forEach(s=>{const i=t.query(s);i&&r.register(i)}),n.forEach(s=>{let i=t.query(s);i||e.error(`Cannot register "${s}" specified in "formats" config. Are you sure it was registered?`);let o=0;for(;i;)if(r.register(i),i="blotName"in i?i.requiredContainer??null:null,o+=1,o>pp){e.error(`Cycle detected in registering blot requiredContainer: "${s}"`);break}}),r},_r=Ce("quill"),$n=new Tr;ie.uiClass="ql-ui";const te=class te{static debug(t){t===!0&&(t="log"),Ce.level(t)}static find(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return Ni.get(t)||$n.find(t,e)}static import(t){return this.imports[t]==null&&_r.error(`Cannot import ${t}. Are you sure it was registered?`),this.imports[t]}static register(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof t!="string"){const s="attrName"in t?t.attrName:t.blotName;typeof s=="string"?this.register(`formats/${s}`,t,e):Object.keys(t).forEach(i=>{this.register(i,t[i],e)})}else this.imports[t]!=null&&!r&&_r.warn(`Overwriting ${t} with`,e),this.imports[t]=e,(t.startsWith("blots/")||t.startsWith("formats/"))&&e&&typeof e!="boolean"&&e.blotName!=="abstract"&&$n.register(e),typeof e.register=="function"&&e.register($n)}constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.options=yp(t,e),this.container=this.options.container,this.container==null){_r.error("Invalid Quill container",t);return}this.options.debug&&te.debug(this.options.debug);const r=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",Ni.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.emitter=new V;const s=Ji.blotName,i=this.options.registry.query(s);if(!i||!("blotName"in i))throw new Error(`Cannot initialize Quill without "${s}" blot`);if(this.scroll=new i(this.options.registry,this.root,{emitter:this.emitter}),this.editor=new ap(this.scroll),this.selection=new ip(this.scroll,this.emitter),this.composition=new up(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.addModule("input"),this.theme.addModule("uiNode"),this.theme.init(),this.emitter.on(V.events.EDITOR_CHANGE,o=>{o===V.events.TEXT_CHANGE&&this.root.classList.toggle("ql-blank",this.editor.isBlank())}),this.emitter.on(V.events.SCROLL_UPDATE,(o,a)=>{const c=this.selection.lastRange,[u]=this.selection.getRange(),h=c&&u?{oldRange:c,newRange:u}:void 0;Qt.call(this,()=>this.editor.update(null,a,h),o)}),this.emitter.on(V.events.SCROLL_EMBED_UPDATE,(o,a)=>{const c=this.selection.lastRange,[u]=this.selection.getRange(),h=c&&u?{oldRange:c,newRange:u}:void 0;Qt.call(this,()=>{const d=new K().retain(o.offset(this)).retain({[o.statics.blotName]:a});return this.editor.update(d,[],h)},te.sources.USER)}),r){const o=this.clipboard.convert({html:`${r}<p><br></p>`,text:`
`});this.setContents(o)}this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}addContainer(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof t=="string"){const r=t;t=document.createElement("div"),t.classList.add(r)}return this.container.insertBefore(t,e),t}blur(){this.selection.setRange(null)}deleteText(t,e,r){return[t,e,,r]=Ne(t,e,r),Qt.call(this,()=>this.editor.deleteText(t,e),r,t,-1*e)}disable(){this.enable(!1)}editReadOnly(t){this.allowReadOnlyEdits=!0;const e=t();return this.allowReadOnlyEdits=!1,e}enable(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(t),this.container.classList.toggle("ql-disabled",!t)}focus(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.selection.focus(),t.preventScroll||this.scrollSelectionIntoView()}format(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:V.sources.API;return Qt.call(this,()=>{const s=this.getSelection(!0);let i=new K;if(s==null)return i;if(this.scroll.query(t,X.BLOCK))i=this.editor.formatLine(s.index,s.length,{[t]:e});else{if(s.length===0)return this.selection.format(t,e),i;i=this.editor.formatText(s.index,s.length,{[t]:e})}return this.setSelection(s,V.sources.SILENT),i},r)}formatLine(t,e,r,s,i){let o;return[t,e,o,i]=Ne(t,e,r,s,i),Qt.call(this,()=>this.editor.formatLine(t,e,o),i,t,0)}formatText(t,e,r,s,i){let o;return[t,e,o,i]=Ne(t,e,r,s,i),Qt.call(this,()=>this.editor.formatText(t,e,o),i,t,0)}getBounds(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=null;if(typeof t=="number"?r=this.selection.getBounds(t,e):r=this.selection.getBounds(t.index,t.length),!r)return null;const s=this.container.getBoundingClientRect();return{bottom:r.bottom-s.top,height:r.height,left:r.left-s.left,right:r.right-s.left,top:r.top-s.top,width:r.width}}getContents(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-t;return[t,e]=Ne(t,e),this.editor.getContents(t,e)}getFormat(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof t=="number"?this.editor.getFormat(t,e):this.editor.getFormat(t.index,t.length)}getIndex(t){return t.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(t){return this.scroll.leaf(t)}getLine(t){return this.scroll.line(t)}getLines(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof t!="number"?this.scroll.lines(t.index,t.length):this.scroll.lines(t,e)}getModule(t){return this.theme.modules[t]}getSelection(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)&&this.focus(),this.update(),this.selection.getRange()[0]}getSemanticHTML(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0;return typeof t=="number"&&(e=e??this.getLength()-t),[t,e]=Ne(t,e),this.editor.getHTML(t,e)}getText(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0;return typeof t=="number"&&(e=e??this.getLength()-t),[t,e]=Ne(t,e),this.editor.getText(t,e)}hasFocus(){return this.selection.hasFocus()}insertEmbed(t,e,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:te.sources.API;return Qt.call(this,()=>this.editor.insertEmbed(t,e,r),s,t)}insertText(t,e,r,s,i){let o;return[t,,o,i]=Ne(t,0,r,s,i),Qt.call(this,()=>this.editor.insertText(t,e,o),i,t,e.length)}isEnabled(){return this.scroll.isEnabled()}off(){return this.emitter.off(...arguments)}on(){return this.emitter.on(...arguments)}once(){return this.emitter.once(...arguments)}removeFormat(t,e,r){return[t,e,,r]=Ne(t,e,r),Qt.call(this,()=>this.editor.removeFormat(t,e),r,t)}scrollRectIntoView(t){dp(this.root,t)}scrollIntoView(){console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead."),this.scrollSelectionIntoView()}scrollSelectionIntoView(){const t=this.selection.lastRange,e=t&&this.selection.getBounds(t.index,t.length);e&&this.scrollRectIntoView(e)}setContents(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:V.sources.API;return Qt.call(this,()=>{t=new K(t);const r=this.getLength(),s=this.editor.deleteText(0,r),i=this.editor.insertContents(0,t),o=this.editor.deleteText(this.getLength()-1,1);return s.compose(i).compose(o)},e)}setSelection(t,e,r){t==null?this.selection.setRange(null,e||te.sources.API):([t,e,,r]=Ne(t,e,r),this.selection.setRange(new Ye(Math.max(0,t),e),r),r!==V.sources.SILENT&&this.scrollSelectionIntoView())}setText(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:V.sources.API;const r=new K().insert(t);return this.setContents(r,e)}update(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:V.sources.USER;const e=this.scroll.update(t);return this.selection.update(t),e}updateContents(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:V.sources.API;return Qt.call(this,()=>(t=new K(t),this.editor.applyDelta(t)),e,!0)}};U(te,"DEFAULTS",{bounds:null,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0},placeholder:"",readOnly:!1,registry:$n,theme:"default"}),U(te,"events",V.events),U(te,"sources",V.sources),U(te,"version","2.0.1"),U(te,"imports",{delta:K,parchment:Fd,"core/module":ce,"core/theme":Sr});let q=te;function ra(n){return typeof n=="string"?document.querySelector(n):n}function ii(n){return Object.entries(n??{}).reduce((t,e)=>{let[r,s]=e;return{...t,[r]:s===!0?{}:s}},{})}function na(n){return Object.fromEntries(Object.entries(n).filter(t=>t[1]!==void 0))}function yp(n,t){const e=ra(n);if(!e)throw new Error("Invalid Quill container");const s=!t.theme||t.theme===q.DEFAULTS.theme?Sr:q.import(`themes/${t.theme}`);if(!s)throw new Error(`Invalid theme ${t.theme}. Did you register it?`);const{modules:i,...o}=q.DEFAULTS,{modules:a,...c}=s.DEFAULTS;let u=ii(t.modules);u!=null&&u.toolbar&&u.toolbar.constructor!==Object&&(u={...u,toolbar:{container:u.toolbar}});const h=$e({},ii(i),ii(a),u),d={...o,...na(c),...na(t)};let f=t.registry;return f?t.formats&&_r.warn('Ignoring "formats" option because "registry" is specified'):f=t.formats?mp(t.formats,d.registry,_r):d.registry,{...d,registry:f,container:e,theme:s,modules:Object.entries(h).reduce((p,g)=>{let[E,v]=g;if(!v)return p;const x=q.import(`modules/${E}`);return x==null?(_r.error(`Cannot load ${E} module. Are you sure you registered it?`),p):{...p,[E]:$e({},x.DEFAULTS||{},v)}},{}),bounds:ra(d.bounds)}}function Qt(n,t,e,r){if(!this.isEnabled()&&t===V.sources.USER&&!this.allowReadOnlyEdits)return new K;let s=e==null?null:this.getSelection();const i=this.editor.delta,o=n();if(s!=null&&(e===!0&&(e=s.index),r==null?s=sa(s,o,t):r!==0&&(s=sa(s,e,r,t)),this.setSelection(s,V.sources.SILENT)),o.length()>0){const a=[V.events.TEXT_CHANGE,o,i,t];this.emitter.emit(V.events.EDITOR_CHANGE,...a),t!==V.sources.SILENT&&this.emitter.emit(...a)}return o}function Ne(n,t,e,r,s){let i={};return typeof n.index=="number"&&typeof n.length=="number"?typeof t!="number"?(s=r,r=e,e=t,t=n.length,n=n.index):(t=n.length,n=n.index):typeof t!="number"&&(s=r,r=e,e=t,t=0),typeof e=="object"?(i=e,s=r):typeof e=="string"&&(r!=null?i[e]=r:s=e),s=s||V.sources.API,[n,t,i,s]}function sa(n,t,e,r){const s=typeof e=="number"?e:0;if(n==null)return null;let i,o;return t&&typeof t.transformPosition=="function"?[i,o]=[n.index,n.index+n.length].map(a=>t.transformPosition(a,r!==V.sources.USER)):[i,o]=[n.index,n.index+n.length].map(a=>a<t||a===t&&r===V.sources.USER?a:s>=0?a+s:Math.max(t,a+s)),new Ye(i,o-i)}class er extends ss{}function ia(n){return n instanceof Lt||n instanceof Zt}function oa(n){return typeof n.updateContent=="function"}class xr extends Ji{constructor(t,e,r){let{emitter:s}=r;super(t,e),this.emitter=s,this.batch=!1,this.optimize(),this.enable(),this.domNode.addEventListener("dragstart",i=>this.handleDragStart(i))}batchStart(){Array.isArray(this.batch)||(this.batch=[])}batchEnd(){if(!this.batch)return;const t=this.batch;this.batch=!1,this.update(t)}emitMount(t){this.emitter.emit(V.events.SCROLL_BLOT_MOUNT,t)}emitUnmount(t){this.emitter.emit(V.events.SCROLL_BLOT_UNMOUNT,t)}emitEmbedUpdate(t,e){this.emitter.emit(V.events.SCROLL_EMBED_UPDATE,t,e)}deleteAt(t,e){const[r,s]=this.line(t),[i]=this.line(t+e);if(super.deleteAt(t,e),i!=null&&r!==i&&s>0){if(r instanceof Zt||i instanceof Zt){this.optimize();return}const o=i.children.head instanceof le?null:i.children.head;r.moveChildren(i,o),r.remove()}this.optimize()}enable(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",t?"true":"false")}formatAt(t,e,r,s){super.formatAt(t,e,r,s),this.optimize()}insertAt(t,e,r){if(t>=this.length())if(r==null||this.scroll.query(e,X.BLOCK)==null){const s=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(s),r==null&&e.endsWith(`
`)?s.insertAt(0,e.slice(0,-1),r):s.insertAt(0,e,r)}else{const s=this.scroll.create(e,r);this.appendChild(s)}else super.insertAt(t,e,r);this.optimize()}insertBefore(t,e){if(t.statics.scope===X.INLINE_BLOT){const r=this.scroll.create(this.statics.defaultChild.blotName);r.appendChild(t),super.insertBefore(r,e)}else super.insertBefore(t,e)}insertContents(t,e){const r=this.deltaToRenderBlocks(e.concat(new K().insert(`
`))),s=r.pop();if(s==null)return;this.batchStart();const i=r.shift();if(i){const c=i.type==="block"&&(i.delta.length()===0||!this.descendant(Zt,t)[0]&&t<this.length()),u=i.type==="block"?i.delta:new K().insert({[i.key]:i.value});oi(this,t,u);const h=i.type==="block"?1:0,d=t+u.length()+h;c&&this.insertAt(d-1,`
`);const f=Kt(this.line(t)[0]),p=Xt.AttributeMap.diff(f,i.attributes)||{};Object.keys(p).forEach(g=>{this.formatAt(d-1,1,g,p[g])}),t=d}let[o,a]=this.children.find(t);if(r.length&&(o&&(o=o.split(a),a=0),r.forEach(c=>{if(c.type==="block"){const u=this.createBlock(c.attributes,o||void 0);oi(u,0,c.delta)}else{const u=this.create(c.key,c.value);this.insertBefore(u,o||void 0),Object.keys(c.attributes).forEach(h=>{u.format(h,c.attributes[h])})}})),s.type==="block"&&s.delta.length()){const c=o?o.offset(o.scroll)+a:this.length();oi(this,c,s.delta)}this.batchEnd(),this.optimize()}isEnabled(){return this.domNode.getAttribute("contenteditable")==="true"}leaf(t){const e=this.path(t).pop();if(!e)return[null,-1];const[r,s]=e;return r instanceof Pt?[r,s]:[null,-1]}line(t){return t===this.length()?this.line(t-1):this.descendant(ia,t)}lines(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;const r=(s,i,o)=>{let a=[],c=o;return s.children.forEachAt(i,o,(u,h,d)=>{ia(u)?a.push(u):u instanceof ss&&(a=a.concat(r(u,h,c))),c-=d}),a};return r(this,t,e)}optimize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch||(super.optimize(t,e),t.length>0&&this.emitter.emit(V.events.SCROLL_OPTIMIZE,t,e))}path(t){return super.path(t).slice(1)}remove(){}update(t){if(this.batch){Array.isArray(t)&&(this.batch=this.batch.concat(t));return}let e=V.sources.USER;typeof t=="string"&&(e=t),Array.isArray(t)||(t=this.observer.takeRecords()),t=t.filter(r=>{let{target:s}=r;const i=this.find(s,!0);return i&&!oa(i)}),t.length>0&&this.emitter.emit(V.events.SCROLL_BEFORE_UPDATE,e,t),super.update(t.concat([])),t.length>0&&this.emitter.emit(V.events.SCROLL_UPDATE,e,t)}updateEmbedAt(t,e,r){const[s]=this.descendant(i=>i instanceof Zt,t);s&&s.statics.blotName===e&&oa(s)&&s.updateContent(r)}handleDragStart(t){t.preventDefault()}deltaToRenderBlocks(t){const e=[];let r=new K;return t.forEach(s=>{const i=s==null?void 0:s.insert;if(i)if(typeof i=="string"){const o=i.split(`
`);o.slice(0,-1).forEach(c=>{r.insert(c,s.attributes),e.push({type:"block",delta:r,attributes:s.attributes??{}}),r=new K});const a=o[o.length-1];a&&r.insert(a,s.attributes)}else{const o=Object.keys(i)[0];if(!o)return;this.query(o,X.INLINE)?r.push(s):(r.length()&&e.push({type:"block",delta:r,attributes:{}}),r=new K,e.push({type:"blockEmbed",key:o,value:i[o],attributes:s.attributes??{}}))}}),r.length()&&e.push({type:"block",delta:r,attributes:{}}),e}createBlock(t,e){let r;const s={};Object.entries(t).forEach(a=>{let[c,u]=a;this.query(c,X.BLOCK&X.BLOT)!=null?r=c:s[c]=u});const i=this.create(r||this.statics.defaultChild.blotName,r?t[r]:void 0);this.insertBefore(i,e||void 0);const o=i.length();return Object.entries(s).forEach(a=>{let[c,u]=a;i.formatAt(0,o,c,u)}),i}}U(xr,"blotName","scroll"),U(xr,"className","ql-editor"),U(xr,"tagName","DIV"),U(xr,"defaultChild",Lt),U(xr,"allowedChildren",[Lt,Zt,er]);function oi(n,t,e){e.reduce((r,s)=>{const i=Xt.Op.length(s);let o=s.attributes||{};if(s.insert!=null){if(typeof s.insert=="string"){const a=s.insert;n.insertAt(r,a);const[c]=n.descendant(Pt,r),u=Kt(c);o=Xt.AttributeMap.diff(u,o)||{}}else if(typeof s.insert=="object"){const a=Object.keys(s.insert)[0];if(a==null)return r;if(n.insertAt(r,a,s.insert[a]),n.scroll.query(a,X.INLINE)!=null){const[u]=n.descendant(Pt,r),h=Kt(u);o=Xt.AttributeMap.diff(h,o)||{}}}}return Object.keys(o).forEach(a=>{n.formatAt(r,i,a,o[a])}),r+i},t)}const io={scope:X.BLOCK,whitelist:["right","center","justify"]},bp=new be("align","align",io),cl=new ae("align","ql-align",io),ul=new Ue("align","text-align",io);class hl extends Ue{value(t){let e=super.value(t);return e.startsWith("rgb(")?(e=e.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),`#${e.split(",").map(s=>`00${parseInt(s,10).toString(16)}`.slice(-2)).join("")}`):e}}const vp=new ae("color","ql-color",{scope:X.INLINE}),oo=new hl("color","color",{scope:X.INLINE}),wp=new ae("background","ql-bg",{scope:X.INLINE}),ao=new hl("background","background-color",{scope:X.INLINE});class rr extends er{static create(t){const e=super.create(t);return e.setAttribute("spellcheck","false"),e}code(t,e){return this.children.map(r=>r.length()<=1?"":r.domNode.innerText).join(`
`).slice(t,t+e)}html(t,e){return`<pre>
${ls(this.code(t,e))}
</pre>`}}class Mt extends Lt{static register(){q.register(rr)}}U(Mt,"TAB","  ");class lo extends ve{}lo.blotName="code";lo.tagName="CODE";Mt.blotName="code-block";Mt.className="ql-code-block";Mt.tagName="DIV";rr.blotName="code-block-container";rr.className="ql-code-block-container";rr.tagName="DIV";rr.allowedChildren=[Mt];Mt.allowedChildren=[oe,le,Or];Mt.requiredContainer=rr;const co={scope:X.BLOCK,whitelist:["rtl"]},fl=new be("direction","dir",co),dl=new ae("direction","ql-direction",co),pl=new Ue("direction","direction",co),gl={scope:X.INLINE,whitelist:["serif","monospace"]},ml=new ae("font","ql-font",gl);class xp extends Ue{value(t){return super.value(t).replace(/["']/g,"")}}const yl=new xp("font","font-family",gl),bl=new ae("size","ql-size",{scope:X.INLINE,whitelist:["small","large","huge"]}),vl=new Ue("size","font-size",{scope:X.INLINE,whitelist:["10px","18px","32px"]}),Ap=Ce("quill:keyboard"),Ep=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey";class cs extends ce{static match(t,e){return["altKey","ctrlKey","metaKey","shiftKey"].some(r=>!!e[r]!==t[r]&&e[r]!==null)?!1:e.key===t.key||e.key===t.which}constructor(t,e){super(t,e),this.bindings={},Object.keys(this.options.bindings).forEach(r=>{this.options.bindings[r]&&this.addBinding(this.options.bindings[r])}),this.addBinding({key:"Enter",shiftKey:null},this.handleEnter),this.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},()=>{}),/Firefox/i.test(navigator.userAgent)?(this.addBinding({key:"Backspace"},{collapsed:!0},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0},this.handleDelete)):(this.addBinding({key:"Backspace"},{collapsed:!0,prefix:/^.?$/},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0,suffix:/^.?$/},this.handleDelete)),this.addBinding({key:"Backspace"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Delete"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},this.handleBackspace),this.listen()}addBinding(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const s=Np(t);if(s==null){Ap.warn("Attempted to add invalid keyboard binding",s);return}typeof e=="function"&&(e={handler:e}),typeof r=="function"&&(r={handler:r}),(Array.isArray(s.key)?s.key:[s.key]).forEach(o=>{const a={...s,key:o,...e,...r};this.bindings[a.key]=this.bindings[a.key]||[],this.bindings[a.key].push(a)})}listen(){this.quill.root.addEventListener("keydown",t=>{if(t.defaultPrevented||t.isComposing)return;const r=(this.bindings[t.key]||[]).concat(this.bindings[t.which]||[]).filter(v=>cs.match(t,v));if(r.length===0)return;const s=q.find(t.target,!0);if(s&&s.scroll!==this.quill.scroll)return;const i=this.quill.getSelection();if(i==null||!this.quill.hasFocus())return;const[o,a]=this.quill.getLine(i.index),[c,u]=this.quill.getLeaf(i.index),[h,d]=i.length===0?[c,u]:this.quill.getLeaf(i.index+i.length),f=c instanceof Xn?c.value().slice(0,u):"",p=h instanceof Xn?h.value().slice(d):"",g={collapsed:i.length===0,empty:i.length===0&&o.length()<=1,format:this.quill.getFormat(i),line:o,offset:a,prefix:f,suffix:p,event:t};r.some(v=>{if(v.collapsed!=null&&v.collapsed!==g.collapsed||v.empty!=null&&v.empty!==g.empty||v.offset!=null&&v.offset!==g.offset)return!1;if(Array.isArray(v.format)){if(v.format.every(x=>g.format[x]==null))return!1}else if(typeof v.format=="object"&&!Object.keys(v.format).every(x=>v.format[x]===!0?g.format[x]!=null:v.format[x]===!1?g.format[x]==null:Xi(v.format[x],g.format[x])))return!1;return v.prefix!=null&&!v.prefix.test(g.prefix)||v.suffix!=null&&!v.suffix.test(g.suffix)?!1:v.handler.call(this,i,g,v)!==!0})&&t.preventDefault()})}handleBackspace(t,e){const r=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(e.prefix)?2:1;if(t.index===0||this.quill.getLength()<=1)return;let s={};const[i]=this.quill.getLine(t.index);let o=new K().retain(t.index-r).delete(r);if(e.offset===0){const[a]=this.quill.getLine(t.index-1);if(a&&!(a.statics.blotName==="block"&&a.length()<=1)){const u=i.formats(),h=this.quill.getFormat(t.index-1,1);if(s=Xt.AttributeMap.diff(u,h)||{},Object.keys(s).length>0){const d=new K().retain(t.index+i.length()-2).retain(1,s);o=o.compose(d)}}}this.quill.updateContents(o,q.sources.USER),this.quill.focus()}handleDelete(t,e){const r=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(e.suffix)?2:1;if(t.index>=this.quill.getLength()-r)return;let s={};const[i]=this.quill.getLine(t.index);let o=new K().retain(t.index).delete(r);if(e.offset>=i.length()-1){const[a]=this.quill.getLine(t.index+1);if(a){const c=i.formats(),u=this.quill.getFormat(t.index,1);s=Xt.AttributeMap.diff(c,u)||{},Object.keys(s).length>0&&(o=o.retain(a.length()-1).retain(1,s))}}this.quill.updateContents(o,q.sources.USER),this.quill.focus()}handleDeleteRange(t){uo({range:t,quill:this.quill}),this.quill.focus()}handleEnter(t,e){const r=Object.keys(e.format).reduce((i,o)=>(this.quill.scroll.query(o,X.BLOCK)&&!Array.isArray(e.format[o])&&(i[o]=e.format[o]),i),{}),s=new K().retain(t.index).delete(t.length).insert(`
`,r);this.quill.updateContents(s,q.sources.USER),this.quill.setSelection(t.index+1,q.sources.SILENT),this.quill.focus()}}const _p={bindings:{bold:ai("bold"),italic:ai("italic"),underline:ai("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler(n,t){return t.collapsed&&t.offset!==0?!0:(this.quill.format("indent","+1",q.sources.USER),!1)}},outdent:{key:"Tab",shiftKey:!0,format:["blockquote","indent","list"],handler(n,t){return t.collapsed&&t.offset!==0?!0:(this.quill.format("indent","-1",q.sources.USER),!1)}},"outdent backspace":{key:"Backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler(n,t){t.format.indent!=null?this.quill.format("indent","-1",q.sources.USER):t.format.list!=null&&this.quill.format("list",!1,q.sources.USER)}},"indent code-block":aa(!0),"outdent code-block":aa(!1),"remove tab":{key:"Tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler(n){this.quill.deleteText(n.index-1,1,q.sources.USER)}},tab:{key:"Tab",handler(n,t){if(t.format.table)return!0;this.quill.history.cutoff();const e=new K().retain(n.index).delete(n.length).insert("	");return this.quill.updateContents(e,q.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(n.index+1,q.sources.SILENT),!1}},"blockquote empty enter":{key:"Enter",collapsed:!0,format:["blockquote"],empty:!0,handler(){this.quill.format("blockquote",!1,q.sources.USER)}},"list empty enter":{key:"Enter",collapsed:!0,format:["list"],empty:!0,handler(n,t){const e={list:!1};t.format.indent&&(e.indent=!1),this.quill.formatLine(n.index,n.length,e,q.sources.USER)}},"checklist enter":{key:"Enter",collapsed:!0,format:{list:"checked"},handler(n){const[t,e]=this.quill.getLine(n.index),r={...t.formats(),list:"checked"},s=new K().retain(n.index).insert(`
`,r).retain(t.length()-e-1).retain(1,{list:"unchecked"});this.quill.updateContents(s,q.sources.USER),this.quill.setSelection(n.index+1,q.sources.SILENT),this.quill.scrollSelectionIntoView()}},"header enter":{key:"Enter",collapsed:!0,format:["header"],suffix:/^$/,handler(n,t){const[e,r]=this.quill.getLine(n.index),s=new K().retain(n.index).insert(`
`,t.format).retain(e.length()-r-1).retain(1,{header:null});this.quill.updateContents(s,q.sources.USER),this.quill.setSelection(n.index+1,q.sources.SILENT),this.quill.scrollSelectionIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:!0,offset:0,handler(){}},"table delete":{key:"Delete",format:["table"],collapsed:!0,suffix:/^$/,handler(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler(n){const t=this.quill.getModule("table");if(t){const[e,r,s,i]=t.getTable(n),o=Tp(e,r,s,i);if(o==null)return;let a=e.offset();if(o<0){const c=new K().retain(a).insert(`
`);this.quill.updateContents(c,q.sources.USER),this.quill.setSelection(n.index+1,n.length,q.sources.SILENT)}else if(o>0){a+=e.length();const c=new K().retain(a).insert(`
`);this.quill.updateContents(c,q.sources.USER),this.quill.setSelection(a,q.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler(n,t){const{event:e,line:r}=t,s=r.offset(this.quill.scroll);e.shiftKey?this.quill.setSelection(s-1,q.sources.USER):this.quill.setSelection(s+r.length(),q.sources.USER)}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(n,t){if(this.quill.scroll.query("list")==null)return!0;const{length:e}=t.prefix,[r,s]=this.quill.getLine(n.index);if(s>e)return!0;let i;switch(t.prefix.trim()){case"[]":case"[ ]":i="unchecked";break;case"[x]":i="checked";break;case"-":case"*":i="bullet";break;default:i="ordered"}this.quill.insertText(n.index," ",q.sources.USER),this.quill.history.cutoff();const o=new K().retain(n.index-s).delete(e+1).retain(r.length()-2-s).retain(1,{list:i});return this.quill.updateContents(o,q.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(n.index-e,q.sources.SILENT),!1}},"code exit":{key:"Enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler(n){const[t,e]=this.quill.getLine(n.index);let r=2,s=t;for(;s!=null&&s.length()<=1&&s.formats()["code-block"];)if(s=s.prev,r-=1,r<=0){const i=new K().retain(n.index+t.length()-e-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(i,q.sources.USER),this.quill.setSelection(n.index-1,q.sources.SILENT),!1}return!0}},"embed left":Bn("ArrowLeft",!1),"embed left shift":Bn("ArrowLeft",!0),"embed right":Bn("ArrowRight",!1),"embed right shift":Bn("ArrowRight",!0),"table down":la(!1),"table up":la(!0)}};cs.DEFAULTS=_p;function aa(n){return{key:"Tab",shiftKey:!n,format:{"code-block":!0},handler(t,e){let{event:r}=e;const s=this.quill.scroll.query("code-block"),{TAB:i}=s;if(t.length===0&&!r.shiftKey){this.quill.insertText(t.index,i,q.sources.USER),this.quill.setSelection(t.index+i.length,q.sources.SILENT);return}const o=t.length===0?this.quill.getLines(t.index,1):this.quill.getLines(t);let{index:a,length:c}=t;o.forEach((u,h)=>{n?(u.insertAt(0,i),h===0?a+=i.length:c+=i.length):u.domNode.textContent.startsWith(i)&&(u.deleteAt(0,i.length),h===0?a-=i.length:c-=i.length)}),this.quill.update(q.sources.USER),this.quill.setSelection(a,c,q.sources.SILENT)}}}function Bn(n,t){return{key:n,shiftKey:t,altKey:null,[n==="ArrowLeft"?"prefix":"suffix"]:/^$/,handler(r){let{index:s}=r;n==="ArrowRight"&&(s+=r.length+1);const[i]=this.quill.getLeaf(s);return i instanceof zt?(n==="ArrowLeft"?t?this.quill.setSelection(r.index-1,r.length+1,q.sources.USER):this.quill.setSelection(r.index-1,q.sources.USER):t?this.quill.setSelection(r.index,r.length+1,q.sources.USER):this.quill.setSelection(r.index+r.length+1,q.sources.USER),!1):!0}}}function ai(n){return{key:n[0],shortKey:!0,handler(t,e){this.quill.format(n,!e.format[n],q.sources.USER)}}}function la(n){return{key:n?"ArrowUp":"ArrowDown",collapsed:!0,format:["table"],handler(t,e){const r=n?"prev":"next",s=e.line,i=s.parent[r];if(i!=null){if(i.statics.blotName==="table-row"){let o=i.children.head,a=s;for(;a.prev!=null;)a=a.prev,o=o.next;const c=o.offset(this.quill.scroll)+Math.min(e.offset,o.length()-1);this.quill.setSelection(c,0,q.sources.USER)}}else{const o=s.table()[r];o!=null&&(n?this.quill.setSelection(o.offset(this.quill.scroll)+o.length()-1,0,q.sources.USER):this.quill.setSelection(o.offset(this.quill.scroll),0,q.sources.USER))}return!1}}}function Np(n){if(typeof n=="string"||typeof n=="number")n={key:n};else if(typeof n=="object")n=Ar(n);else return null;return n.shortKey&&(n[Ep]=n.shortKey,delete n.shortKey),n}function uo(n){let{quill:t,range:e}=n;const r=t.getLines(e);let s={};if(r.length>1){const i=r[0].formats(),o=r[r.length-1].formats();s=Xt.AttributeMap.diff(o,i)||{}}t.deleteText(e,q.sources.USER),Object.keys(s).length>0&&t.formatLine(e.index,1,s,q.sources.USER),t.setSelection(e.index,q.sources.SILENT)}function Tp(n,t,e,r){return t.prev==null&&t.next==null?e.prev==null&&e.next==null?r===0?-1:1:e.prev==null?-1:1:t.prev==null?-1:t.next==null?1:null}const Op=/font-weight:\s*normal/,Sp=["P","OL","UL"],ca=n=>n&&Sp.includes(n.tagName),kp=n=>{Array.from(n.querySelectorAll("br")).filter(t=>ca(t.previousElementSibling)&&ca(t.nextElementSibling)).forEach(t=>{var e;(e=t.parentNode)==null||e.removeChild(t)})},Cp=n=>{Array.from(n.querySelectorAll('b[style*="font-weight"]')).filter(t=>{var e;return(e=t.getAttribute("style"))==null?void 0:e.match(Op)}).forEach(t=>{var r;const e=n.createDocumentFragment();e.append(...t.childNodes),(r=t.parentNode)==null||r.replaceChild(e,t)})};function Lp(n){n.querySelector('[id^="docs-internal-guid-"]')&&(Cp(n),kp(n))}const qp=/\bmso-list:[^;]*ignore/i,Ip=/\bmso-list:[^;]*\bl(\d+)/i,jp=/\bmso-list:[^;]*\blevel(\d+)/i,Rp=(n,t)=>{const e=n.getAttribute("style"),r=e==null?void 0:e.match(Ip);if(!r)return null;const s=Number(r[1]),i=e==null?void 0:e.match(jp),o=i?Number(i[1]):1,a=new RegExp(`@list l${s}:level${o}\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)`,"i"),c=t.match(a),u=c&&c[1]==="bullet"?"bullet":"ordered";return{id:s,indent:o,type:u,element:n}},Pp=n=>{var o,a;const t=Array.from(n.querySelectorAll("[style*=mso-list]")),e=[],r=[];t.forEach(c=>{(c.getAttribute("style")||"").match(qp)?e.push(c):r.push(c)}),e.forEach(c=>{var u;return(u=c.parentNode)==null?void 0:u.removeChild(c)});const s=n.documentElement.innerHTML,i=r.map(c=>Rp(c,s)).filter(c=>c);for(;i.length;){const c=[];let u=i.shift();for(;u;)c.push(u),u=i.length&&((o=i[0])==null?void 0:o.element)===u.element.nextElementSibling&&i[0].id===u.id?i.shift():null;const h=document.createElement("ul");c.forEach(p=>{const g=document.createElement("li");g.setAttribute("data-list",p.type),p.indent>1&&g.setAttribute("class",`ql-indent-${p.indent-1}`),g.innerHTML=p.element.innerHTML,h.appendChild(g)});const d=(a=c[0])==null?void 0:a.element,{parentNode:f}=d??{};d&&(f==null||f.replaceChild(h,d)),c.slice(1).forEach(p=>{let{element:g}=p;f==null||f.removeChild(g)})}};function Mp(n){n.documentElement.getAttribute("xmlns:w")==="urn:schemas-microsoft-com:office:word"&&Pp(n)}const $p=[Mp,Lp],Bp=n=>{n.documentElement&&$p.forEach(t=>{t(n)})},Dp=Ce("quill:clipboard"),Up=[[Node.TEXT_NODE,Qp],[Node.TEXT_NODE,ha],["br",Gp],[Node.ELEMENT_NODE,ha],[Node.ELEMENT_NODE,Vp],[Node.ELEMENT_NODE,zp],[Node.ELEMENT_NODE,Yp],["li",Zp],["ol, ul",Xp],["pre",Kp],["tr",Jp],["b",li("bold")],["i",li("italic")],["strike",li("strike")],["style",Wp]],Fp=[bp,fl].reduce((n,t)=>(n[t.keyName]=t,n),{}),ua=[ul,ao,oo,pl,yl,vl].reduce((n,t)=>(n[t.keyName]=t,n),{});class wl extends ce{constructor(t,e){super(t,e),this.quill.root.addEventListener("copy",r=>this.onCaptureCopy(r,!1)),this.quill.root.addEventListener("cut",r=>this.onCaptureCopy(r,!0)),this.quill.root.addEventListener("paste",this.onCapturePaste.bind(this)),this.matchers=[],Up.concat(this.options.matchers??[]).forEach(r=>{let[s,i]=r;this.addMatcher(s,i)})}addMatcher(t,e){this.matchers.push([t,e])}convert(t){let{html:e,text:r}=t,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(s[Mt.blotName])return new K().insert(r||"",{[Mt.blotName]:s[Mt.blotName]});if(!e)return new K().insert(r||"",s);const i=this.convertHTML(e);return fn(i,`
`)&&(i.ops[i.ops.length-1].attributes==null||s.table)?i.compose(new K().retain(i.length()-1).delete(1)):i}normalizeHTML(t){Bp(t)}convertHTML(t){const e=new DOMParser().parseFromString(t,"text/html");this.normalizeHTML(e);const r=e.body,s=new WeakMap,[i,o]=this.prepareMatching(r,s);return ho(this.quill.scroll,r,i,o,s)}dangerouslyPasteHTML(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:q.sources.API;if(typeof t=="string"){const s=this.convert({html:t,text:""});this.quill.setContents(s,e),this.quill.setSelection(0,q.sources.SILENT)}else{const s=this.convert({html:e,text:""});this.quill.updateContents(new K().retain(t).concat(s),r),this.quill.setSelection(t+s.length(),q.sources.SILENT)}}onCaptureCopy(t){var o,a;let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(t.defaultPrevented)return;t.preventDefault();const[r]=this.quill.selection.getRange();if(r==null)return;const{html:s,text:i}=this.onCopy(r,e);(o=t.clipboardData)==null||o.setData("text/plain",i),(a=t.clipboardData)==null||a.setData("text/html",s),e&&uo({range:r,quill:this.quill})}normalizeURIList(t){return t.split(/\r?\n/).filter(e=>e[0]!=="#").join(`
`)}onCapturePaste(t){var o,a,c,u,h;if(t.defaultPrevented||!this.quill.isEnabled())return;t.preventDefault();const e=this.quill.getSelection(!0);if(e==null)return;const r=(o=t.clipboardData)==null?void 0:o.getData("text/html");let s=(a=t.clipboardData)==null?void 0:a.getData("text/plain");if(!r&&!s){const d=(c=t.clipboardData)==null?void 0:c.getData("text/uri-list");d&&(s=this.normalizeURIList(d))}const i=Array.from(((u=t.clipboardData)==null?void 0:u.files)||[]);if(!r&&i.length>0){this.quill.uploader.upload(e,i);return}if(r&&i.length>0){const d=new DOMParser().parseFromString(r,"text/html");if(d.body.childElementCount===1&&((h=d.body.firstElementChild)==null?void 0:h.tagName)==="IMG"){this.quill.uploader.upload(e,i);return}}this.onPaste(e,{html:r,text:s})}onCopy(t){const e=this.quill.getText(t);return{html:this.quill.getSemanticHTML(t),text:e}}onPaste(t,e){let{text:r,html:s}=e;const i=this.quill.getFormat(t.index),o=this.convert({text:r,html:s},i);Dp.log("onPaste",o,{text:r,html:s});const a=new K().retain(t.index).delete(t.length).concat(o);this.quill.updateContents(a,q.sources.USER),this.quill.setSelection(a.length()-t.length,q.sources.SILENT),this.quill.scrollSelectionIntoView()}prepareMatching(t,e){const r=[],s=[];return this.matchers.forEach(i=>{const[o,a]=i;switch(o){case Node.TEXT_NODE:s.push(a);break;case Node.ELEMENT_NODE:r.push(a);break;default:Array.from(t.querySelectorAll(o)).forEach(c=>{if(e.has(c)){const u=e.get(c);u==null||u.push(a)}else e.set(c,[a])});break}}),[r,s]}}U(wl,"DEFAULTS",{matchers:[]});function nr(n,t,e,r){return r.query(t)?n.reduce((s,i)=>{if(!i.insert)return s;if(i.attributes&&i.attributes[t])return s.push(i);const o=e?{[t]:e}:{};return s.insert(i.insert,{...o,...i.attributes})},new K):n}function fn(n,t){let e="";for(let r=n.ops.length-1;r>=0&&e.length<t.length;--r){const s=n.ops[r];if(typeof s.insert!="string")break;e=s.insert+e}return e.slice(-1*t.length)===t}function Pe(n,t){if(!(n instanceof Element))return!1;const e=t.query(n);return e&&e.prototype instanceof zt?!1:["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(n.tagName.toLowerCase())}function Hp(n,t){return n.previousElementSibling&&n.nextElementSibling&&!Pe(n.previousElementSibling,t)&&!Pe(n.nextElementSibling,t)}const Dn=new WeakMap;function xl(n){return n==null?!1:(Dn.has(n)||(n.tagName==="PRE"?Dn.set(n,!0):Dn.set(n,xl(n.parentNode))),Dn.get(n))}function ho(n,t,e,r,s){return t.nodeType===t.TEXT_NODE?r.reduce((i,o)=>o(t,i,n),new K):t.nodeType===t.ELEMENT_NODE?Array.from(t.childNodes||[]).reduce((i,o)=>{let a=ho(n,o,e,r,s);return o.nodeType===t.ELEMENT_NODE&&(a=e.reduce((c,u)=>u(o,c,n),a),a=(s.get(o)||[]).reduce((c,u)=>u(o,c,n),a)),i.concat(a)},new K):new K}function li(n){return(t,e,r)=>nr(e,n,!0,r)}function zp(n,t,e){const r=be.keys(n),s=ae.keys(n),i=Ue.keys(n),o={};return r.concat(s).concat(i).forEach(a=>{let c=e.query(a,X.ATTRIBUTE);c!=null&&(o[c.attrName]=c.value(n),o[c.attrName])||(c=Fp[a],c!=null&&(c.attrName===a||c.keyName===a)&&(o[c.attrName]=c.value(n)||void 0),c=ua[a],c!=null&&(c.attrName===a||c.keyName===a)&&(c=ua[a],o[c.attrName]=c.value(n)||void 0))}),Object.entries(o).reduce((a,c)=>{let[u,h]=c;return nr(a,u,h,e)},t)}function Vp(n,t,e){const r=e.query(n);if(r==null)return t;if(r.prototype instanceof zt){const s={},i=r.value(n);if(i!=null)return s[r.blotName]=i,new K().insert(s,r.formats(n,e))}else if(r.prototype instanceof nn&&!fn(t,`
`)&&t.insert(`
`),"blotName"in r&&"formats"in r&&typeof r.formats=="function")return nr(t,r.blotName,r.formats(n,e),e);return t}function Gp(n,t){return fn(t,`
`)||t.insert(`
`),t}function Kp(n,t,e){const r=e.query("code-block"),s=r&&"formats"in r&&typeof r.formats=="function"?r.formats(n,e):!0;return nr(t,"code-block",s,e)}function Wp(){return new K}function Zp(n,t,e){const r=e.query(n);if(r==null||r.blotName!=="list"||!fn(t,`
`))return t;let s=-1,i=n.parentNode;for(;i!=null;)["OL","UL"].includes(i.tagName)&&(s+=1),i=i.parentNode;return s<=0?t:t.reduce((o,a)=>a.insert?a.attributes&&typeof a.attributes.indent=="number"?o.push(a):o.insert(a.insert,{indent:s,...a.attributes||{}}):o,new K)}function Xp(n,t,e){const r=n;let s=r.tagName==="OL"?"ordered":"bullet";const i=r.getAttribute("data-checked");return i&&(s=i==="true"?"checked":"unchecked"),nr(t,"list",s,e)}function ha(n,t,e){if(!fn(t,`
`)){if(Pe(n,e)&&(n.childNodes.length>0||n instanceof HTMLParagraphElement))return t.insert(`
`);if(t.length()>0&&n.nextSibling){let r=n.nextSibling;for(;r!=null;){if(Pe(r,e))return t.insert(`
`);const s=e.query(r);if(s&&s.prototype instanceof Zt)return t.insert(`
`);r=r.firstChild}}}return t}function Yp(n,t,e){var i;const r={},s=n.style||{};return s.fontStyle==="italic"&&(r.italic=!0),s.textDecoration==="underline"&&(r.underline=!0),s.textDecoration==="line-through"&&(r.strike=!0),((i=s.fontWeight)!=null&&i.startsWith("bold")||parseInt(s.fontWeight,10)>=700)&&(r.bold=!0),t=Object.entries(r).reduce((o,a)=>{let[c,u]=a;return nr(o,c,u,e)},t),parseFloat(s.textIndent||0)>0?new K().insert("	").concat(t):t}function Jp(n,t,e){var s,i;const r=((s=n.parentElement)==null?void 0:s.tagName)==="TABLE"?n.parentElement:(i=n.parentElement)==null?void 0:i.parentElement;if(r!=null){const a=Array.from(r.querySelectorAll("tr")).indexOf(n)+1;return nr(t,"table",a,e)}return t}function Qp(n,t,e){var s;let r=n.data;if(((s=n.parentElement)==null?void 0:s.tagName)==="O:P")return t.insert(r.trim());if(!xl(n)){if(r.trim().length===0&&r.includes(`
`)&&!Hp(n,e))return t;const i=(o,a)=>{const c=a.replace(/[^\u00a0]/g,"");return c.length<1&&o?" ":c};r=r.replace(/\r\n/g," ").replace(/\n/g," "),r=r.replace(/\s\s+/g,i.bind(i,!0)),(n.previousSibling==null&&n.parentElement!=null&&Pe(n.parentElement,e)||n.previousSibling instanceof Element&&Pe(n.previousSibling,e))&&(r=r.replace(/^\s+/,i.bind(i,!1))),(n.nextSibling==null&&n.parentElement!=null&&Pe(n.parentElement,e)||n.nextSibling instanceof Element&&Pe(n.nextSibling,e))&&(r=r.replace(/\s+$/,i.bind(i,!1)))}return t.insert(r)}class Al extends ce{constructor(e,r){super(e,r);U(this,"lastRecorded",0);U(this,"ignoreChange",!1);U(this,"stack",{undo:[],redo:[]});U(this,"currentRange",null);this.quill.on(q.events.EDITOR_CHANGE,(s,i,o,a)=>{s===q.events.SELECTION_CHANGE?i&&a!==q.sources.SILENT&&(this.currentRange=i):s===q.events.TEXT_CHANGE&&(this.ignoreChange||(!this.options.userOnly||a===q.sources.USER?this.record(i,o):this.transform(i)),this.currentRange=Si(this.currentRange,i))}),this.quill.keyboard.addBinding({key:"z",shortKey:!0},this.undo.bind(this)),this.quill.keyboard.addBinding({key:["z","Z"],shortKey:!0,shiftKey:!0},this.redo.bind(this)),/Win/i.test(navigator.platform)&&this.quill.keyboard.addBinding({key:"y",shortKey:!0},this.redo.bind(this)),this.quill.root.addEventListener("beforeinput",s=>{s.inputType==="historyUndo"?(this.undo(),s.preventDefault()):s.inputType==="historyRedo"&&(this.redo(),s.preventDefault())})}change(e,r){if(this.stack[e].length===0)return;const s=this.stack[e].pop();if(!s)return;const i=this.quill.getContents(),o=s.delta.invert(i);this.stack[r].push({delta:o,range:Si(s.range,o)}),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(s.delta,q.sources.USER),this.ignoreChange=!1,this.restoreSelection(s)}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(e,r){if(e.ops.length===0)return;this.stack.redo=[];let s=e.invert(r),i=this.currentRange;const o=Date.now();if(this.lastRecorded+this.options.delay>o&&this.stack.undo.length>0){const a=this.stack.undo.pop();a&&(s=s.compose(a.delta),i=a.range)}else this.lastRecorded=o;s.length()!==0&&(this.stack.undo.push({delta:s,range:i}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}redo(){this.change("redo","undo")}transform(e){fa(this.stack.undo,e),fa(this.stack.redo,e)}undo(){this.change("undo","redo")}restoreSelection(e){if(e.range)this.quill.setSelection(e.range,q.sources.USER);else{const r=eg(this.quill.scroll,e.delta);this.quill.setSelection(r,q.sources.USER)}}}U(Al,"DEFAULTS",{delay:1e3,maxStack:100,userOnly:!1});function fa(n,t){let e=t;for(let r=n.length-1;r>=0;r-=1){const s=n[r];n[r]={delta:e.transform(s.delta,!0),range:s.range&&Si(s.range,e)},e=s.delta.transform(e),n[r].delta.length()===0&&n.splice(r,1)}}function tg(n,t){const e=t.ops[t.ops.length-1];return e==null?!1:e.insert!=null?typeof e.insert=="string"&&e.insert.endsWith(`
`):e.attributes!=null?Object.keys(e.attributes).some(r=>n.query(r,X.BLOCK)!=null):!1}function eg(n,t){const e=t.reduce((s,i)=>s+(i.delete||0),0);let r=t.length()-e;return tg(n,t)&&(r-=1),r}function Si(n,t){if(!n)return n;const e=t.transformPosition(n.index),r=t.transformPosition(n.index+n.length);return{index:e,length:r-e}}class El extends ce{constructor(t,e){super(t,e),t.root.addEventListener("drop",r=>{var o;r.preventDefault();let s=null;if(document.caretRangeFromPoint)s=document.caretRangeFromPoint(r.clientX,r.clientY);else if(document.caretPositionFromPoint){const a=document.caretPositionFromPoint(r.clientX,r.clientY);s=document.createRange(),s.setStart(a.offsetNode,a.offset),s.setEnd(a.offsetNode,a.offset)}const i=s&&t.selection.normalizeNative(s);if(i){const a=t.selection.normalizedToRange(i);(o=r.dataTransfer)!=null&&o.files&&this.upload(a,r.dataTransfer.files)}})}upload(t,e){const r=[];Array.from(e).forEach(s=>{var i;s&&((i=this.options.mimetypes)!=null&&i.includes(s.type))&&r.push(s)}),r.length>0&&this.options.handler.call(this,t,r)}}El.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler(n,t){const e=t.map(r=>new Promise(s=>{const i=new FileReader;i.onload=o=>{s(o.target.result)},i.readAsDataURL(r)}));Promise.all(e).then(r=>{const s=r.reduce((i,o)=>i.insert({image:o}),new K().retain(n.index).delete(n.length));this.quill.updateContents(s,V.sources.USER),this.quill.setSelection(n.index+r.length,V.sources.SILENT)})}};const rg=["insertText","insertReplacementText"];class ng extends ce{constructor(t,e){super(t,e),t.root.addEventListener("beforeinput",r=>{this.handleBeforeInput(r)}),/Android/i.test(navigator.userAgent)||t.on(q.events.COMPOSITION_BEFORE_START,()=>{this.handleCompositionStart()})}deleteRange(t){uo({range:t,quill:this.quill})}replaceText(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(t.length===0)return!1;if(e){const r=this.quill.getFormat(t.index,1);this.deleteRange(t),this.quill.updateContents(new K().retain(t.index).insert(e,r),q.sources.USER)}else this.deleteRange(t);return this.quill.setSelection(t.index+e.length,0,q.sources.SILENT),!0}handleBeforeInput(t){if(this.quill.composition.isComposing||t.defaultPrevented||!rg.includes(t.inputType))return;const e=t.getTargetRanges?t.getTargetRanges()[0]:null;if(!e||e.collapsed===!0)return;const r=sg(t);if(r==null)return;const s=this.quill.selection.normalizeNative(e),i=s?this.quill.selection.normalizedToRange(s):null;i&&this.replaceText(i,r)&&t.preventDefault()}handleCompositionStart(){const t=this.quill.getSelection();t&&this.replaceText(t)}}function sg(n){var t;return typeof n.data=="string"?n.data:(t=n.dataTransfer)!=null&&t.types.includes("text/plain")?n.dataTransfer.getData("text/plain"):null}const ig=/Mac/i.test(navigator.platform),og=100,ag=n=>!!(n.key==="ArrowLeft"||n.key==="ArrowRight"||n.key==="ArrowUp"||n.key==="ArrowDown"||n.key==="Home"||ig&&n.key==="a"&&n.ctrlKey===!0);class lg extends ce{constructor(e,r){super(e,r);U(this,"isListening",!1);U(this,"selectionChangeDeadline",0);this.handleArrowKeys(),this.handleNavigationShortcuts()}handleArrowKeys(){this.quill.keyboard.addBinding({key:["ArrowLeft","ArrowRight"],offset:0,shiftKey:null,handler(e,r){let{line:s,event:i}=r;if(!(s instanceof ie)||!s.uiNode)return!0;const o=getComputedStyle(s.domNode).direction==="rtl";return o&&i.key!=="ArrowRight"||!o&&i.key!=="ArrowLeft"?!0:(this.quill.setSelection(e.index-1,e.length+(i.shiftKey?1:0),q.sources.USER),!1)}})}handleNavigationShortcuts(){this.quill.root.addEventListener("keydown",e=>{!e.defaultPrevented&&ag(e)&&this.ensureListeningToSelectionChange()})}ensureListeningToSelectionChange(){if(this.selectionChangeDeadline=Date.now()+og,this.isListening)return;this.isListening=!0;const e=()=>{this.isListening=!1,Date.now()<=this.selectionChangeDeadline&&this.handleSelectionChange()};document.addEventListener("selectionchange",e,{once:!0})}handleSelectionChange(){const e=document.getSelection();if(!e)return;const r=e.getRangeAt(0);if(r.collapsed!==!0||r.startOffset!==0)return;const s=this.quill.scroll.find(r.startContainer);if(!(s instanceof ie)||!s.uiNode)return;const i=document.createRange();i.setStartAfter(s.uiNode),i.setEndAfter(s.uiNode),e.removeAllRanges(),e.addRange(i)}}q.register({"blots/block":Lt,"blots/block/embed":Zt,"blots/break":le,"blots/container":er,"blots/cursor":Or,"blots/embed":so,"blots/inline":ve,"blots/scroll":xr,"blots/text":oe,"modules/clipboard":wl,"modules/history":Al,"modules/keyboard":cs,"modules/uploader":El,"modules/input":ng,"modules/uiNode":lg});class cg extends ae{add(t,e){let r=0;if(e==="+1"||e==="-1"){const s=this.value(t)||0;r=e==="+1"?s+1:s-1}else typeof e=="number"&&(r=e);return r===0?(this.remove(t),!0):super.add(t,r.toString())}canAdd(t,e){return super.canAdd(t,e)||super.canAdd(t,parseInt(e,10))}value(t){return parseInt(super.value(t),10)||void 0}}const ug=new cg("indent","ql-indent",{scope:X.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});class ki extends Lt{}U(ki,"blotName","blockquote"),U(ki,"tagName","blockquote");class Ci extends Lt{static formats(t){return this.tagName.indexOf(t.tagName)+1}}U(Ci,"blotName","header"),U(Ci,"tagName",["H1","H2","H3","H4","H5","H6"]);class dn extends er{}dn.blotName="list-container";dn.tagName="OL";class pn extends Lt{static create(t){const e=super.create();return e.setAttribute("data-list",t),e}static formats(t){return t.getAttribute("data-list")||void 0}static register(){q.register(dn)}constructor(t,e){super(t,e);const r=e.ownerDocument.createElement("span"),s=i=>{if(!t.isEnabled())return;const o=this.statics.formats(e,t);o==="checked"?(this.format("list","unchecked"),i.preventDefault()):o==="unchecked"&&(this.format("list","checked"),i.preventDefault())};r.addEventListener("mousedown",s),r.addEventListener("touchstart",s),this.attachUI(r)}format(t,e){t===this.statics.blotName&&e?this.domNode.setAttribute("data-list",e):super.format(t,e)}}pn.blotName="list";pn.tagName="LI";dn.allowedChildren=[pn];pn.requiredContainer=dn;class an extends ve{static create(){return super.create()}static formats(){return!0}optimize(t){super.optimize(t),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}U(an,"blotName","bold"),U(an,"tagName",["STRONG","B"]);class Li extends an{}U(Li,"blotName","italic"),U(Li,"tagName",["EM","I"]);class Me extends ve{static create(t){const e=super.create(t);return e.setAttribute("href",this.sanitize(t)),e.setAttribute("rel","noopener noreferrer"),e.setAttribute("target","_blank"),e}static formats(t){return t.getAttribute("href")}static sanitize(t){return _l(t,this.PROTOCOL_WHITELIST)?t:this.SANITIZED_URL}format(t,e){t!==this.statics.blotName||!e?super.format(t,e):this.domNode.setAttribute("href",this.constructor.sanitize(e))}}U(Me,"blotName","link"),U(Me,"tagName","A"),U(Me,"SANITIZED_URL","about:blank"),U(Me,"PROTOCOL_WHITELIST",["http","https","mailto","tel","sms"]);function _l(n,t){const e=document.createElement("a");e.href=n;const r=e.href.slice(0,e.href.indexOf(":"));return t.indexOf(r)>-1}class qi extends ve{static create(t){return t==="super"?document.createElement("sup"):t==="sub"?document.createElement("sub"):super.create(t)}static formats(t){if(t.tagName==="SUB")return"sub";if(t.tagName==="SUP")return"super"}}U(qi,"blotName","script"),U(qi,"tagName",["SUB","SUP"]);class Ii extends an{}U(Ii,"blotName","strike"),U(Ii,"tagName",["S","STRIKE"]);class ji extends ve{}U(ji,"blotName","underline"),U(ji,"tagName","U");class Fn extends so{static create(t){if(window.katex==null)throw new Error("Formula module requires KaTeX.");const e=super.create(t);return typeof t=="string"&&(window.katex.render(t,e,{throwOnError:!1,errorColor:"#f00"}),e.setAttribute("data-value",t)),e}static value(t){return t.getAttribute("data-value")}html(){const{formula:t}=this.value();return`<span>${t}</span>`}}U(Fn,"blotName","formula"),U(Fn,"className","ql-formula"),U(Fn,"tagName","SPAN");const da=["alt","height","width"];class Ri extends zt{static create(t){const e=super.create(t);return typeof t=="string"&&e.setAttribute("src",this.sanitize(t)),e}static formats(t){return da.reduce((e,r)=>(t.hasAttribute(r)&&(e[r]=t.getAttribute(r)),e),{})}static match(t){return/\.(jpe?g|gif|png)$/.test(t)||/^data:image\/.+;base64/.test(t)}static sanitize(t){return _l(t,["http","https","data"])?t:"//:0"}static value(t){return t.getAttribute("src")}format(t,e){da.indexOf(t)>-1?e?this.domNode.setAttribute(t,e):this.domNode.removeAttribute(t):super.format(t,e)}}U(Ri,"blotName","image"),U(Ri,"tagName","IMG");const pa=["height","width"];class Hn extends Zt{static create(t){const e=super.create(t);return e.setAttribute("frameborder","0"),e.setAttribute("allowfullscreen","true"),e.setAttribute("src",this.sanitize(t)),e}static formats(t){return pa.reduce((e,r)=>(t.hasAttribute(r)&&(e[r]=t.getAttribute(r)),e),{})}static sanitize(t){return Me.sanitize(t)}static value(t){return t.getAttribute("src")}format(t,e){pa.indexOf(t)>-1?e?this.domNode.setAttribute(t,e):this.domNode.removeAttribute(t):super.format(t,e)}html(){const{video:t}=this.value();return`<a href="${t}">${t}</a>`}}U(Hn,"blotName","video"),U(Hn,"className","ql-video"),U(Hn,"tagName","IFRAME");const Wr=new ae("code-token","hljs",{scope:X.INLINE});class Oe extends ve{static formats(t,e){for(;t!=null&&t!==e.domNode;){if(t.classList&&t.classList.contains(Mt.className))return super.formats(t,e);t=t.parentNode}}constructor(t,e,r){super(t,e,r),Wr.add(this.domNode,r)}format(t,e){t!==Oe.blotName?super.format(t,e):e?Wr.add(this.domNode,e):(Wr.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}optimize(){super.optimize(...arguments),Wr.value(this.domNode)||this.unwrap()}}Oe.blotName="code-token";Oe.className="ql-token";class Wt extends Mt{static create(t){const e=super.create(t);return typeof t=="string"&&e.setAttribute("data-language",t),e}static formats(t){return t.getAttribute("data-language")||"plain"}static register(){}format(t,e){t===this.statics.blotName&&e?this.domNode.setAttribute("data-language",e):super.format(t,e)}replaceWith(t,e){return this.formatAt(0,this.length(),Oe.blotName,!1),super.replaceWith(t,e)}}class Xr extends rr{attach(){super.attach(),this.forceNext=!1,this.scroll.emitMount(this)}format(t,e){t===Wt.blotName&&(this.forceNext=!0,this.children.forEach(r=>{r.format(t,e)}))}formatAt(t,e,r,s){r===Wt.blotName&&(this.forceNext=!0),super.formatAt(t,e,r,s)}highlight(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.children.head==null)return;const s=`${Array.from(this.domNode.childNodes).filter(o=>o!==this.uiNode).map(o=>o.textContent).join(`
`)}
`,i=Wt.formats(this.children.head.domNode);if(e||this.forceNext||this.cachedText!==s){if(s.trim().length>0||this.cachedText==null){const o=this.children.reduce((c,u)=>c.concat(ol(u,!1)),new K),a=t(s,i);o.diff(a).reduce((c,u)=>{let{retain:h,attributes:d}=u;return h?(d&&Object.keys(d).forEach(f=>{[Wt.blotName,Oe.blotName].includes(f)&&this.formatAt(c,h,f,d[f])}),c+h):c},0)}this.cachedText=s,this.forceNext=!1}}html(t,e){const[r]=this.children.find(t);return`<pre data-language="${r?Wt.formats(r.domNode):"plain"}">
${ls(this.code(t,e))}
</pre>`}optimize(t){if(super.optimize(t),this.parent!=null&&this.children.head!=null&&this.uiNode!=null){const e=Wt.formats(this.children.head.domNode);e!==this.uiNode.value&&(this.uiNode.value=e)}}}Xr.allowedChildren=[Wt];Wt.requiredContainer=Xr;Wt.allowedChildren=[Oe,Or,oe,le];const hg=(n,t,e)=>{if(typeof n.versionString=="string"){const r=n.versionString.split(".")[0];if(parseInt(r,10)>=11)return n.highlight(e,{language:t}).value}return n.highlight(t,e).value};class Nl extends ce{static register(){q.register(Oe,!0),q.register(Wt,!0),q.register(Xr,!0)}constructor(t,e){if(super(t,e),this.options.hljs==null)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");this.languages=this.options.languages.reduce((r,s)=>{let{key:i}=s;return r[i]=!0,r},{}),this.highlightBlot=this.highlightBlot.bind(this),this.initListener(),this.initTimer()}initListener(){this.quill.on(q.events.SCROLL_BLOT_MOUNT,t=>{if(!(t instanceof Xr))return;const e=this.quill.root.ownerDocument.createElement("select");this.options.languages.forEach(r=>{let{key:s,label:i}=r;const o=e.ownerDocument.createElement("option");o.textContent=i,o.setAttribute("value",s),e.appendChild(o)}),e.addEventListener("change",()=>{t.format(Wt.blotName,e.value),this.quill.root.focus(),this.highlight(t,!0)}),t.uiNode==null&&(t.attachUI(e),t.children.head&&(e.value=Wt.formats(t.children.head.domNode)))})}initTimer(){let t=null;this.quill.on(q.events.SCROLL_OPTIMIZE,()=>{t&&clearTimeout(t),t=setTimeout(()=>{this.highlight(),t=null},this.options.interval)})}highlight(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.quill.selection.composing)return;this.quill.update(q.sources.USER);const r=this.quill.getSelection();(t==null?this.quill.scroll.descendants(Xr):[t]).forEach(i=>{i.highlight(this.highlightBlot,e)}),this.quill.update(q.sources.SILENT),r!=null&&this.quill.setSelection(r,q.sources.SILENT)}highlightBlot(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"plain";if(e=this.languages[e]?e:"plain",e==="plain")return ls(t).split(`
`).reduce((s,i,o)=>(o!==0&&s.insert(`
`,{[Mt.blotName]:e}),s.insert(i)),new K);const r=this.quill.root.ownerDocument.createElement("div");return r.classList.add(Mt.className),r.innerHTML=hg(this.options.hljs,e,t),ho(this.quill.scroll,r,[(s,i)=>{const o=Wr.value(s);return o?i.compose(new K().retain(i.length(),{[Oe.blotName]:o})):i}],[(s,i)=>s.data.split(`
`).reduce((o,a,c)=>(c!==0&&o.insert(`
`,{[Mt.blotName]:e}),o.insert(a)),i)],new WeakMap)}}Nl.DEFAULTS={hljs:window.hljs,interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"JavaScript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]};const Jr=class Jr extends Lt{static create(t){const e=super.create();return t?e.setAttribute("data-row",t):e.setAttribute("data-row",fo()),e}static formats(t){if(t.hasAttribute("data-row"))return t.getAttribute("data-row")}cellOffset(){return this.parent?this.parent.children.indexOf(this):-1}format(t,e){t===Jr.blotName&&e?this.domNode.setAttribute("data-row",e):super.format(t,e)}row(){return this.parent}rowOffset(){return this.row()?this.row().rowOffset():-1}table(){return this.row()&&this.row().table()}};U(Jr,"blotName","table"),U(Jr,"tagName","TD");let se=Jr;class Se extends er{checkMerge(){if(super.checkMerge()&&this.next.children.head!=null){const t=this.children.head.formats(),e=this.children.tail.formats(),r=this.next.children.head.formats(),s=this.next.children.tail.formats();return t.table===e.table&&t.table===r.table&&t.table===s.table}return!1}optimize(t){super.optimize(t),this.children.forEach(e=>{if(e.next==null)return;const r=e.formats(),s=e.next.formats();if(r.table!==s.table){const i=this.splitAfter(e);i&&i.optimize(),this.prev&&this.prev.optimize()}})}rowOffset(){return this.parent?this.parent.children.indexOf(this):-1}table(){return this.parent&&this.parent.parent}}U(Se,"blotName","table-row"),U(Se,"tagName","TR");class ye extends er{}U(ye,"blotName","table-body"),U(ye,"tagName","TBODY");class kr extends er{balanceCells(){const t=this.descendants(Se),e=t.reduce((r,s)=>Math.max(s.children.length,r),0);t.forEach(r=>{new Array(e-r.children.length).fill(0).forEach(()=>{let s;r.children.head!=null&&(s=se.formats(r.children.head.domNode));const i=this.scroll.create(se.blotName,s);r.appendChild(i),i.optimize()})})}cells(t){return this.rows().map(e=>e.children.at(t))}deleteColumn(t){const[e]=this.descendant(ye);e==null||e.children.head==null||e.children.forEach(r=>{const s=r.children.at(t);s!=null&&s.remove()})}insertColumn(t){const[e]=this.descendant(ye);e==null||e.children.head==null||e.children.forEach(r=>{const s=r.children.at(t),i=se.formats(r.children.head.domNode),o=this.scroll.create(se.blotName,i);r.insertBefore(o,s)})}insertRow(t){const[e]=this.descendant(ye);if(e==null||e.children.head==null)return;const r=fo(),s=this.scroll.create(Se.blotName);e.children.head.children.forEach(()=>{const o=this.scroll.create(se.blotName,r);s.appendChild(o)});const i=e.children.at(t);e.insertBefore(s,i)}rows(){const t=this.children.head;return t==null?[]:t.children.map(e=>e)}}U(kr,"blotName","table-container"),U(kr,"tagName","TABLE");kr.allowedChildren=[ye];ye.requiredContainer=kr;ye.allowedChildren=[Se];Se.requiredContainer=ye;Se.allowedChildren=[se];se.requiredContainer=Se;function fo(){return`row-${Math.random().toString(36).slice(2,6)}`}class fg extends ce{static register(){q.register(se),q.register(Se),q.register(ye),q.register(kr)}constructor(){super(...arguments),this.listenBalanceCells()}balanceTables(){this.quill.scroll.descendants(kr).forEach(t=>{t.balanceCells()})}deleteColumn(){const[t,,e]=this.getTable();e!=null&&(t.deleteColumn(e.cellOffset()),this.quill.update(q.sources.USER))}deleteRow(){const[,t]=this.getTable();t!=null&&(t.remove(),this.quill.update(q.sources.USER))}deleteTable(){const[t]=this.getTable();if(t==null)return;const e=t.offset();t.remove(),this.quill.update(q.sources.USER),this.quill.setSelection(e,q.sources.SILENT)}getTable(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.quill.getSelection();if(t==null)return[null,null,null,-1];const[e,r]=this.quill.getLine(t.index);if(e==null||e.statics.blotName!==se.blotName)return[null,null,null,-1];const s=e.parent;return[s.parent.parent,s,e,r]}insertColumn(t){const e=this.quill.getSelection();if(!e)return;const[r,s,i]=this.getTable(e);if(i==null)return;const o=i.cellOffset();r.insertColumn(o+t),this.quill.update(q.sources.USER);let a=s.rowOffset();t===0&&(a+=1),this.quill.setSelection(e.index+a,e.length,q.sources.SILENT)}insertColumnLeft(){this.insertColumn(0)}insertColumnRight(){this.insertColumn(1)}insertRow(t){const e=this.quill.getSelection();if(!e)return;const[r,s,i]=this.getTable(e);if(i==null)return;const o=s.rowOffset();r.insertRow(o+t),this.quill.update(q.sources.USER),t>0?this.quill.setSelection(e,q.sources.SILENT):this.quill.setSelection(e.index+s.children.length,e.length,q.sources.SILENT)}insertRowAbove(){this.insertRow(0)}insertRowBelow(){this.insertRow(1)}insertTable(t,e){const r=this.quill.getSelection();if(r==null)return;const s=new Array(t).fill(0).reduce(i=>{const o=new Array(e).fill(`
`).join("");return i.insert(o,{table:fo()})},new K().retain(r.index));this.quill.updateContents(s,q.sources.USER),this.quill.setSelection(r.index,q.sources.SILENT),this.balanceTables()}listenBalanceCells(){this.quill.on(q.events.SCROLL_OPTIMIZE,t=>{t.some(e=>["TD","TR","TBODY","TABLE"].includes(e.target.tagName)?(this.quill.once(q.events.TEXT_CHANGE,(r,s,i)=>{i===q.sources.USER&&this.balanceTables()}),!0):!1)})}}const ga=Ce("quill:toolbar");class po extends ce{constructor(t,e){var r,s;if(super(t,e),Array.isArray(this.options.container)){const i=document.createElement("div");i.setAttribute("role","toolbar"),dg(i,this.options.container),(s=(r=t.container)==null?void 0:r.parentNode)==null||s.insertBefore(i,t.container),this.container=i}else typeof this.options.container=="string"?this.container=document.querySelector(this.options.container):this.container=this.options.container;if(!(this.container instanceof HTMLElement)){ga.error("Container required for toolbar",this.options);return}this.container.classList.add("ql-toolbar"),this.controls=[],this.handlers={},this.options.handlers&&Object.keys(this.options.handlers).forEach(i=>{var a;const o=(a=this.options.handlers)==null?void 0:a[i];o&&this.addHandler(i,o)}),Array.from(this.container.querySelectorAll("button, select")).forEach(i=>{this.attach(i)}),this.quill.on(q.events.EDITOR_CHANGE,()=>{const[i]=this.quill.selection.getRange();this.update(i)})}addHandler(t,e){this.handlers[t]=e}attach(t){let e=Array.from(t.classList).find(s=>s.indexOf("ql-")===0);if(!e)return;if(e=e.slice(3),t.tagName==="BUTTON"&&t.setAttribute("type","button"),this.handlers[e]==null&&this.quill.scroll.query(e)==null){ga.warn("ignoring attaching to nonexistent format",e,t);return}const r=t.tagName==="SELECT"?"change":"click";t.addEventListener(r,s=>{let i;if(t.tagName==="SELECT"){if(t.selectedIndex<0)return;const a=t.options[t.selectedIndex];a.hasAttribute("selected")?i=!1:i=a.value||!1}else t.classList.contains("ql-active")?i=!1:i=t.value||!t.hasAttribute("value"),s.preventDefault();this.quill.focus();const[o]=this.quill.selection.getRange();if(this.handlers[e]!=null)this.handlers[e].call(this,i);else if(this.quill.scroll.query(e).prototype instanceof zt){if(i=prompt(`Enter ${e}`),!i)return;this.quill.updateContents(new K().retain(o.index).delete(o.length).insert({[e]:i}),q.sources.USER)}else this.quill.format(e,i,q.sources.USER);this.update(o)}),this.controls.push([e,t])}update(t){const e=t==null?{}:this.quill.getFormat(t);this.controls.forEach(r=>{const[s,i]=r;if(i.tagName==="SELECT"){let o=null;if(t==null)o=null;else if(e[s]==null)o=i.querySelector("option[selected]");else if(!Array.isArray(e[s])){let a=e[s];typeof a=="string"&&(a=a.replace(/"/g,'\\"')),o=i.querySelector(`option[value="${a}"]`)}o==null?(i.value="",i.selectedIndex=-1):o.selected=!0}else if(t==null)i.classList.remove("ql-active"),i.setAttribute("aria-pressed","false");else if(i.hasAttribute("value")){const o=e[s],a=o===i.getAttribute("value")||o!=null&&o.toString()===i.getAttribute("value")||o==null&&!i.getAttribute("value");i.classList.toggle("ql-active",a),i.setAttribute("aria-pressed",a.toString())}else{const o=e[s]!=null;i.classList.toggle("ql-active",o),i.setAttribute("aria-pressed",o.toString())}})}}po.DEFAULTS={};function ma(n,t,e){const r=document.createElement("button");r.setAttribute("type","button"),r.classList.add(`ql-${t}`),r.setAttribute("aria-pressed","false"),e!=null?(r.value=e,r.setAttribute("aria-label",`${t}: ${e}`)):r.setAttribute("aria-label",t),n.appendChild(r)}function dg(n,t){Array.isArray(t[0])||(t=[t]),t.forEach(e=>{const r=document.createElement("span");r.classList.add("ql-formats"),e.forEach(s=>{if(typeof s=="string")ma(r,s);else{const i=Object.keys(s)[0],o=s[i];Array.isArray(o)?pg(r,i,o):ma(r,i,o)}}),n.appendChild(r)})}function pg(n,t,e){const r=document.createElement("select");r.classList.add(`ql-${t}`),e.forEach(s=>{const i=document.createElement("option");s!==!1?i.setAttribute("value",String(s)):i.setAttribute("selected","selected"),r.appendChild(i)}),n.appendChild(r)}po.DEFAULTS={container:null,handlers:{clean(){const n=this.quill.getSelection();if(n!=null)if(n.length===0){const t=this.quill.getFormat();Object.keys(t).forEach(e=>{this.quill.scroll.query(e,X.INLINE)!=null&&this.quill.format(e,!1,q.sources.USER)})}else this.quill.removeFormat(n,q.sources.USER)},direction(n){const{align:t}=this.quill.getFormat();n==="rtl"&&t==null?this.quill.format("align","right",q.sources.USER):!n&&t==="right"&&this.quill.format("align",!1,q.sources.USER),this.quill.format("direction",n,q.sources.USER)},indent(n){const t=this.quill.getSelection(),e=this.quill.getFormat(t),r=parseInt(e.indent||0,10);if(n==="+1"||n==="-1"){let s=n==="+1"?1:-1;e.direction==="rtl"&&(s*=-1),this.quill.format("indent",r+s,q.sources.USER)}},link(n){n===!0&&(n=prompt("Enter link URL:")),this.quill.format("link",n,q.sources.USER)},list(n){const t=this.quill.getSelection(),e=this.quill.getFormat(t);n==="check"?e.list==="checked"||e.list==="unchecked"?this.quill.format("list",!1,q.sources.USER):this.quill.format("list","unchecked",q.sources.USER):this.quill.format("list",n,q.sources.USER)}}};const gg='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"/></svg>',mg='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"/><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"/></svg>',yg='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"/></svg>',bg='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"/></svg>',vg='<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"/><rect height="1" width="1" x="4" y="4"/><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"/><rect height="1" width="1" x="2" y="6"/><rect height="1" width="1" x="3" y="5"/><rect height="1" width="1" x="4" y="7"/><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"/><rect height="1" width="1" x="2" y="12"/><rect height="1" width="1" x="2" y="9"/><rect height="1" width="1" x="2" y="15"/><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"/><rect height="1" width="1" x="3" y="8"/><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"/><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"/><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"/><rect height="1" width="1" x="12" y="2"/><rect height="1" width="1" x="11" y="3"/><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"/><rect height="1" width="1" x="2" y="3"/><rect height="1" width="1" x="6" y="2"/><rect height="1" width="1" x="3" y="2"/><rect height="1" width="1" x="5" y="3"/><rect height="1" width="1" x="9" y="2"/><rect height="1" width="1" x="15" y="14"/><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"/><rect height="1" width="1" x="13" y="7"/><rect height="1" width="1" x="15" y="5"/><rect height="1" width="1" x="14" y="6"/><rect height="1" width="1" x="15" y="8"/><rect height="1" width="1" x="14" y="9"/><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"/><rect height="1" width="1" x="14" y="3"/><polygon points="12 6.868 12 6 11.62 6 12 6.868"/><rect height="1" width="1" x="15" y="2"/><rect height="1" width="1" x="12" y="5"/><rect height="1" width="1" x="13" y="4"/><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"/><rect height="1" width="1" x="9" y="14"/><rect height="1" width="1" x="8" y="15"/><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"/><rect height="1" width="1" x="5" y="15"/><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"/><rect height="1" width="1" x="11" y="15"/><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"/><rect height="1" width="1" x="14" y="15"/><rect height="1" width="1" x="15" y="11"/></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"/></svg>',wg='<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"/><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"/><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"/><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"/></svg>',xg='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"/><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"/></svg>',Ag='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"/><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"/><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"/><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"/></svg>',ya='<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"/><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"/><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"/></svg>',Eg='<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"/><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"/></svg>',_g='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"/><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"/><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"/><rect class="ql-fill" height="11" width="1" x="11" y="4"/><rect class="ql-fill" height="11" width="1" x="13" y="4"/></svg>',Ng='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"/><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"/><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"/><rect class="ql-fill" height="11" width="1" x="5" y="4"/><rect class="ql-fill" height="11" width="1" x="7" y="4"/></svg>',Tg='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"/><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"/><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"/></svg>',Og='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"/></svg>',Sg='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',kg='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.65186,12.30664a2.6742,2.6742,0,0,1-2.915,2.68457,3.96592,3.96592,0,0,1-2.25537-.6709.56007.56007,0,0,1-.13232-.83594L11.64648,13c.209-.34082.48389-.36328.82471-.1543a2.32654,2.32654,0,0,0,1.12256.33008c.71484,0,1.12207-.35156,1.12207-.78125,0-.61523-.61621-.86816-1.46338-.86816H13.2085a.65159.65159,0,0,1-.68213-.41895l-.05518-.10937a.67114.67114,0,0,1,.14307-.78125l.71533-.86914a8.55289,8.55289,0,0,1,.68213-.7373V8.58887a3.93913,3.93913,0,0,1-.748.05469H11.9873a.54085.54085,0,0,1-.605-.60547V7.59863a.54085.54085,0,0,1,.605-.60547h3.75146a.53773.53773,0,0,1,.60547.59375v.17676a1.03723,1.03723,0,0,1-.27539.748L14.74854,10.0293A2.31132,2.31132,0,0,1,16.65186,12.30664ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',Cg='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm7.05371,7.96582v.38477c0,.39648-.165.60547-.46191.60547h-.47314v1.29785a.54085.54085,0,0,1-.605.60547h-.69336a.54085.54085,0,0,1-.605-.60547V12.95605H11.333a.5412.5412,0,0,1-.60547-.60547v-.15332a1.199,1.199,0,0,1,.22021-.748l2.56348-4.05957a.7819.7819,0,0,1,.72607-.39648h1.27637a.54085.54085,0,0,1,.605.60547v3.7627h.33008A.54055.54055,0,0,1,17.05371,11.96582ZM14.28125,8.7207h-.022a4.18969,4.18969,0,0,1-.38525.81348l-1.188,1.80469v.02246h1.5293V9.60059A7.04058,7.04058,0,0,1,14.28125,8.7207Z"/></svg>',Lg='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.74023,12.18555a2.75131,2.75131,0,0,1-2.91553,2.80566,3.908,3.908,0,0,1-2.25537-.68164.54809.54809,0,0,1-.13184-.8252L11.73438,13c.209-.34082.48389-.36328.8252-.1543a2.23757,2.23757,0,0,0,1.1001.33008,1.01827,1.01827,0,0,0,1.1001-.96777c0-.61621-.53906-.97949-1.25439-.97949a2.15554,2.15554,0,0,0-.64893.09961,1.15209,1.15209,0,0,1-.814.01074l-.12109-.04395a.64116.64116,0,0,1-.45117-.71484l.231-3.00391a.56666.56666,0,0,1,.62744-.583H15.541a.54085.54085,0,0,1,.605.60547v.43945a.54085.54085,0,0,1-.605.60547H13.41748l-.04395.72559a1.29306,1.29306,0,0,1-.04395.30859h.022a2.39776,2.39776,0,0,1,.57227-.07715A2.53266,2.53266,0,0,1,16.74023,12.18555ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',qg='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M14.51758,9.64453a1.85627,1.85627,0,0,0-1.24316.38477H13.252a1.73532,1.73532,0,0,1,1.72754-1.4082,2.66491,2.66491,0,0,1,.5498.06641c.35254.05469.57227.01074.70508-.40723l.16406-.5166a.53393.53393,0,0,0-.373-.75977,4.83723,4.83723,0,0,0-1.17773-.14258c-2.43164,0-3.7627,2.17773-3.7627,4.43359,0,2.47559,1.60645,3.69629,3.19043,3.69629A2.70585,2.70585,0,0,0,16.96,12.19727,2.43861,2.43861,0,0,0,14.51758,9.64453Zm-.23047,3.58691c-.67187,0-1.22168-.81445-1.22168-1.45215,0-.47363.30762-.583.72559-.583.96875,0,1.27734.59375,1.27734,1.12207A.82182.82182,0,0,1,14.28711,13.23145ZM10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Z"/></svg>',Ig='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"/><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"/><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"/></svg>',jg='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"/><circle class="ql-fill" cx="6" cy="7" r="1"/><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"/></svg>',Rg='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"/></svg>',Pg='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"/></svg>',Mg='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"/><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"/><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"/></svg>',$g='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"/><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"/></svg>',Bg='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"/><polyline class="ql-stroke" points="3 4 4 5 6 3"/><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"/><polyline class="ql-stroke" points="3 14 4 15 6 13"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="3 9 4 10 6 8"/></svg>',Dg='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"/><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"/><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"/><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"/><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"/></svg>',Ug='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"/><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"/></svg>',Fg='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"/><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"/></svg>',Hg='<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"/><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"/><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"/></svg>',zg='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="2" width="3" x="5" y="5"/><rect class="ql-fill" height="2" width="4" x="9" y="5"/><g class="ql-fill ql-transparent"><rect height="2" width="3" x="5" y="8"/><rect height="2" width="4" x="9" y="8"/><rect height="2" width="3" x="5" y="11"/><rect height="2" width="4" x="9" y="11"/></g></svg>',Vg='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"/></svg>',Gg='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="12" width="1" x="5" y="3"/><rect class="ql-fill" height="12" width="1" x="12" y="3"/><rect class="ql-fill" height="2" width="8" x="5" y="8"/><rect class="ql-fill" height="1" width="3" x="3" y="5"/><rect class="ql-fill" height="1" width="3" x="3" y="7"/><rect class="ql-fill" height="1" width="3" x="3" y="10"/><rect class="ql-fill" height="1" width="3" x="3" y="12"/><rect class="ql-fill" height="1" width="3" x="12" y="5"/><rect class="ql-fill" height="1" width="3" x="12" y="7"/><rect class="ql-fill" height="1" width="3" x="12" y="10"/><rect class="ql-fill" height="1" width="3" x="12" y="12"/></svg>',ln={align:{"":gg,center:mg,right:yg,justify:bg},background:vg,blockquote:wg,bold:xg,clean:Ag,code:ya,"code-block":ya,color:Eg,direction:{"":_g,rtl:Ng},formula:Tg,header:{1:Og,2:Sg,3:kg,4:Cg,5:Lg,6:qg},italic:Ig,image:jg,indent:{"+1":Rg,"-1":Pg},link:Mg,list:{bullet:$g,check:Bg,ordered:Dg},script:{sub:Ug,super:Fg},strike:Hg,table:zg,underline:Vg,video:Gg},Kg='<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"/><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"/></svg>';let ba=0;function va(n,t){n.setAttribute(t,`${n.getAttribute(t)!=="true"}`)}class us{constructor(t){this.select=t,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",()=>{this.togglePicker()}),this.label.addEventListener("keydown",e=>{switch(e.key){case"Enter":this.togglePicker();break;case"Escape":this.escape(),e.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}togglePicker(){this.container.classList.toggle("ql-expanded"),va(this.label,"aria-expanded"),va(this.options,"aria-hidden")}buildItem(t){const e=document.createElement("span");e.tabIndex="0",e.setAttribute("role","button"),e.classList.add("ql-picker-item");const r=t.getAttribute("value");return r&&e.setAttribute("data-value",r),t.textContent&&e.setAttribute("data-label",t.textContent),e.addEventListener("click",()=>{this.selectItem(e,!0)}),e.addEventListener("keydown",s=>{switch(s.key){case"Enter":this.selectItem(e,!0),s.preventDefault();break;case"Escape":this.escape(),s.preventDefault();break}}),e}buildLabel(){const t=document.createElement("span");return t.classList.add("ql-picker-label"),t.innerHTML=Kg,t.tabIndex="0",t.setAttribute("role","button"),t.setAttribute("aria-expanded","false"),this.container.appendChild(t),t}buildOptions(){const t=document.createElement("span");t.classList.add("ql-picker-options"),t.setAttribute("aria-hidden","true"),t.tabIndex="-1",t.id=`ql-picker-options-${ba}`,ba+=1,this.label.setAttribute("aria-controls",t.id),this.options=t,Array.from(this.select.options).forEach(e=>{const r=this.buildItem(e);t.appendChild(r),e.selected===!0&&this.selectItem(r)}),this.container.appendChild(t)}buildPicker(){Array.from(this.select.attributes).forEach(t=>{this.container.setAttribute(t.name,t.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}escape(){this.close(),setTimeout(()=>this.label.focus(),1)}close(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}selectItem(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const r=this.container.querySelector(".ql-selected");t!==r&&(r!=null&&r.classList.remove("ql-selected"),t!=null&&(t.classList.add("ql-selected"),this.select.selectedIndex=Array.from(t.parentNode.children).indexOf(t),t.hasAttribute("data-value")?this.label.setAttribute("data-value",t.getAttribute("data-value")):this.label.removeAttribute("data-value"),t.hasAttribute("data-label")?this.label.setAttribute("data-label",t.getAttribute("data-label")):this.label.removeAttribute("data-label"),e&&(this.select.dispatchEvent(new Event("change")),this.close())))}update(){let t;if(this.select.selectedIndex>-1){const r=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];t=this.select.options[this.select.selectedIndex],this.selectItem(r)}else this.selectItem(null);const e=t!=null&&t!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",e)}}class Tl extends us{constructor(t,e){super(t),this.label.innerHTML=e,this.container.classList.add("ql-color-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).slice(0,7).forEach(r=>{r.classList.add("ql-primary")})}buildItem(t){const e=super.buildItem(t);return e.style.backgroundColor=t.getAttribute("value")||"",e}selectItem(t,e){super.selectItem(t,e);const r=this.label.querySelector(".ql-color-label"),s=t&&t.getAttribute("data-value")||"";r&&(r.tagName==="line"?r.style.stroke=s:r.style.fill=s)}}class Ol extends us{constructor(t,e){super(t),this.container.classList.add("ql-icon-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).forEach(r=>{r.innerHTML=e[r.getAttribute("data-value")||""]}),this.defaultItem=this.container.querySelector(".ql-selected"),this.selectItem(this.defaultItem)}selectItem(t,e){super.selectItem(t,e);const r=t||this.defaultItem;if(r!=null){if(this.label.innerHTML===r.innerHTML)return;this.label.innerHTML=r.innerHTML}}}const Wg=n=>{const{overflowY:t}=getComputedStyle(n,null);return t!=="visible"&&t!=="clip"};class Sl{constructor(t,e){this.quill=t,this.boundsContainer=e||document.body,this.root=t.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,Wg(this.quill.root)&&this.quill.root.addEventListener("scroll",()=>{this.root.style.marginTop=`${-1*this.quill.root.scrollTop}px`}),this.hide()}hide(){this.root.classList.add("ql-hidden")}position(t){const e=t.left+t.width/2-this.root.offsetWidth/2,r=t.bottom+this.quill.root.scrollTop;this.root.style.left=`${e}px`,this.root.style.top=`${r}px`,this.root.classList.remove("ql-flip");const s=this.boundsContainer.getBoundingClientRect(),i=this.root.getBoundingClientRect();let o=0;if(i.right>s.right&&(o=s.right-i.right,this.root.style.left=`${e+o}px`),i.left<s.left&&(o=s.left-i.left,this.root.style.left=`${e+o}px`),i.bottom>s.bottom){const a=i.bottom-i.top,c=t.bottom-t.top+a;this.root.style.top=`${r-c}px`,this.root.classList.add("ql-flip")}return o}show(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}const Zg=[!1,"center","right","justify"],Xg=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],Yg=[!1,"serif","monospace"],Jg=["1","2","3",!1],Qg=["small",!1,"large","huge"];class gn extends Sr{constructor(t,e){super(t,e);const r=s=>{if(!document.body.contains(t.root)){document.body.removeEventListener("click",r);return}this.tooltip!=null&&!this.tooltip.root.contains(s.target)&&document.activeElement!==this.tooltip.textbox&&!this.quill.hasFocus()&&this.tooltip.hide(),this.pickers!=null&&this.pickers.forEach(i=>{i.container.contains(s.target)||i.close()})};t.emitter.listenDOM("click",document.body,r)}addModule(t){const e=super.addModule(t);return t==="toolbar"&&this.extendToolbar(e),e}buildButtons(t,e){Array.from(t).forEach(r=>{(r.getAttribute("class")||"").split(/\s+/).forEach(i=>{if(i.startsWith("ql-")&&(i=i.slice(3),e[i]!=null))if(i==="direction")r.innerHTML=e[i][""]+e[i].rtl;else if(typeof e[i]=="string")r.innerHTML=e[i];else{const o=r.value||"";o!=null&&e[i][o]&&(r.innerHTML=e[i][o])}})})}buildPickers(t,e){this.pickers=Array.from(t).map(s=>{if(s.classList.contains("ql-align")&&(s.querySelector("option")==null&&Kr(s,Zg),typeof e.align=="object"))return new Ol(s,e.align);if(s.classList.contains("ql-background")||s.classList.contains("ql-color")){const i=s.classList.contains("ql-background")?"background":"color";return s.querySelector("option")==null&&Kr(s,Xg,i==="background"?"#ffffff":"#000000"),new Tl(s,e[i])}return s.querySelector("option")==null&&(s.classList.contains("ql-font")?Kr(s,Yg):s.classList.contains("ql-header")?Kr(s,Jg):s.classList.contains("ql-size")&&Kr(s,Qg)),new us(s)});const r=()=>{this.pickers.forEach(s=>{s.update()})};this.quill.on(V.events.EDITOR_CHANGE,r)}}gn.DEFAULTS=$e({},Sr.DEFAULTS,{modules:{toolbar:{handlers:{formula(){this.quill.theme.tooltip.edit("formula")},image(){let n=this.container.querySelector("input.ql-image[type=file]");n==null&&(n=document.createElement("input"),n.setAttribute("type","file"),n.setAttribute("accept",this.quill.uploader.options.mimetypes.join(", ")),n.classList.add("ql-image"),n.addEventListener("change",()=>{const t=this.quill.getSelection(!0);this.quill.uploader.upload(t,n.files),n.value=""}),this.container.appendChild(n)),n.click()},video(){this.quill.theme.tooltip.edit("video")}}}}});class kl extends Sl{constructor(t,e){super(t,e),this.textbox=this.root.querySelector('input[type="text"]'),this.listen()}listen(){this.textbox.addEventListener("keydown",t=>{t.key==="Enter"?(this.save(),t.preventDefault()):t.key==="Escape"&&(this.cancel(),t.preventDefault())})}cancel(){this.hide(),this.restoreFocus()}edit(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),this.textbox==null)return;e!=null?this.textbox.value=e:t!==this.root.getAttribute("data-mode")&&(this.textbox.value="");const r=this.quill.getBounds(this.quill.selection.savedRange);r!=null&&this.position(r),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute(`data-${t}`)||""),this.root.setAttribute("data-mode",t)}restoreFocus(){this.quill.focus({preventScroll:!0})}save(){let{value:t}=this.textbox;switch(this.root.getAttribute("data-mode")){case"link":{const{scrollTop:e}=this.quill.root;this.linkRange?(this.quill.formatText(this.linkRange,"link",t,V.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",t,V.sources.USER)),this.quill.root.scrollTop=e;break}case"video":t=t1(t);case"formula":{if(!t)break;const e=this.quill.getSelection(!0);if(e!=null){const r=e.index+e.length;this.quill.insertEmbed(r,this.root.getAttribute("data-mode"),t,V.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(r+1," ",V.sources.USER),this.quill.setSelection(r+2,V.sources.USER)}break}}this.textbox.value="",this.hide()}}function t1(n){let t=n.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||n.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return t?`${t[1]||"https"}://www.youtube.com/embed/${t[2]}?showinfo=0`:(t=n.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?`${t[1]||"https"}://player.vimeo.com/video/${t[2]}/`:n}function Kr(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;t.forEach(r=>{const s=document.createElement("option");r===e?s.setAttribute("selected","selected"):s.setAttribute("value",String(r)),n.appendChild(s)})}const e1=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]];class Cl extends kl{constructor(t,e){super(t,e),this.quill.on(V.events.EDITOR_CHANGE,(r,s,i,o)=>{if(r===V.events.SELECTION_CHANGE)if(s!=null&&s.length>0&&o===V.sources.USER){this.show(),this.root.style.left="0px",this.root.style.width="",this.root.style.width=`${this.root.offsetWidth}px`;const a=this.quill.getLines(s.index,s.length);if(a.length===1){const c=this.quill.getBounds(s);c!=null&&this.position(c)}else{const c=a[a.length-1],u=this.quill.getIndex(c),h=Math.min(c.length()-1,s.index+s.length-u),d=this.quill.getBounds(new Ye(u,h));d!=null&&this.position(d)}}else document.activeElement!==this.textbox&&this.quill.hasFocus()&&this.hide()})}listen(){super.listen(),this.root.querySelector(".ql-close").addEventListener("click",()=>{this.root.classList.remove("ql-editing")}),this.quill.on(V.events.SCROLL_OPTIMIZE,()=>{setTimeout(()=>{if(this.root.classList.contains("ql-hidden"))return;const t=this.quill.getSelection();if(t!=null){const e=this.quill.getBounds(t);e!=null&&this.position(e)}},1)})}cancel(){this.show()}position(t){const e=super.position(t),r=this.root.querySelector(".ql-tooltip-arrow");return r.style.marginLeft="",e!==0&&(r.style.marginLeft=`${-1*e-r.offsetWidth/2}px`),e}}U(Cl,"TEMPLATE",['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""));class Ll extends gn{constructor(t,e){e.modules.toolbar!=null&&e.modules.toolbar.container==null&&(e.modules.toolbar.container=e1),super(t,e),this.quill.container.classList.add("ql-bubble")}extendToolbar(t){this.tooltip=new Cl(this.quill,this.options.bounds),t.container!=null&&(this.tooltip.root.appendChild(t.container),this.buildButtons(t.container.querySelectorAll("button"),ln),this.buildPickers(t.container.querySelectorAll("select"),ln))}}Ll.DEFAULTS=$e({},gn.DEFAULTS,{modules:{toolbar:{handlers:{link(n){n?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});const r1=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]];class ql extends kl{constructor(){super(...arguments);U(this,"preview",this.root.querySelector("a.ql-preview"))}listen(){super.listen(),this.root.querySelector("a.ql-action").addEventListener("click",e=>{this.root.classList.contains("ql-editing")?this.save():this.edit("link",this.preview.textContent),e.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",e=>{if(this.linkRange!=null){const r=this.linkRange;this.restoreFocus(),this.quill.formatText(r,"link",!1,V.sources.USER),delete this.linkRange}e.preventDefault(),this.hide()}),this.quill.on(V.events.SELECTION_CHANGE,(e,r,s)=>{if(e!=null){if(e.length===0&&s===V.sources.USER){const[i,o]=this.quill.scroll.descendant(Me,e.index);if(i!=null){this.linkRange=new Ye(e.index-o,i.length());const a=Me.formats(i.domNode);this.preview.textContent=a,this.preview.setAttribute("href",a),this.show();const c=this.quill.getBounds(this.linkRange);c!=null&&this.position(c);return}}else delete this.linkRange;this.hide()}})}show(){super.show(),this.root.removeAttribute("data-mode")}}U(ql,"TEMPLATE",['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""));class Il extends gn{constructor(t,e){e.modules.toolbar!=null&&e.modules.toolbar.container==null&&(e.modules.toolbar.container=r1),super(t,e),this.quill.container.classList.add("ql-snow")}extendToolbar(t){t.container!=null&&(t.container.classList.add("ql-snow"),this.buildButtons(t.container.querySelectorAll("button"),ln),this.buildPickers(t.container.querySelectorAll("select"),ln),this.tooltip=new ql(this.quill,this.options.bounds),t.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"k",shortKey:!0},(e,r)=>{t.handlers.link.call(t,!r.format.link)}))}}Il.DEFAULTS=$e({},gn.DEFAULTS,{modules:{toolbar:{handlers:{link(n){if(n){const t=this.quill.getSelection();if(t==null||t.length===0)return;let e=this.quill.getText(t);/^\S+@\S+\.\S+$/.test(e)&&e.indexOf("mailto:")!==0&&(e=`mailto:${e}`);const{tooltip:r}=this.quill.theme;r.edit("link",e)}else this.quill.format("link",!1)}}}}});q.register({"attributors/attribute/direction":fl,"attributors/class/align":cl,"attributors/class/background":wp,"attributors/class/color":vp,"attributors/class/direction":dl,"attributors/class/font":ml,"attributors/class/size":bl,"attributors/style/align":ul,"attributors/style/background":ao,"attributors/style/color":oo,"attributors/style/direction":pl,"attributors/style/font":yl,"attributors/style/size":vl},!0);q.register({"formats/align":cl,"formats/direction":dl,"formats/indent":ug,"formats/background":ao,"formats/color":oo,"formats/font":ml,"formats/size":bl,"formats/blockquote":ki,"formats/code-block":Mt,"formats/header":Ci,"formats/list":pn,"formats/bold":an,"formats/code":lo,"formats/italic":Li,"formats/link":Me,"formats/script":qi,"formats/strike":Ii,"formats/underline":ji,"formats/formula":Fn,"formats/image":Ri,"formats/video":Hn,"modules/syntax":Nl,"modules/table":fg,"modules/toolbar":po,"themes/bubble":Ll,"themes/snow":Il,"ui/icons":ln,"ui/picker":us,"ui/icon-picker":Ol,"ui/color-picker":Tl,"ui/tooltip":Sl},!0);var jl={exports:{}};(function(n,t){(function(e,r){n.exports=r()})(window,function(){return function(e){var r={};function s(i){if(r[i])return r[i].exports;var o=r[i]={i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,s),o.l=!0,o.exports}return s.m=e,s.c=r,s.d=function(i,o,a){s.o(i,o)||Object.defineProperty(i,o,{enumerable:!0,get:a})},s.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},s.t=function(i,o){if(1&o&&(i=s(i)),8&o||4&o&&typeof i=="object"&&i&&i.__esModule)return i;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:i}),2&o&&typeof i!="string")for(var c in i)s.d(a,c,(function(u){return i[u]}).bind(null,c));return a},s.n=function(i){var o=i&&i.__esModule?function(){return i.default}:function(){return i};return s.d(o,"a",o),o},s.o=function(i,o){return Object.prototype.hasOwnProperty.call(i,o)},s.p="",s(s.s=17)}([function(e,r,s){var i=s(7),o=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",a=Object.prototype.toString,c=Array.prototype.concat,u=Object.defineProperty,h=s(25)(),d=u&&h,f=function(g,E,v,x){var w;(!(E in g)||typeof(w=x)=="function"&&a.call(w)==="[object Function]"&&x())&&(d?u(g,E,{configurable:!0,enumerable:!1,value:v,writable:!0}):g[E]=v)},p=function(g,E){var v=arguments.length>2?arguments[2]:{},x=i(E);o&&(x=c.call(x,Object.getOwnPropertySymbols(E)));for(var w=0;w<x.length;w+=1)f(g,x[w],E[x[w]],v[x[w]])};p.supportsDescriptors=!!d,e.exports=p},function(e,r,s){var i=s(9);e.exports=function(){return i()&&!!Symbol.toStringTag}},function(e,r,s){var i=SyntaxError,o=Function,a=TypeError,c=function(R){try{return o('"use strict"; return ('+R+").constructor;")()}catch{}},u=Object.getOwnPropertyDescriptor;if(u)try{u({},"")}catch{u=null}var h=function(){throw new a},d=u?function(){try{return h}catch{try{return u(arguments,"callee").get}catch{return h}}}():h,f=s(21)(),p=Object.getPrototypeOf||function(R){return R.__proto__},g={},E=typeof Uint8Array>"u"?void 0:p(Uint8Array),v={"%AggregateError%":typeof AggregateError>"u"?void 0:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?void 0:ArrayBuffer,"%ArrayIteratorPrototype%":f?p([][Symbol.iterator]()):void 0,"%AsyncFromSyncIteratorPrototype%":void 0,"%AsyncFunction%":g,"%AsyncGenerator%":g,"%AsyncGeneratorFunction%":g,"%AsyncIteratorPrototype%":g,"%Atomics%":typeof Atomics>"u"?void 0:Atomics,"%BigInt%":typeof BigInt>"u"?void 0:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?void 0:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?void 0:Float32Array,"%Float64Array%":typeof Float64Array>"u"?void 0:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?void 0:FinalizationRegistry,"%Function%":o,"%GeneratorFunction%":g,"%Int8Array%":typeof Int8Array>"u"?void 0:Int8Array,"%Int16Array%":typeof Int16Array>"u"?void 0:Int16Array,"%Int32Array%":typeof Int32Array>"u"?void 0:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":f?p(p([][Symbol.iterator]())):void 0,"%JSON%":typeof JSON=="object"?JSON:void 0,"%Map%":typeof Map>"u"?void 0:Map,"%MapIteratorPrototype%":typeof Map<"u"&&f?p(new Map()[Symbol.iterator]()):void 0,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?void 0:Promise,"%Proxy%":typeof Proxy>"u"?void 0:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?void 0:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?void 0:Set,"%SetIteratorPrototype%":typeof Set<"u"&&f?p(new Set()[Symbol.iterator]()):void 0,"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?void 0:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":f?p(""[Symbol.iterator]()):void 0,"%Symbol%":f?Symbol:void 0,"%SyntaxError%":i,"%ThrowTypeError%":d,"%TypedArray%":E,"%TypeError%":a,"%Uint8Array%":typeof Uint8Array>"u"?void 0:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?void 0:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?void 0:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?void 0:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?void 0:WeakMap,"%WeakRef%":typeof WeakRef>"u"?void 0:WeakRef,"%WeakSet%":typeof WeakSet>"u"?void 0:WeakSet},x={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},w=s(3),A=s(23),m=w.call(Function.call,Array.prototype.concat),_=w.call(Function.apply,Array.prototype.splice),b=w.call(Function.call,String.prototype.replace),S=w.call(Function.call,String.prototype.slice),N=w.call(Function.call,RegExp.prototype.exec),B=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Z=/\\(\\)?/g,I=function(R){var D=S(R,0,1),F=S(R,-1);if(D==="%"&&F!=="%")throw new i("invalid intrinsic syntax, expected closing `%`");if(F==="%"&&D!=="%")throw new i("invalid intrinsic syntax, expected opening `%`");var G=[];return b(R,B,function(W,z,H,P){G[G.length]=H?b(P,Z,"$1"):z||W}),G},k=function(R,D){var F,G=R;if(A(x,G)&&(G="%"+(F=x[G])[0]+"%"),A(v,G)){var W=v[G];if(W===g&&(W=function z(H){var P;if(H==="%AsyncFunction%")P=c("async function () {}");else if(H==="%GeneratorFunction%")P=c("function* () {}");else if(H==="%AsyncGeneratorFunction%")P=c("async function* () {}");else if(H==="%AsyncGenerator%"){var et=z("%AsyncGeneratorFunction%");et&&(P=et.prototype)}else if(H==="%AsyncIteratorPrototype%"){var J=z("%AsyncGenerator%");J&&(P=p(J.prototype))}return v[H]=P,P}(G)),W===void 0&&!D)throw new a("intrinsic "+R+" exists, but is not available. Please file an issue!");return{alias:F,name:G,value:W}}throw new i("intrinsic "+R+" does not exist!")};e.exports=function(R,D){if(typeof R!="string"||R.length===0)throw new a("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof D!="boolean")throw new a('"allowMissing" argument must be a boolean');if(N(/^%?[^%]*%?$/g,R)===null)throw new i("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var F=I(R),G=F.length>0?F[0]:"",W=k("%"+G+"%",D),z=W.name,H=W.value,P=!1,et=W.alias;et&&(G=et[0],_(F,m([0,1],et)));for(var J=1,$=!0;J<F.length;J+=1){var j=F[J],O=S(j,0,1),M=S(j,-1);if((O==='"'||O==="'"||O==="`"||M==='"'||M==="'"||M==="`")&&O!==M)throw new i("property names with quotes must have matching quotes");if(j!=="constructor"&&$||(P=!0),A(v,z="%"+(G+="."+j)+"%"))H=v[z];else if(H!=null){if(!(j in H)){if(!D)throw new a("base intrinsic for "+R+" exists, but the property is not available.");return}if(u&&J+1>=F.length){var rt=u(H,j);H=($=!!rt)&&"get"in rt&&!("originalValue"in rt.get)?rt.get:H[j]}else $=A(H,j),H=H[j];$&&!P&&(v[z]=H)}}return H}},function(e,r,s){var i=s(22);e.exports=Function.prototype.bind||i},function(e,r,s){var i=s(3),o=s(2),a=o("%Function.prototype.apply%"),c=o("%Function.prototype.call%"),u=o("%Reflect.apply%",!0)||i.call(c,a),h=o("%Object.getOwnPropertyDescriptor%",!0),d=o("%Object.defineProperty%",!0),f=o("%Math.max%");if(d)try{d({},"a",{value:1})}catch{d=null}e.exports=function(g){var E=u(i,c,arguments);if(h&&d){var v=h(E,"length");v.configurable&&d(E,"length",{value:1+f(0,g.length-(arguments.length-1))})}return E};var p=function(){return u(i,a,arguments)};d?d(e.exports,"apply",{value:p}):e.exports.apply=p},function(e,r,s){var i=s(18),o=s(6),a=s(15),c=s(32),u="\0",h=function(d){Array.isArray(d)?this.ops=d:d!=null&&Array.isArray(d.ops)?this.ops=d.ops:this.ops=[]};h.prototype.insert=function(d,f){var p={};return d.length===0?this:(p.insert=d,f!=null&&typeof f=="object"&&Object.keys(f).length>0&&(p.attributes=f),this.push(p))},h.prototype.delete=function(d){return d<=0?this:this.push({delete:d})},h.prototype.retain=function(d,f){if(d<=0)return this;var p={retain:d};return f!=null&&typeof f=="object"&&Object.keys(f).length>0&&(p.attributes=f),this.push(p)},h.prototype.push=function(d){var f=this.ops.length,p=this.ops[f-1];if(d=a(!0,{},d),typeof p=="object"){if(typeof d.delete=="number"&&typeof p.delete=="number")return this.ops[f-1]={delete:p.delete+d.delete},this;if(typeof p.delete=="number"&&d.insert!=null&&(f-=1,typeof(p=this.ops[f-1])!="object"))return this.ops.unshift(d),this;if(o(d.attributes,p.attributes)){if(typeof d.insert=="string"&&typeof p.insert=="string")return this.ops[f-1]={insert:p.insert+d.insert},typeof d.attributes=="object"&&(this.ops[f-1].attributes=d.attributes),this;if(typeof d.retain=="number"&&typeof p.retain=="number")return this.ops[f-1]={retain:p.retain+d.retain},typeof d.attributes=="object"&&(this.ops[f-1].attributes=d.attributes),this}}return f===this.ops.length?this.ops.push(d):this.ops.splice(f,0,d),this},h.prototype.chop=function(){var d=this.ops[this.ops.length-1];return d&&d.retain&&!d.attributes&&this.ops.pop(),this},h.prototype.filter=function(d){return this.ops.filter(d)},h.prototype.forEach=function(d){this.ops.forEach(d)},h.prototype.map=function(d){return this.ops.map(d)},h.prototype.partition=function(d){var f=[],p=[];return this.forEach(function(g){(d(g)?f:p).push(g)}),[f,p]},h.prototype.reduce=function(d,f){return this.ops.reduce(d,f)},h.prototype.changeLength=function(){return this.reduce(function(d,f){return f.insert?d+c.length(f):f.delete?d-f.delete:d},0)},h.prototype.length=function(){return this.reduce(function(d,f){return d+c.length(f)},0)},h.prototype.slice=function(d,f){d=d||0,typeof f!="number"&&(f=1/0);for(var p=[],g=c.iterator(this.ops),E=0;E<f&&g.hasNext();){var v;E<d?v=g.next(d-E):(v=g.next(f-E),p.push(v)),E+=c.length(v)}return new h(p)},h.prototype.compose=function(d){var f=c.iterator(this.ops),p=c.iterator(d.ops),g=[],E=p.peek();if(E!=null&&typeof E.retain=="number"&&E.attributes==null){for(var v=E.retain;f.peekType()==="insert"&&f.peekLength()<=v;)v-=f.peekLength(),g.push(f.next());E.retain-v>0&&p.next(E.retain-v)}for(var x=new h(g);f.hasNext()||p.hasNext();)if(p.peekType()==="insert")x.push(p.next());else if(f.peekType()==="delete")x.push(f.next());else{var w=Math.min(f.peekLength(),p.peekLength()),A=f.next(w),m=p.next(w);if(typeof m.retain=="number"){var _={};typeof A.retain=="number"?_.retain=w:_.insert=A.insert;var b=c.attributes.compose(A.attributes,m.attributes,typeof A.retain=="number");if(b&&(_.attributes=b),x.push(_),!p.hasNext()&&o(x.ops[x.ops.length-1],_)){var S=new h(f.rest());return x.concat(S).chop()}}else typeof m.delete=="number"&&typeof A.retain=="number"&&x.push(m)}return x.chop()},h.prototype.concat=function(d){var f=new h(this.ops.slice());return d.ops.length>0&&(f.push(d.ops[0]),f.ops=f.ops.concat(d.ops.slice(1))),f},h.prototype.diff=function(d,f){if(this.ops===d.ops)return new h;var p=[this,d].map(function(w){return w.map(function(A){if(A.insert!=null)return typeof A.insert=="string"?A.insert:u;throw new Error("diff() called "+(w===d?"on":"with")+" non-document")}).join("")}),g=new h,E=i(p[0],p[1],f),v=c.iterator(this.ops),x=c.iterator(d.ops);return E.forEach(function(w){for(var A=w[1].length;A>0;){var m=0;switch(w[0]){case i.INSERT:m=Math.min(x.peekLength(),A),g.push(x.next(m));break;case i.DELETE:m=Math.min(A,v.peekLength()),v.next(m),g.delete(m);break;case i.EQUAL:m=Math.min(v.peekLength(),x.peekLength(),A);var _=v.next(m),b=x.next(m);o(_.insert,b.insert)?g.retain(m,c.attributes.diff(_.attributes,b.attributes)):g.push(b).delete(m)}A-=m}}),g.chop()},h.prototype.eachLine=function(d,f){f=f||`
`;for(var p=c.iterator(this.ops),g=new h,E=0;p.hasNext();){if(p.peekType()!=="insert")return;var v=p.peek(),x=c.length(v)-p.peekLength(),w=typeof v.insert=="string"?v.insert.indexOf(f,x)-x:-1;if(w<0)g.push(p.next());else if(w>0)g.push(p.next(w));else{if(d(g,p.next(1).attributes||{},E)===!1)return;E+=1,g=new h}}g.length()>0&&d(g,{},E)},h.prototype.transform=function(d,f){if(f=!!f,typeof d=="number")return this.transformPosition(d,f);for(var p=c.iterator(this.ops),g=c.iterator(d.ops),E=new h;p.hasNext()||g.hasNext();)if(p.peekType()!=="insert"||!f&&g.peekType()==="insert")if(g.peekType()==="insert")E.push(g.next());else{var v=Math.min(p.peekLength(),g.peekLength()),x=p.next(v),w=g.next(v);if(x.delete)continue;w.delete?E.push(w):E.retain(v,c.attributes.transform(x.attributes,w.attributes,f))}else E.retain(c.length(p.next()));return E.chop()},h.prototype.transformPosition=function(d,f){f=!!f;for(var p=c.iterator(this.ops),g=0;p.hasNext()&&g<=d;){var E=p.peekLength(),v=p.peekType();p.next(),v!=="delete"?(v==="insert"&&(g<d||!f)&&(d+=E),g+=E):d-=Math.min(E,d-g)}return d},e.exports=h},function(e,r,s){var i=s(7),o=s(20),a=s(24),c=s(27),u=s(28),h=s(31),d=Date.prototype.getTime;function f(E,v,x){var w=x||{};return!!(w.strict?a(E,v):E===v)||(!E||!v||typeof E!="object"&&typeof v!="object"?w.strict?a(E,v):E==v:function(A,m,_){var b,S;if(typeof A!=typeof m||p(A)||p(m)||A.prototype!==m.prototype||o(A)!==o(m))return!1;var N=c(A),B=c(m);if(N!==B)return!1;if(N||B)return A.source===m.source&&u(A)===u(m);if(h(A)&&h(m))return d.call(A)===d.call(m);var Z=g(A),I=g(m);if(Z!==I)return!1;if(Z||I){if(A.length!==m.length)return!1;for(b=0;b<A.length;b++)if(A[b]!==m[b])return!1;return!0}if(typeof A!=typeof m)return!1;try{var k=i(A),R=i(m)}catch{return!1}if(k.length!==R.length)return!1;for(k.sort(),R.sort(),b=k.length-1;b>=0;b--)if(k[b]!=R[b])return!1;for(b=k.length-1;b>=0;b--)if(S=k[b],!f(A[S],m[S],_))return!1;return!0}(E,v,w))}function p(E){return E==null}function g(E){return!(!E||typeof E!="object"||typeof E.length!="number")&&typeof E.copy=="function"&&typeof E.slice=="function"&&!(E.length>0&&typeof E[0]!="number")}e.exports=f},function(e,r,s){var i=Array.prototype.slice,o=s(8),a=Object.keys,c=a?function(h){return a(h)}:s(19),u=Object.keys;c.shim=function(){return Object.keys?function(){var h=Object.keys(arguments);return h&&h.length===arguments.length}(1,2)||(Object.keys=function(h){return o(h)?u(i.call(h)):u(h)}):Object.keys=c,Object.keys||c},e.exports=c},function(e,r,s){var i=Object.prototype.toString;e.exports=function(o){var a=i.call(o),c=a==="[object Arguments]";return c||(c=a!=="[object Array]"&&o!==null&&typeof o=="object"&&typeof o.length=="number"&&o.length>=0&&i.call(o.callee)==="[object Function]"),c}},function(e,r,s){e.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var i={},o=Symbol("test"),a=Object(o);if(typeof o=="string"||Object.prototype.toString.call(o)!=="[object Symbol]"||Object.prototype.toString.call(a)!=="[object Symbol]")return!1;for(o in i[o]=42,i)return!1;if(typeof Object.keys=="function"&&Object.keys(i).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(i).length!==0)return!1;var c=Object.getOwnPropertySymbols(i);if(c.length!==1||c[0]!==o||!Object.prototype.propertyIsEnumerable.call(i,o))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var u=Object.getOwnPropertyDescriptor(i,o);if(u.value!==42||u.enumerable!==!0)return!1}return!0}},function(e,r,s){var i=s(2),o=s(4),a=o(i("String.prototype.indexOf"));e.exports=function(c,u){var h=i(c,!!u);return typeof h=="function"&&a(c,".prototype.")>-1?o(h):h}},function(e,r,s){var i=function(o){return o!=o};e.exports=function(o,a){return o===0&&a===0?1/o==1/a:o===a||!(!i(o)||!i(a))}},function(e,r,s){var i=s(11);e.exports=function(){return typeof Object.is=="function"?Object.is:i}},function(e,r,s){var i=s(29).functionsHaveConfigurableNames(),o=Object,a=TypeError;e.exports=function(){if(this!=null&&this!==o(this))throw new a("RegExp.prototype.flags getter called on non-object");var c="";return this.hasIndices&&(c+="d"),this.global&&(c+="g"),this.ignoreCase&&(c+="i"),this.multiline&&(c+="m"),this.dotAll&&(c+="s"),this.unicode&&(c+="u"),this.sticky&&(c+="y"),c},i&&Object.defineProperty&&Object.defineProperty(e.exports,"name",{value:"get flags"})},function(e,r,s){var i=s(13),o=s(0).supportsDescriptors,a=Object.getOwnPropertyDescriptor;e.exports=function(){if(o&&/a/gim.flags==="gim"){var c=a(RegExp.prototype,"flags");if(c&&typeof c.get=="function"&&typeof RegExp.prototype.dotAll=="boolean"&&typeof RegExp.prototype.hasIndices=="boolean"){var u="",h={};if(Object.defineProperty(h,"hasIndices",{get:function(){u+="d"}}),Object.defineProperty(h,"sticky",{get:function(){u+="y"}}),u==="dy")return c.get}}return i}},function(e,r,s){var i=Object.prototype.hasOwnProperty,o=Object.prototype.toString,a=Object.defineProperty,c=Object.getOwnPropertyDescriptor,u=function(p){return typeof Array.isArray=="function"?Array.isArray(p):o.call(p)==="[object Array]"},h=function(p){if(!p||o.call(p)!=="[object Object]")return!1;var g,E=i.call(p,"constructor"),v=p.constructor&&p.constructor.prototype&&i.call(p.constructor.prototype,"isPrototypeOf");if(p.constructor&&!E&&!v)return!1;for(g in p);return g===void 0||i.call(p,g)},d=function(p,g){a&&g.name==="__proto__"?a(p,g.name,{enumerable:!0,configurable:!0,value:g.newValue,writable:!0}):p[g.name]=g.newValue},f=function(p,g){if(g==="__proto__"){if(!i.call(p,g))return;if(c)return c(p,g).value}return p[g]};e.exports=function p(){var g,E,v,x,w,A,m=arguments[0],_=1,b=arguments.length,S=!1;for(typeof m=="boolean"&&(S=m,m=arguments[1]||{},_=2),(m==null||typeof m!="object"&&typeof m!="function")&&(m={});_<b;++_)if((g=arguments[_])!=null)for(E in g)v=f(m,E),m!==(x=f(g,E))&&(S&&x&&(h(x)||(w=u(x)))?(w?(w=!1,A=v&&u(v)?v:[]):A=v&&h(v)?v:{},d(m,{name:E,newValue:p(S,A,x)})):x!==void 0&&d(m,{name:E,newValue:x}));return m}},function(e,r,s){const i=typeof URL>"u"?s(33).URL:URL,o=(c,u)=>u.some(h=>h instanceof RegExp?h.test(c):h===c),a=(c,u)=>{if(u={defaultProtocol:"http:",normalizeProtocol:!0,forceHttp:!1,forceHttps:!1,stripAuthentication:!0,stripHash:!1,stripWWW:!0,removeQueryParameters:[/^utm_\w+/i],removeTrailingSlash:!0,removeDirectoryIndex:!1,sortQueryParameters:!0,...u},Reflect.has(u,"normalizeHttps"))throw new Error("options.normalizeHttps is renamed to options.forceHttp");if(Reflect.has(u,"normalizeHttp"))throw new Error("options.normalizeHttp is renamed to options.forceHttps");if(Reflect.has(u,"stripFragment"))throw new Error("options.stripFragment is renamed to options.stripHash");if(c=c.trim(),/^data:/i.test(c))return((f,{stripHash:p})=>{const g=f.match(/^data:([^,]*?),([^#]*?)(?:#(.*))?$/);if(!g)throw new Error("Invalid URL: "+f);const E=g[1].split(";"),v=g[2],x=p?"":g[3];let w=!1;E[E.length-1]==="base64"&&(E.pop(),w=!0);const A=(E.shift()||"").toLowerCase(),m=[...E.map(_=>{let[b,S=""]=_.split("=").map(N=>N.trim());return b==="charset"&&(S=S.toLowerCase(),S==="us-ascii")?"":`${b}${S?"="+S:""}`}).filter(Boolean)];return w&&m.push("base64"),(m.length!==0||A&&A!=="text/plain")&&m.unshift(A),`data:${m.join(";")},${w?v.trim():v}${x?"#"+x:""}`})(c,u);const h=c.startsWith("//");!h&&/^\.*\//.test(c)||(c=c.replace(/^(?!(?:\w+:)?\/\/)|^\/\//,u.defaultProtocol));const d=new i(c);if(u.forceHttp&&u.forceHttps)throw new Error("The `forceHttp` and `forceHttps` options cannot be used together");if(u.forceHttp&&d.protocol==="https:"&&(d.protocol="http:"),u.forceHttps&&d.protocol==="http:"&&(d.protocol="https:"),u.stripAuthentication&&(d.username="",d.password=""),u.stripHash&&(d.hash=""),d.pathname&&(d.pathname=d.pathname.replace(/((?!:).|^)\/{2,}/g,(f,p)=>/^(?!\/)/g.test(p)?p+"/":"/")),d.pathname&&(d.pathname=decodeURI(d.pathname)),u.removeDirectoryIndex===!0&&(u.removeDirectoryIndex=[/^index\.[a-z]+$/]),Array.isArray(u.removeDirectoryIndex)&&u.removeDirectoryIndex.length>0){let f=d.pathname.split("/");const p=f[f.length-1];o(p,u.removeDirectoryIndex)&&(f=f.slice(0,f.length-1),d.pathname=f.slice(1).join("/")+"/")}if(d.hostname&&(d.hostname=d.hostname.replace(/\.$/,""),u.stripWWW&&/^www\.([a-z\-\d]{2,63})\.([a-z.]{2,5})$/.test(d.hostname)&&(d.hostname=d.hostname.replace(/^www\./,""))),Array.isArray(u.removeQueryParameters))for(const f of[...d.searchParams.keys()])o(f,u.removeQueryParameters)&&d.searchParams.delete(f);return u.sortQueryParameters&&d.searchParams.sort(),u.removeTrailingSlash&&(d.pathname=d.pathname.replace(/\/$/,"")),c=d.toString(),!u.removeTrailingSlash&&d.pathname!=="/"||d.hash!==""||(c=c.replace(/\/$/,"")),h&&!u.normalizeProtocol&&(c=c.replace(/^http:\/\//,"//")),u.stripProtocol&&(c=c.replace(/^(?:https?:)?\/\//,"")),c};e.exports=a,e.exports.default=a},function(e,r,s){s.r(r),s.d(r,"default",function(){return v});var i=s(5),o=s.n(i),a=s(16),c=s.n(a);function u(x,w){return function(A){if(Array.isArray(A))return A}(x)||function(A,m){var _=A==null?null:typeof Symbol<"u"&&A[Symbol.iterator]||A["@@iterator"];if(_!=null){var b,S,N=[],B=!0,Z=!1;try{for(_=_.call(A);!(B=(b=_.next()).done)&&(N.push(b.value),!m||N.length!==m);B=!0);}catch(I){Z=!0,S=I}finally{try{B||_.return==null||_.return()}finally{if(Z)throw S}}return N}}(x,w)||function(A,m){if(A){if(typeof A=="string")return h(A,m);var _=Object.prototype.toString.call(A).slice(8,-1);if(_==="Object"&&A.constructor&&(_=A.constructor.name),_==="Map"||_==="Set")return Array.from(A);if(_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return h(A,m)}}(x,w)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function h(x,w){(w==null||w>x.length)&&(w=x.length);for(var A=0,m=new Array(w);A<w;A++)m[A]=x[A];return m}function d(x,w){var A=Object.keys(x);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(x);w&&(m=m.filter(function(_){return Object.getOwnPropertyDescriptor(x,_).enumerable})),A.push.apply(A,m)}return A}function f(x){for(var w=1;w<arguments.length;w++){var A=arguments[w]!=null?arguments[w]:{};w%2?d(Object(A),!0).forEach(function(m){p(x,m,A[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(x,Object.getOwnPropertyDescriptors(A)):d(Object(A)).forEach(function(m){Object.defineProperty(x,m,Object.getOwnPropertyDescriptor(A,m))})}return x}function p(x,w,A){return w in x?Object.defineProperty(x,w,{value:A,enumerable:!0,configurable:!0,writable:!0}):x[w]=A,x}function g(x,w){for(var A=0;A<w.length;A++){var m=w[A];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(x,m.key,m)}}var E={globalRegularExpression:/(https?:\/\/|www\.)[\w-\.]+\.[\w-\.]+(\/([\S]+)?)?/gi,urlRegularExpression:/(https?:\/\/|www\.)[\w-\.]+\.[\w-\.]+(\/([\S]+)?)?/gi,globalMailRegularExpression:/([\w-\.]+@[\w-\.]+\.[\w-\.]+)/gi,mailRegularExpression:/([\w-\.]+@[\w-\.]+\.[\w-\.]+)/gi,normalizeRegularExpression:/(https?:\/\/|www\.)[\S]+/i,normalizeUrlOptions:{stripWWW:!1}},v=function(){function x(m,_){var b=this;(function(S,N){if(!(S instanceof N))throw new TypeError("Cannot call a class as a function")})(this,x),this.quill=m,_=_||{},this.options=f(f({},E),_),this.urlNormalizer=function(S){return b.normalize(S)},this.mailNormalizer=function(S){return"mailto:".concat(S)},this.registerTypeListener(),this.registerPasteListener(),this.registerBlurListener()}var w,A;return w=x,(A=[{key:"registerPasteListener",value:function(){var m=this;this.quill.clipboard.addMatcher("A",function(_,b){var S,N=_.getAttribute("href"),B=(S=b.ops[0])===null||S===void 0?void 0:S.attributes;return(B==null?void 0:B.link)!=null&&(B.link=N),b}),this.quill.clipboard.addMatcher(Node.TEXT_NODE,function(_,b){if(typeof _.data=="string"){var S=m.options.globalRegularExpression,N=m.options.globalMailRegularExpression;S.lastIndex=0,N.lastIndex=0;for(var B=new o.a,Z=0,I=S.exec(_.data),k=N.exec(_.data),R=function(F,G,W){var z=_.data.substring(Z,F.index);B.insert(z);var H=F[0];return B.insert(H,{link:W(H)}),Z=G.lastIndex,G.exec(_.data)};I!==null||k!==null;)if(I===null)k=R(k,N,m.mailNormalizer);else if(k===null)I=R(I,S,m.urlNormalizer);else if(k.index<=I.index){for(;I!==null&&I.index<N.lastIndex;)I=S.exec(_.data);k=R(k,N,m.mailNormalizer)}else{for(;k!==null&&k.index<S.lastIndex;)k=N.exec(_.data);I=R(I,S,m.urlNormalizer)}if(Z>0){var D=_.data.substring(Z);B.insert(D),b.ops=B.ops}return b}})}},{key:"registerTypeListener",value:function(){var m=this;this.quill.on("text-change",function(_){var b=_.ops;if(!(!b||b.length<1||b.length>2)){var S=b[b.length-1];S.insert&&typeof S.insert=="string"&&S.insert.match(/\s/)&&m.checkTextForUrl(!!S.insert.match(/ |\t/))}})}},{key:"registerBlurListener",value:function(){var m=this;this.quill.root.addEventListener("blur",function(){m.checkTextForUrl()})}},{key:"checkTextForUrl",value:function(){var m=arguments.length>0&&arguments[0]!==void 0&&arguments[0],_=this.quill.getSelection();if(_){var b=this.quill.getLeaf(_.index),S=u(b,1),N=S[0],B=this.quill.getIndex(N);if(N.text){var Z=_.index-B,I=N.text.slice(0,Z);if(I&&N.parent.domNode.localName!=="a"){var k=N.text[Z];if(k==null||!k.match(/\S/)){var R=m?/\s\s$/:/\s$/;if(!I.match(R)){var D=I.match(this.options.urlRegularExpression),F=I.match(this.options.mailRegularExpression);D?this.handleMatches(B,I,D,this.urlNormalizer):F&&this.handleMatches(B,I,F,this.mailNormalizer)}}}}}}},{key:"handleMatches",value:function(m,_,b,S){var N=b.pop(),B=_.lastIndexOf(N);_.split(N).pop().match(/\S/)||this.updateText(m+B,N.trim(),S)}},{key:"updateText",value:function(m,_,b){var S=new o.a().retain(m).retain(_.length,{link:b(_)});this.quill.updateContents(S)}},{key:"normalize",value:function(m){if(this.options.normalizeRegularExpression.test(m))try{return c()(m,this.options.normalizeUrlOptions)}catch(_){console.error(_)}return m}}])&&g(w.prototype,A),Object.defineProperty(w,"prototype",{writable:!1}),x}();window!=null&&window.Quill&&window.Quill.register("modules/magicUrl",v)},function(e,r){function s(h,d,f){if(h==d)return h?[[0,h]]:[];(f<0||h.length<f)&&(f=null);var p=o(h,d),g=h.substring(0,p);p=a(h=h.substring(p),d=d.substring(p));var E=h.substring(h.length-p),v=function(x,w){var A;if(!x)return[[1,w]];if(!w)return[[-1,x]];var m=x.length>w.length?x:w,_=x.length>w.length?w:x,b=m.indexOf(_);if(b!=-1)return A=[[1,m.substring(0,b)],[0,_],[1,m.substring(b+_.length)]],x.length>w.length&&(A[0][0]=A[2][0]=-1),A;if(_.length==1)return[[-1,x],[1,w]];var S=function(F,G){var W=F.length>G.length?F:G,z=F.length>G.length?G:F;if(W.length<4||2*z.length<W.length)return null;function H(ft,mt,pt){for(var lt,bt,wt,vt,xt=ft.substring(pt,pt+Math.floor(ft.length/4)),ht=-1,yt="";(ht=mt.indexOf(xt,ht+1))!=-1;){var $t=o(ft.substring(pt),mt.substring(ht)),At=a(ft.substring(0,pt),mt.substring(0,ht));yt.length<At+$t&&(yt=mt.substring(ht-At,ht)+mt.substring(ht,ht+$t),lt=ft.substring(0,pt-At),bt=ft.substring(pt+$t),wt=mt.substring(0,ht-At),vt=mt.substring(ht+$t))}return 2*yt.length>=ft.length?[lt,bt,wt,vt,yt]:null}var P,et,J,$,j,O=H(W,z,Math.ceil(W.length/4)),M=H(W,z,Math.ceil(W.length/2));if(!O&&!M)return null;P=M?O&&O[4].length>M[4].length?O:M:O,F.length>G.length?(et=P[0],J=P[1],$=P[2],j=P[3]):($=P[0],j=P[1],et=P[2],J=P[3]);var rt=P[4];return[et,J,$,j,rt]}(x,w);if(S){var N=S[0],B=S[1],Z=S[2],I=S[3],k=S[4],R=s(N,Z),D=s(B,I);return R.concat([[0,k]],D)}return function(F,G){for(var W=F.length,z=G.length,H=Math.ceil((W+z)/2),P=H,et=2*H,J=new Array(et),$=new Array(et),j=0;j<et;j++)J[j]=-1,$[j]=-1;J[P+1]=0,$[P+1]=0;for(var O=W-z,M=O%2!=0,rt=0,ft=0,mt=0,pt=0,lt=0;lt<H;lt++){for(var bt=-lt+rt;bt<=lt-ft;bt+=2){for(var wt=P+bt,vt=(At=bt==-lt||bt!=lt&&J[wt-1]<J[wt+1]?J[wt+1]:J[wt-1]+1)-bt;At<W&&vt<z&&F.charAt(At)==G.charAt(vt);)At++,vt++;if(J[wt]=At,At>W)ft+=2;else if(vt>z)rt+=2;else if(M&&(yt=P+O-bt)>=0&&yt<et&&$[yt]!=-1){var xt=W-$[yt];if(At>=xt)return i(F,G,At,vt)}}for(var ht=-lt+mt;ht<=lt-pt;ht+=2){for(var yt=P+ht,$t=(xt=ht==-lt||ht!=lt&&$[yt-1]<$[yt+1]?$[yt+1]:$[yt-1]+1)-ht;xt<W&&$t<z&&F.charAt(W-xt-1)==G.charAt(z-$t-1);)xt++,$t++;if($[yt]=xt,xt>W)pt+=2;else if($t>z)mt+=2;else if(!M&&(wt=P+O-ht)>=0&&wt<et&&J[wt]!=-1){var At=J[wt];if(vt=P+At-wt,At>=(xt=W-xt))return i(F,G,At,vt)}}}return[[-1,F],[1,G]]}(x,w)}(h=h.substring(0,h.length-p),d=d.substring(0,d.length-p));return g&&v.unshift([0,g]),E&&v.push([0,E]),function x(w){w.push([0,""]);for(var A,m=0,_=0,b=0,S="",N="";m<w.length;)switch(w[m][0]){case 1:b++,N+=w[m][1],m++;break;case-1:_++,S+=w[m][1],m++;break;case 0:_+b>1?(_!==0&&b!==0&&((A=o(N,S))!==0&&(m-_-b>0&&w[m-_-b-1][0]==0?w[m-_-b-1][1]+=N.substring(0,A):(w.splice(0,0,[0,N.substring(0,A)]),m++),N=N.substring(A),S=S.substring(A)),(A=a(N,S))!==0&&(w[m][1]=N.substring(N.length-A)+w[m][1],N=N.substring(0,N.length-A),S=S.substring(0,S.length-A))),_===0?w.splice(m-b,_+b,[1,N]):b===0?w.splice(m-_,_+b,[-1,S]):w.splice(m-_-b,_+b,[-1,S],[1,N]),m=m-_-b+(_?1:0)+(b?1:0)+1):m!==0&&w[m-1][0]==0?(w[m-1][1]+=w[m][1],w.splice(m,1)):m++,b=0,_=0,S="",N=""}w[w.length-1][1]===""&&w.pop();var B=!1;for(m=1;m<w.length-1;)w[m-1][0]==0&&w[m+1][0]==0&&(w[m][1].substring(w[m][1].length-w[m-1][1].length)==w[m-1][1]?(w[m][1]=w[m-1][1]+w[m][1].substring(0,w[m][1].length-w[m-1][1].length),w[m+1][1]=w[m-1][1]+w[m+1][1],w.splice(m-1,1),B=!0):w[m][1].substring(0,w[m+1][1].length)==w[m+1][1]&&(w[m-1][1]+=w[m+1][1],w[m][1]=w[m][1].substring(w[m+1][1].length)+w[m+1][1],w.splice(m+1,1),B=!0)),m++;B&&x(w)}(v),f!=null&&(v=function(x,w){var A=function(B,Z){if(Z===0)return[0,B];for(var I=0,k=0;k<B.length;k++){var R=B[k];if(R[0]===-1||R[0]===0){var D=I+R[1].length;if(Z===D)return[k+1,B];if(Z<D){B=B.slice();var F=Z-I,G=[R[0],R[1].slice(0,F)],W=[R[0],R[1].slice(F)];return B.splice(k,1,G,W),[k+1,B]}I=D}}throw new Error("cursor_pos is out of bounds!")}(x,w),m=A[1],_=A[0],b=m[_],S=m[_+1];if(b==null||b[0]!==0)return x;if(S!=null&&b[1]+S[1]===S[1]+b[1])return m.splice(_,2,S,b),u(m,_,2);if(S!=null&&S[1].indexOf(b[1])===0){m.splice(_,2,[S[0],b[1]],[0,b[1]]);var N=S[1].slice(b[1].length);return N.length>0&&m.splice(_+2,0,[S[0],N]),u(m,_,3)}return x}(v,f)),v=function(x){for(var w=!1,A=function(S){return S.charCodeAt(0)>=56320&&S.charCodeAt(0)<=57343},m=2;m<x.length;m+=1)x[m-2][0]===0&&(_=x[m-2][1]).charCodeAt(_.length-1)>=55296&&_.charCodeAt(_.length-1)<=56319&&x[m-1][0]===-1&&A(x[m-1][1])&&x[m][0]===1&&A(x[m][1])&&(w=!0,x[m-1][1]=x[m-2][1].slice(-1)+x[m-1][1],x[m][1]=x[m-2][1].slice(-1)+x[m][1],x[m-2][1]=x[m-2][1].slice(0,-1));var _;if(!w)return x;var b=[];for(m=0;m<x.length;m+=1)x[m][1].length>0&&b.push(x[m]);return b}(v)}function i(h,d,f,p){var g=h.substring(0,f),E=d.substring(0,p),v=h.substring(f),x=d.substring(p),w=s(g,E),A=s(v,x);return w.concat(A)}function o(h,d){if(!h||!d||h.charAt(0)!=d.charAt(0))return 0;for(var f=0,p=Math.min(h.length,d.length),g=p,E=0;f<g;)h.substring(E,g)==d.substring(E,g)?E=f=g:p=g,g=Math.floor((p-f)/2+f);return g}function a(h,d){if(!h||!d||h.charAt(h.length-1)!=d.charAt(d.length-1))return 0;for(var f=0,p=Math.min(h.length,d.length),g=p,E=0;f<g;)h.substring(h.length-g,h.length-E)==d.substring(d.length-g,d.length-E)?E=f=g:p=g,g=Math.floor((p-f)/2+f);return g}var c=s;function u(h,d,f){for(var p=d+f-1;p>=0&&p>=d-1;p--)if(p+1<h.length){var g=h[p],E=h[p+1];g[0]===E[1]&&h.splice(p,2,[g[0],g[1]+E[1]])}return h}c.INSERT=1,c.DELETE=-1,c.EQUAL=0,e.exports=c},function(e,r,s){var i;if(!Object.keys){var o=Object.prototype.hasOwnProperty,a=Object.prototype.toString,c=s(8),u=Object.prototype.propertyIsEnumerable,h=!u.call({toString:null},"toString"),d=u.call(function(){},"prototype"),f=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],p=function(v){var x=v.constructor;return x&&x.prototype===v},g={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},E=function(){if(typeof window>"u")return!1;for(var v in window)try{if(!g["$"+v]&&o.call(window,v)&&window[v]!==null&&typeof window[v]=="object")try{p(window[v])}catch{return!0}}catch{return!0}return!1}();i=function(v){var x=v!==null&&typeof v=="object",w=a.call(v)==="[object Function]",A=c(v),m=x&&a.call(v)==="[object String]",_=[];if(!x&&!w&&!A)throw new TypeError("Object.keys called on a non-object");var b=d&&w;if(m&&v.length>0&&!o.call(v,0))for(var S=0;S<v.length;++S)_.push(String(S));if(A&&v.length>0)for(var N=0;N<v.length;++N)_.push(String(N));else for(var B in v)b&&B==="prototype"||!o.call(v,B)||_.push(String(B));if(h)for(var Z=function(k){if(typeof window>"u"||!E)return p(k);try{return p(k)}catch{return!1}}(v),I=0;I<f.length;++I)Z&&f[I]==="constructor"||!o.call(v,f[I])||_.push(f[I]);return _}}e.exports=i},function(e,r,s){var i=s(1)(),o=s(10)("Object.prototype.toString"),a=function(h){return!(i&&h&&typeof h=="object"&&Symbol.toStringTag in h)&&o(h)==="[object Arguments]"},c=function(h){return!!a(h)||h!==null&&typeof h=="object"&&typeof h.length=="number"&&h.length>=0&&o(h)!=="[object Array]"&&o(h.callee)==="[object Function]"},u=function(){return a(arguments)}();a.isLegacyArguments=c,e.exports=u?a:c},function(e,r,s){var i=typeof Symbol<"u"&&Symbol,o=s(9);e.exports=function(){return typeof i=="function"&&typeof Symbol=="function"&&typeof i("foo")=="symbol"&&typeof Symbol("bar")=="symbol"&&o()}},function(e,r,s){var i="Function.prototype.bind called on incompatible ",o=Array.prototype.slice,a=Object.prototype.toString;e.exports=function(c){var u=this;if(typeof u!="function"||a.call(u)!=="[object Function]")throw new TypeError(i+u);for(var h,d=o.call(arguments,1),f=function(){if(this instanceof h){var x=u.apply(this,d.concat(o.call(arguments)));return Object(x)===x?x:this}return u.apply(c,d.concat(o.call(arguments)))},p=Math.max(0,u.length-d.length),g=[],E=0;E<p;E++)g.push("$"+E);if(h=Function("binder","return function ("+g.join(",")+"){ return binder.apply(this,arguments); }")(f),u.prototype){var v=function(){};v.prototype=u.prototype,h.prototype=new v,v.prototype=null}return h}},function(e,r,s){var i=s(3);e.exports=i.call(Function.call,Object.prototype.hasOwnProperty)},function(e,r,s){var i=s(0),o=s(4),a=s(11),c=s(12),u=s(26),h=o(c(),Object);i(h,{getPolyfill:c,implementation:a,shim:u}),e.exports=h},function(e,r,s){var i=s(2)("%Object.defineProperty%",!0),o=function(){if(i)try{return i({},"a",{value:1}),!0}catch{return!1}return!1};o.hasArrayLengthDefineBug=function(){if(!o())return null;try{return i([],"length",{value:1}).length!==1}catch{return!0}},e.exports=o},function(e,r,s){var i=s(12),o=s(0);e.exports=function(){var a=i();return o(Object,{is:a},{is:function(){return Object.is!==a}}),a}},function(e,r,s){var i,o,a,c,u=s(10),h=s(1)();if(h){i=u("Object.prototype.hasOwnProperty"),o=u("RegExp.prototype.exec"),a={};var d=function(){throw a};c={toString:d,valueOf:d},typeof Symbol.toPrimitive=="symbol"&&(c[Symbol.toPrimitive]=d)}var f=u("Object.prototype.toString"),p=Object.getOwnPropertyDescriptor;e.exports=h?function(g){if(!g||typeof g!="object")return!1;var E=p(g,"lastIndex");if(!(E&&i(E,"value")))return!1;try{o(g,c)}catch(v){return v===a}}:function(g){return!(!g||typeof g!="object"&&typeof g!="function")&&f(g)==="[object RegExp]"}},function(e,r,s){var i=s(0),o=s(4),a=s(13),c=s(14),u=s(30),h=o(c());i(h,{getPolyfill:c,implementation:a,shim:u}),e.exports=h},function(e,r,s){var i=function(){return typeof(function(){}).name=="string"},o=Object.getOwnPropertyDescriptor;if(o)try{o([],"length")}catch{o=null}i.functionsHaveConfigurableNames=function(){if(!i()||!o)return!1;var c=o(function(){},"name");return!!c&&!!c.configurable};var a=Function.prototype.bind;i.boundFunctionsHaveNames=function(){return i()&&typeof a=="function"&&(function(){}).bind().name!==""},e.exports=i},function(e,r,s){var i=s(0).supportsDescriptors,o=s(14),a=Object.getOwnPropertyDescriptor,c=Object.defineProperty,u=TypeError,h=Object.getPrototypeOf,d=/a/;e.exports=function(){if(!i||!h)throw new u("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var f=o(),p=h(d),g=a(p,"flags");return g&&g.get===f||c(p,"flags",{configurable:!0,enumerable:!1,get:f}),f}},function(e,r,s){var i=Date.prototype.getDay,o=Object.prototype.toString,a=s(1)();e.exports=function(c){return typeof c=="object"&&c!==null&&(a?function(u){try{return i.call(u),!0}catch{return!1}}(c):o.call(c)==="[object Date]")}},function(e,r,s){var i=s(6),o=s(15),a={attributes:{compose:function(u,h,d){typeof u!="object"&&(u={}),typeof h!="object"&&(h={});var f=o(!0,{},h);for(var p in d||(f=Object.keys(f).reduce(function(g,E){return f[E]!=null&&(g[E]=f[E]),g},{})),u)u[p]!==void 0&&h[p]===void 0&&(f[p]=u[p]);return Object.keys(f).length>0?f:void 0},diff:function(u,h){typeof u!="object"&&(u={}),typeof h!="object"&&(h={});var d=Object.keys(u).concat(Object.keys(h)).reduce(function(f,p){return i(u[p],h[p])||(f[p]=h[p]===void 0?null:h[p]),f},{});return Object.keys(d).length>0?d:void 0},transform:function(u,h,d){if(typeof u!="object")return h;if(typeof h=="object"){if(!d)return h;var f=Object.keys(h).reduce(function(p,g){return u[g]===void 0&&(p[g]=h[g]),p},{});return Object.keys(f).length>0?f:void 0}}},iterator:function(u){return new c(u)},length:function(u){return typeof u.delete=="number"?u.delete:typeof u.retain=="number"?u.retain:typeof u.insert=="string"?u.insert.length:1}};function c(u){this.ops=u,this.index=0,this.offset=0}c.prototype.hasNext=function(){return this.peekLength()<1/0},c.prototype.next=function(u){u||(u=1/0);var h=this.ops[this.index];if(h){var d=this.offset,f=a.length(h);if(u>=f-d?(u=f-d,this.index+=1,this.offset=0):this.offset+=u,typeof h.delete=="number")return{delete:u};var p={};return h.attributes&&(p.attributes=h.attributes),typeof h.retain=="number"?p.retain=u:typeof h.insert=="string"?p.insert=h.insert.substr(d,u):p.insert=h.insert,p}return{retain:1/0}},c.prototype.peek=function(){return this.ops[this.index]},c.prototype.peekLength=function(){return this.ops[this.index]?a.length(this.ops[this.index])-this.offset:1/0},c.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},c.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var u=this.offset,h=this.index,d=this.next(),f=this.ops.slice(this.index);return this.offset=u,this.index=h,[d].concat(f)}return[]},e.exports=a},function(e,r,s){var i=s(34),o=s(37);function a(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}r.parse=_,r.resolve=function(b,S){return _(b,!1,!0).resolve(S)},r.resolveObject=function(b,S){return b?_(b,!1,!0).resolveObject(S):S},r.format=function(b){return o.isString(b)&&(b=_(b)),b instanceof a?b.format():a.prototype.format.call(b)},r.Url=a;var c=/^([a-z0-9.+-]+:)/i,u=/:[0-9]*$/,h=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,d=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r",`
`,"	"]),f=["'"].concat(d),p=["%","/","?",";","#"].concat(f),g=["/","?","#"],E=/^[+a-z0-9A-Z_-]{0,63}$/,v=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,x={javascript:!0,"javascript:":!0},w={javascript:!0,"javascript:":!0},A={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},m=s(38);function _(b,S,N){if(b&&o.isObject(b)&&b instanceof a)return b;var B=new a;return B.parse(b,S,N),B}a.prototype.parse=function(b,S,N){if(!o.isString(b))throw new TypeError("Parameter 'url' must be a string, not "+typeof b);var B=b.indexOf("?"),Z=B!==-1&&B<b.indexOf("#")?"?":"#",I=b.split(Z);I[0]=I[0].replace(/\\/g,"/");var k=b=I.join(Z);if(k=k.trim(),!N&&b.split("#").length===1){var R=h.exec(k);if(R)return this.path=k,this.href=k,this.pathname=R[1],R[2]?(this.search=R[2],this.query=S?m.parse(this.search.substr(1)):this.search.substr(1)):S&&(this.search="",this.query={}),this}var D=c.exec(k);if(D){var F=(D=D[0]).toLowerCase();this.protocol=F,k=k.substr(D.length)}if(N||D||k.match(/^\/\/[^@\/]+@[^@\/]+/)){var G=k.substr(0,2)==="//";!G||D&&w[D]||(k=k.substr(2),this.slashes=!0)}if(!w[D]&&(G||D&&!A[D])){for(var W,z,H=-1,P=0;P<g.length;P++)(et=k.indexOf(g[P]))!==-1&&(H===-1||et<H)&&(H=et);for((z=H===-1?k.lastIndexOf("@"):k.lastIndexOf("@",H))!==-1&&(W=k.slice(0,z),k=k.slice(z+1),this.auth=decodeURIComponent(W)),H=-1,P=0;P<p.length;P++){var et;(et=k.indexOf(p[P]))!==-1&&(H===-1||et<H)&&(H=et)}H===-1&&(H=k.length),this.host=k.slice(0,H),k=k.slice(H),this.parseHost(),this.hostname=this.hostname||"";var J=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!J)for(var $=this.hostname.split(/\./),j=(P=0,$.length);P<j;P++){var O=$[P];if(O&&!O.match(E)){for(var M="",rt=0,ft=O.length;rt<ft;rt++)O.charCodeAt(rt)>127?M+="x":M+=O[rt];if(!M.match(E)){var mt=$.slice(0,P),pt=$.slice(P+1),lt=O.match(v);lt&&(mt.push(lt[1]),pt.unshift(lt[2])),pt.length&&(k="/"+pt.join(".")+k),this.hostname=mt.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),J||(this.hostname=i.toASCII(this.hostname));var bt=this.port?":"+this.port:"",wt=this.hostname||"";this.host=wt+bt,this.href+=this.host,J&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),k[0]!=="/"&&(k="/"+k))}if(!x[F])for(P=0,j=f.length;P<j;P++){var vt=f[P];if(k.indexOf(vt)!==-1){var xt=encodeURIComponent(vt);xt===vt&&(xt=escape(vt)),k=k.split(vt).join(xt)}}var ht=k.indexOf("#");ht!==-1&&(this.hash=k.substr(ht),k=k.slice(0,ht));var yt=k.indexOf("?");if(yt!==-1?(this.search=k.substr(yt),this.query=k.substr(yt+1),S&&(this.query=m.parse(this.query)),k=k.slice(0,yt)):S&&(this.search="",this.query={}),k&&(this.pathname=k),A[F]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){bt=this.pathname||"";var $t=this.search||"";this.path=bt+$t}return this.href=this.format(),this},a.prototype.format=function(){var b=this.auth||"";b&&(b=(b=encodeURIComponent(b)).replace(/%3A/i,":"),b+="@");var S=this.protocol||"",N=this.pathname||"",B=this.hash||"",Z=!1,I="";this.host?Z=b+this.host:this.hostname&&(Z=b+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(Z+=":"+this.port)),this.query&&o.isObject(this.query)&&Object.keys(this.query).length&&(I=m.stringify(this.query));var k=this.search||I&&"?"+I||"";return S&&S.substr(-1)!==":"&&(S+=":"),this.slashes||(!S||A[S])&&Z!==!1?(Z="//"+(Z||""),N&&N.charAt(0)!=="/"&&(N="/"+N)):Z||(Z=""),B&&B.charAt(0)!=="#"&&(B="#"+B),k&&k.charAt(0)!=="?"&&(k="?"+k),S+Z+(N=N.replace(/[?#]/g,function(R){return encodeURIComponent(R)}))+(k=k.replace("#","%23"))+B},a.prototype.resolve=function(b){return this.resolveObject(_(b,!1,!0)).format()},a.prototype.resolveObject=function(b){if(o.isString(b)){var S=new a;S.parse(b,!1,!0),b=S}for(var N=new a,B=Object.keys(this),Z=0;Z<B.length;Z++){var I=B[Z];N[I]=this[I]}if(N.hash=b.hash,b.href==="")return N.href=N.format(),N;if(b.slashes&&!b.protocol){for(var k=Object.keys(b),R=0;R<k.length;R++){var D=k[R];D!=="protocol"&&(N[D]=b[D])}return A[N.protocol]&&N.hostname&&!N.pathname&&(N.path=N.pathname="/"),N.href=N.format(),N}if(b.protocol&&b.protocol!==N.protocol){if(!A[b.protocol]){for(var F=Object.keys(b),G=0;G<F.length;G++){var W=F[G];N[W]=b[W]}return N.href=N.format(),N}if(N.protocol=b.protocol,b.host||w[b.protocol])N.pathname=b.pathname;else{for(var z=(b.pathname||"").split("/");z.length&&!(b.host=z.shift()););b.host||(b.host=""),b.hostname||(b.hostname=""),z[0]!==""&&z.unshift(""),z.length<2&&z.unshift(""),N.pathname=z.join("/")}if(N.search=b.search,N.query=b.query,N.host=b.host||"",N.auth=b.auth,N.hostname=b.hostname||b.host,N.port=b.port,N.pathname||N.search){var H=N.pathname||"",P=N.search||"";N.path=H+P}return N.slashes=N.slashes||b.slashes,N.href=N.format(),N}var et=N.pathname&&N.pathname.charAt(0)==="/",J=b.host||b.pathname&&b.pathname.charAt(0)==="/",$=J||et||N.host&&b.pathname,j=$,O=N.pathname&&N.pathname.split("/")||[],M=(z=b.pathname&&b.pathname.split("/")||[],N.protocol&&!A[N.protocol]);if(M&&(N.hostname="",N.port=null,N.host&&(O[0]===""?O[0]=N.host:O.unshift(N.host)),N.host="",b.protocol&&(b.hostname=null,b.port=null,b.host&&(z[0]===""?z[0]=b.host:z.unshift(b.host)),b.host=null),$=$&&(z[0]===""||O[0]==="")),J)N.host=b.host||b.host===""?b.host:N.host,N.hostname=b.hostname||b.hostname===""?b.hostname:N.hostname,N.search=b.search,N.query=b.query,O=z;else if(z.length)O||(O=[]),O.pop(),O=O.concat(z),N.search=b.search,N.query=b.query;else if(!o.isNullOrUndefined(b.search))return M&&(N.hostname=N.host=O.shift(),(lt=!!(N.host&&N.host.indexOf("@")>0)&&N.host.split("@"))&&(N.auth=lt.shift(),N.host=N.hostname=lt.shift())),N.search=b.search,N.query=b.query,o.isNull(N.pathname)&&o.isNull(N.search)||(N.path=(N.pathname?N.pathname:"")+(N.search?N.search:"")),N.href=N.format(),N;if(!O.length)return N.pathname=null,N.search?N.path="/"+N.search:N.path=null,N.href=N.format(),N;for(var rt=O.slice(-1)[0],ft=(N.host||b.host||O.length>1)&&(rt==="."||rt==="..")||rt==="",mt=0,pt=O.length;pt>=0;pt--)(rt=O[pt])==="."?O.splice(pt,1):rt===".."?(O.splice(pt,1),mt++):mt&&(O.splice(pt,1),mt--);if(!$&&!j)for(;mt--;mt)O.unshift("..");!$||O[0]===""||O[0]&&O[0].charAt(0)==="/"||O.unshift(""),ft&&O.join("/").substr(-1)!=="/"&&O.push("");var lt,bt=O[0]===""||O[0]&&O[0].charAt(0)==="/";return M&&(N.hostname=N.host=bt?"":O.length?O.shift():"",(lt=!!(N.host&&N.host.indexOf("@")>0)&&N.host.split("@"))&&(N.auth=lt.shift(),N.host=N.hostname=lt.shift())),($=$||N.host&&O.length)&&!bt&&O.unshift(""),O.length?N.pathname=O.join("/"):(N.pathname=null,N.path=null),o.isNull(N.pathname)&&o.isNull(N.search)||(N.path=(N.pathname?N.pathname:"")+(N.search?N.search:"")),N.auth=b.auth||N.auth,N.slashes=N.slashes||b.slashes,N.href=N.format(),N},a.prototype.parseHost=function(){var b=this.host,S=u.exec(b);S&&((S=S[0])!==":"&&(this.port=S.substr(1)),b=b.substr(0,b.length-S.length)),b&&(this.hostname=b)}},function(e,r,s){(function(i,o){var a;/*! https://mths.be/punycode v1.4.1 by @mathias */(function(c){r&&r.nodeType,i&&i.nodeType;var u=typeof o=="object"&&o;u.global!==u&&u.window!==u&&u.self;var h,d=2147483647,f=/^xn--/,p=/[^\x20-\x7E]/,g=/[\x2E\u3002\uFF0E\uFF61]/g,E={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},v=Math.floor,x=String.fromCharCode;function w(I){throw new RangeError(E[I])}function A(I,k){for(var R=I.length,D=[];R--;)D[R]=k(I[R]);return D}function m(I,k){var R=I.split("@"),D="";return R.length>1&&(D=R[0]+"@",I=R[1]),D+A((I=I.replace(g,".")).split("."),k).join(".")}function _(I){for(var k,R,D=[],F=0,G=I.length;F<G;)(k=I.charCodeAt(F++))>=55296&&k<=56319&&F<G?(64512&(R=I.charCodeAt(F++)))==56320?D.push(((1023&k)<<10)+(1023&R)+65536):(D.push(k),F--):D.push(k);return D}function b(I){return A(I,function(k){var R="";return k>65535&&(R+=x((k-=65536)>>>10&1023|55296),k=56320|1023&k),R+=x(k)}).join("")}function S(I,k){return I+22+75*(I<26)-((k!=0)<<5)}function N(I,k,R){var D=0;for(I=R?v(I/700):I>>1,I+=v(I/k);I>455;D+=36)I=v(I/35);return v(D+36*I/(I+38))}function B(I){var k,R,D,F,G,W,z,H,P,et,J,$=[],j=I.length,O=0,M=128,rt=72;for((R=I.lastIndexOf("-"))<0&&(R=0),D=0;D<R;++D)I.charCodeAt(D)>=128&&w("not-basic"),$.push(I.charCodeAt(D));for(F=R>0?R+1:0;F<j;){for(G=O,W=1,z=36;F>=j&&w("invalid-input"),((H=(J=I.charCodeAt(F++))-48<10?J-22:J-65<26?J-65:J-97<26?J-97:36)>=36||H>v((d-O)/W))&&w("overflow"),O+=H*W,!(H<(P=z<=rt?1:z>=rt+26?26:z-rt));z+=36)W>v(d/(et=36-P))&&w("overflow"),W*=et;rt=N(O-G,k=$.length+1,G==0),v(O/k)>d-M&&w("overflow"),M+=v(O/k),O%=k,$.splice(O++,0,M)}return b($)}function Z(I){var k,R,D,F,G,W,z,H,P,et,J,$,j,O,M,rt=[];for($=(I=_(I)).length,k=128,R=0,G=72,W=0;W<$;++W)(J=I[W])<128&&rt.push(x(J));for(D=F=rt.length,F&&rt.push("-");D<$;){for(z=d,W=0;W<$;++W)(J=I[W])>=k&&J<z&&(z=J);for(z-k>v((d-R)/(j=D+1))&&w("overflow"),R+=(z-k)*j,k=z,W=0;W<$;++W)if((J=I[W])<k&&++R>d&&w("overflow"),J==k){for(H=R,P=36;!(H<(et=P<=G?1:P>=G+26?26:P-G));P+=36)M=H-et,O=36-et,rt.push(x(S(et+M%O,0))),H=v(M/O);rt.push(x(S(H,0))),G=N(R,j,D==F),R=0,++D}++R,++k}return rt.join("")}h={version:"1.4.1",ucs2:{decode:_,encode:b},decode:B,encode:Z,toASCII:function(I){return m(I,function(k){return p.test(k)?"xn--"+Z(k):k})},toUnicode:function(I){return m(I,function(k){return f.test(k)?B(k.slice(4).toLowerCase()):k})}},(a=(function(){return h}).call(r,s,r,i))===void 0||(i.exports=a)})()}).call(this,s(35)(e),s(36))},function(e,r){e.exports=function(s){return s.webpackPolyfill||(s.deprecate=function(){},s.paths=[],s.children||(s.children=[]),Object.defineProperty(s,"loaded",{enumerable:!0,get:function(){return s.l}}),Object.defineProperty(s,"id",{enumerable:!0,get:function(){return s.i}}),s.webpackPolyfill=1),s}},function(e,r){var s;s=function(){return this}();try{s=s||new Function("return this")()}catch{typeof window=="object"&&(s=window)}e.exports=s},function(e,r,s){e.exports={isString:function(i){return typeof i=="string"},isObject:function(i){return typeof i=="object"&&i!==null},isNull:function(i){return i===null},isNullOrUndefined:function(i){return i==null}}},function(e,r,s){r.decode=r.parse=s(39),r.encode=r.stringify=s(40)},function(e,r,s){function i(a,c){return Object.prototype.hasOwnProperty.call(a,c)}e.exports=function(a,c,u,h){c=c||"&",u=u||"=";var d={};if(typeof a!="string"||a.length===0)return d;var f=/\+/g;a=a.split(c);var p=1e3;h&&typeof h.maxKeys=="number"&&(p=h.maxKeys);var g=a.length;p>0&&g>p&&(g=p);for(var E=0;E<g;++E){var v,x,w,A,m=a[E].replace(f,"%20"),_=m.indexOf(u);_>=0?(v=m.substr(0,_),x=m.substr(_+1)):(v=m,x=""),w=decodeURIComponent(v),A=decodeURIComponent(x),i(d,w)?o(d[w])?d[w].push(A):d[w]=[d[w],A]:d[w]=A}return d};var o=Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"}},function(e,r,s){var i=function(u){switch(typeof u){case"string":return u;case"boolean":return u?"true":"false";case"number":return isFinite(u)?u:"";default:return""}};e.exports=function(u,h,d,f){return h=h||"&",d=d||"=",u===null&&(u=void 0),typeof u=="object"?a(c(u),function(p){var g=encodeURIComponent(i(p))+d;return o(u[p])?a(u[p],function(E){return g+encodeURIComponent(i(E))}).join(h):g+encodeURIComponent(i(u[p]))}).join(h):f?encodeURIComponent(i(f))+d+encodeURIComponent(i(u)):""};var o=Array.isArray||function(u){return Object.prototype.toString.call(u)==="[object Array]"};function a(u,h){if(u.map)return u.map(h);for(var d=[],f=0;f<u.length;f++)d.push(h(u[f],f));return d}var c=Object.keys||function(u){var h=[];for(var d in u)Object.prototype.hasOwnProperty.call(u,d)&&h.push(d);return h}}])})})(jl);var n1=jl.exports;const s1=Qi(n1),i1={class:"flex items-center align-middle p-4 max-w-full overflow-auto"},o1={class:"w-full"},a1=wa({__name:"editor",props:{modelValue:{}},emits:["update:modelValue"],setup(n,{emit:t}){q.register("modules/magicUrl",s1);const e=nt(),r=nt("<p>Hello, World!</p>"),s=nt(),i=nt(),o=n;let a=null;const c=nt({theme:"snow",modules:{magicUrl:!0,toolbar:[[{size:[]}],["bold","italic","underline","strike"],[{color:[]},{background:[]}],[{script:"super"},{script:"sub"}],[{header:"2"},{header:"3"},{header:"4"},"blockquote","code-block"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],["direction",{align:[]}],["link","image","video","formula","clean"],["table"],["clean"]]},placeholder:"Insert text here ...",readOnly:!1});Qn(()=>{var E;a=(E=e.value)==null?void 0:E.initialize(q);let p=o.modelValue;p&&(r.value=p);let g=new K(a.clipboard.convert({html:r.value}));a.setContents(g)}),ci(()=>o.modelValue,p=>{if(p!==r.value&&(r.value=p,a)){let g=new K(a.clipboard.convert({html:p}));a.setContents(g)}});const u=t,h=({delta:p})=>{s.value=p,u("update:modelValue",r.value)},d=({range:p})=>i.value=p,f=p=>console.log(p);return(p,g)=>(tt(),st("div",i1,[C("div",o1,[ut(at(ic),{class:"bg-backdrop-2 text-text-1 font-body w-full min-w-[400px]",ref_key:"editor",ref:e,modelValue:r.value,"onUpdate:modelValue":g[0]||(g[0]=E=>r.value=E),options:c.value,onTextChange:h,onSelectionChange:d,onEditorChange:f},null,8,["modelValue","options"])])]))}});var l1=["blog.josephhansen.dev","hansenstudios.art"];const _t=n=>(Bl("data-v-f266eda6"),n=n(),Dl(),n),c1={key:1},u1=_t(()=>C("h2",{class:"text-center text-2xl text-text-1 px-4 pt-4"},"Metadata",-1)),h1={class:"flex gap-4 flex-wrap items-start p-4"},f1={class:"flex flex-col grow items-center align-middle gap-2"},d1=_t(()=>C("label",{for:"title",class:"text-text-1"},"Title",-1)),p1={class:"flex flex-col grow items-center align-middle gap-2"},g1=_t(()=>C("label",{for:"metaTitle",class:"text-text-1"},"Meta Title",-1)),m1={class:"flex flex-col grow items-center align-middle gap-2"},y1=_t(()=>C("label",{for:"metaKeywords",class:"text-text-1"},"Meta Keywords",-1)),b1={class:"flex flex-col grow items-center align-middle gap-2"},v1=_t(()=>C("label",{for:"location",class:"text-text-1"},"Location",-1)),w1={class:"flex flex-col grow items-center align-middle gap-2"},x1=_t(()=>C("label",{for:"sidebar",class:"text-text-1"},"Sidebar",-1)),A1={class:"flex flex-col grow items-center align-middle gap-2"},E1=_t(()=>C("label",{for:"author",class:"text-text-1"},"Author",-1)),_1=["value"],N1={class:"flex flex-col grow items-center align-middle gap-2"},T1=_t(()=>C("label",{for:"header",class:"text-text-1"},"Header",-1)),O1=["value"],S1={class:"flex flex-col grow items-center align-middle gap-2"},k1=_t(()=>C("label",{for:"site",class:"text-text-1"},"Site",-1)),C1=["value"],L1={class:"flex flex-col grow items-center align-middle gap-2"},q1=_t(()=>C("label",{for:"featuredImage",class:"text-text-1"},"Featured Image",-1)),I1={class:"flex flex-col grow items-center align-middle gap-2"},j1=_t(()=>C("label",{for:"category",class:"text-text-1"},"Category",-1)),R1=["value"],P1={class:"flex gap-4 flex-wrap items-start p-4 min-h-36"},M1={class:"flex flex-col grow items-center align-middle gap-2 h-12"},$1=_t(()=>C("label",{for:"excerpt",class:"text-text-1"},"Excerpt",-1)),B1={class:"flex flex-col grow items-center align-middle gap-2 h-12"},D1=_t(()=>C("label",{for:"tags",class:"text-text-1"},"Tags",-1)),U1=["value"],F1={class:"flex flex-col grow items-center align-middle gap-2 h-12"},H1=_t(()=>C("label",{for:"metaDescription",class:"text-text-1"},"Meta Description",-1)),z1={class:"flex gap-4 p-4"},V1={key:2,class:"p-3"},G1={class:"w-full text-text-2 table-auto border-separate border-spacing-0 min-w-[700px] scale-[60%] sm:scale-[80%] md:scale-100 -translate-x-[21%] sm:-translate-x-[10%] md:translate-x-0 -translate-y-4 sm:translate-y-0"},K1=_t(()=>C("colgroup",null,[C("col",{style:{width:"3%"}}),C("col",{style:{width:"3%"}}),C("col",{style:{width:"25%"}}),C("col",{style:{width:"14%"}}),C("col",{style:{width:"16%"}}),C("col",{style:{width:"14%"}}),C("col",{style:{width:"8%"}}),C("col",{style:{width:"5%"}}),C("col",{style:{width:"7%"}})],-1)),W1={class:"bg-backdrop-1 text-center uppercase"},Z1={class:"p-3"},X1={class:"flex items-center justify-center w-8 h-8"},Y1={class:"p-3"},J1={class:"flex items-center justify-center w-8 h-8"},Q1=_t(()=>C("th",{class:"font-normal p-3"},"Title",-1)),tm=_t(()=>C("th",{class:"font-normal p-3"},"Author",-1)),em={class:"hidden sm:table-cell p-3"},rm={class:"flex items-center justify-center m-auto w-8 h-8"},nm={class:"hidden sm:table-cell p-3"},sm={class:"flex items-center justify-center m-auto w-8 h-8"},im=_t(()=>C("th",{class:"hidden sm:table-cell p-3 font-normal"},"Category",-1)),om=_t(()=>C("th",{class:"font-normal p-3"},"Status",-1)),am=_t(()=>C("th",{class:"font-normal p-3"},"Actions",-1)),lm={class:"py-2 border-b-backdrop-800 border-b-2 text-center"},cm={class:"border-b-backdrop-800 border-b-2 text-center"},um={class:"cursor-pointer hover:text-text-0 transition-all duration-300 border-b-backdrop-800 border-b-2 text-center"},hm=["href"],fm={class:"border-b-backdrop-800 border-b-2 text-center"},dm={class:"hidden sm:table-cell border-b-backdrop-800 border-b-2 text-center"},pm={class:"hidden sm:table-cell border-b-backdrop-800 border-b-2 text-center"},gm={class:"hidden sm:table-cell border-b-backdrop-800 border-b-2 text-center"},mm={class:"border-b-backdrop-800 border-b-2 text-center"},ym=["onClick"],bm={key:1},vm=["onClick"],wm={class:"border-b-backdrop-800 border-b-2"},xm={class:"flex justify-center items-center m-auto"},Am=["onClick"],Em=["onClick"],_m=["onClick"],Nm={class:"fixed z-50 md:bottom-5 md:right-5 scale-75 md:scale-100 bottom-1 right-0 flex gap-4"},Tm={__name:"posts",setup(n){const t=nt(!1),e=Mi($i),r=nt([]),s=nt([]),i=nt([]),o=nt({}),a=l1,c=nt("list"),u=async()=>{const $=await fetch("https://seabass.josephhansen.dev/blog/");if($.status!==200)throw f.error("Network error"),new Error("Network error- could not get posts");const j=await $.json();return localStorage.setItem("posts",JSON.stringify(j)),j},h=async()=>{const $=await fetch("https://seabass.josephhansen.dev/category/");if($.status!==200)throw f.error("Network error"),new Error("Network error- could not get categories");return await $.json()},d=async()=>{const $=await fetch("https://seabass.josephhansen.dev/tag/");if($.status!==200)throw f.error("Network error"),new Error("Network error- could not get tags");return await $.json()};Qn(async()=>{e.user?t.value=!0:t.value=!1,t.value?(o.value=e.user,s.value=await d(),i.value=await h(),r.value=await u()):(f.info("Your session has expired. Please log in."),p.push("/login"))});const f=Bi(),p=Di(),g=$=>{},E=$=>{c.value="editing";let j=r.value.filter(O=>O._id===$);m.value=j[0].content,_.value=j[0].title,b.value=j[0].metaTitle,S.value=j[0].metaDescription,N.value=j[0].metaKeywords,B.value=j[0].excerpt,Z.value=j[0].site,I.value=j[0].featuredImage,k.value=j[0].subDirectory,R.value=j[0].status,D.value=j[0]._id,z.value=j[0].headerStyle,F.value=j[0].tags,H.value=j[0].sidebar,G.value=j[0].category},v=async $=>{let j="https://seabass.josephhansen.dev/blog/delete/"+$,O={headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json",Authorization:"Bearer "+localStorage.token},withCredentials:!0};try{await fetch(j,{method:"DELETE",headers:O.headers,credentials:"include"}).then(async M=>{if(M.status!==200)throw f.error("Error deleting post"),r.value=u(),new Error("Network error- could not delete post");f.success("Post deleted"),r.value=await u()}).catch(M=>{f.error(M.message||M.error||"Error deleting post")})}catch(M){f.error(M.message||M.error||"Error deleting post")}},x=async $=>{let j="https://seabass.josephhansen.dev/blog/publish/"+$,O={headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json",Authorization:"Bearer "+localStorage.token},withCredentials:!0};try{await fetch(j,{method:"POST",headers:O.headers,credentials:"include"}).then(async M=>{if(M.status!==200)throw new Error("Network error- could not publish post");f.success("Post published"),r.value=await u()}).catch(async M=>{f.error(M.message||M.error||"Error publishing post")})}catch(M){f.error(M.message||M.error||"Error publishing post")}},w=()=>{c.value="new",D.value="",m.value="",_.value="",b.value="",S.value="",N.value="",B.value="",Z.value="",I.value="",k.value="",R.value="new-draft",z.value="image",H.value=!0,F.value=[],G.value=""},A=()=>{c.value="list"},m=nt(""),_=nt(""),b=nt(""),S=nt(""),N=nt(""),B=nt(""),Z=nt(""),I=nt(""),k=nt(""),R=nt("new-draft"),D=nt(""),F=nt([]),G=nt(""),W=nt(["image","imageoverlay","noimage","fullwidth"]),z=nt("image"),H=nt(!0),P=async $=>{let j="https://seabass.josephhansen.dev/blog/unpublish/"+$,O={headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json",Authorization:"Bearer "+localStorage.token},withCredentials:!0};try{await fetch(j,{method:"POST",headers:O.headers,credentials:"include"}).then(async M=>{if(M.status!==200)throw new Error("Network error- could not unpublish post");f.success("Post unpublished"),r.value=await u()}).catch(M=>{f.error(M.message||M.error||"Error unpublishing post")})}catch(M){f.error(M.message||M.error||"Error unpublishing post")}},et=async()=>{let $="https://seabass.josephhansen.dev/blog/create",j={headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer "+localStorage.token}},O={title:_.value,content:m.value,metaTitle:b.value,metaDescription:S.value,metaKeywords:N.value,excerpt:B.value,site:Z.value,featuredImage:I.value,subDirectory:k.value,status:R.value,headerStyle:z.value,sidebar:H.value,tags:F.value,category:G.value};try{await fetch($,{method:"POST",headers:j.headers,credentials:"include",body:JSON.stringify(O)}).then(async M=>{if(M.status!==201)throw new Error("Network error- could not save post");f.success("Post saved");let rt=await M.json();D.value=rt._id,R.value="draft",r.value=await u()}).catch(M=>{f.error(M.message||M.error||"Error saving post")})}catch(M){f.error(M.message||M.error||"Error saving post")}},J=async()=>{let $="https://seabass.josephhansen.dev/blog/edit/"+D.value,j={headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer "+localStorage.token}},O={title:_.value,content:m.value,metaTitle:b.value,metaDescription:S.value,metaKeywords:N.value,excerpt:B.value,site:Z.value,featuredImage:I.value,subDirectory:k.value,status:R.value,headerStyle:z.value,sidebar:H.value,tags:F.value,category:G.value};try{await fetch($,{method:"PUT",headers:j.headers,credentials:"include",body:JSON.stringify(O)}).then(async M=>{if(M.status!==200)throw new Error("Network error- could not save post");f.success("Draft saved"),r.value=await u()}).catch(M=>{f.error(M.message||M.error||"Error saving post")})}catch(M){f.error(M.message||M.error||"Error saving post")}};return($,j)=>(tt(),st(re,null,[c.value==="new"||c.value==="editing"?(tt(),zn(a1,{key:0,modelValue:m.value,"onUpdate:modelValue":j[0]||(j[0]=O=>m.value=O)},null,8,["modelValue"])):gr("",!0),c.value==="new"||c.value==="editing"?(tt(),st("div",c1,[u1,C("form",h1,[C("div",f1,[d1,Rt(C("input",{type:"text",name:"title",class:"flex-col grow items-center align-middle rounded p-2 bg-backdrop-1 text-text-0 active:ring-2 active:ring-accent-300 focus:ring-3 focus:ring-accent-300 accent-accent-300 w-full","onUpdate:modelValue":j[1]||(j[1]=O=>_.value=O),placeholder:"Title"},null,512),[[ee,_.value]])]),C("div",p1,[g1,Rt(C("input",{type:"text",name:"metaTitle",class:"flex-col grow items-center align-middle rounded p-2 bg-backdrop-1 text-text-0 active:ring-2 active:ring-accent-300 focus:ring-3 focus:ring-accent-300 accent-accent-300 w-full","onUpdate:modelValue":j[2]||(j[2]=O=>b.value=O),placeholder:"Meta Title"},null,512),[[ee,b.value]])]),C("div",m1,[y1,Rt(C("input",{type:"text",name:"metaKeywords",class:"flex-col grow items-center align-middle rounded p-2 bg-backdrop-1 text-text-0 active:ring-2 active:ring-accent-300 focus:ring-3 focus:ring-accent-300 accent-accent-300 w-full","onUpdate:modelValue":j[3]||(j[3]=O=>N.value=O),placeholder:"Meta Keywords"},null,512),[[ee,N.value]])]),C("div",b1,[v1,Rt(C("input",{type:"text",name:"location",class:"flex-col grow items-center align-middle rounded p-2 bg-backdrop-1 text-text-0 active:ring-2 active:ring-accent-300 focus:ring-3 focus:ring-accent-300 accent-accent-300 w-full","onUpdate:modelValue":j[4]||(j[4]=O=>k.value=O),placeholder:"/"},null,512),[[ee,k.value]])]),C("div",w1,[x1,Rt(C("input",{type:"checkbox",name:"sidebar","onUpdate:modelValue":j[5]||(j[5]=O=>H.value=O),class:"cursor-pointer scale-150"},null,512),[[$l,H.value]])]),C("div",A1,[E1,C("input",{readonly:"",type:"text",name:"author",class:"flex-col grow items-center align-middle rounded p-2 bg-backdrop-1 text-text-0 w-full",value:o.value.displayName,placeholder:""},null,8,_1)]),C("div",N1,[T1,Rt(C("select",{name:"header",class:"flex-col grow items-center align-middle rounded p-2 bg-backdrop-1 text-text-0 active:ring-2 active:ring-accent-500 focus:ring-3 focus:ring-accent-400 accent-accent-300 w-full h-min","onUpdate:modelValue":j[6]||(j[6]=O=>z.value=O)},[(tt(!0),st(re,null,ge(W.value,O=>(tt(),st("option",{key:O,value:O},Tt(O),9,O1))),128))],512),[[jn,z.value]])]),C("div",S1,[k1,Rt(C("select",{name:"site",class:"flex-col grow items-center align-middle rounded p-2 bg-backdrop-1 text-text-0 active:ring-2 active:ring-accent-500 focus:ring-3 focus:ring-accent-400 accent-accent-300 w-full h-min","onUpdate:modelValue":j[7]||(j[7]=O=>Z.value=O)},[(tt(!0),st(re,null,ge(at(a),O=>(tt(),st("option",{key:O,value:O},Tt(O),9,C1))),128))],512),[[jn,Z.value]])]),C("div",L1,[q1,Rt(C("input",{type:"text",name:"featuredImage",class:"flex-col grow items-center align-middle rounded p-2 bg-backdrop-1 text-text-0 active:ring-2 active:ring-accent-300 focus:ring-3 focus:ring-accent-300 accent-accent-300 w-full","onUpdate:modelValue":j[8]||(j[8]=O=>I.value=O),placeholder:"Featured Image"},null,512),[[ee,I.value]])]),C("div",I1,[j1,Rt(C("select",{name:"category",class:"flex-col grow items-center align-middle rounded p-2 bg-backdrop-1 text-text-0 active:ring-2 active:ring-accent-500 focus:ring-3 focus:ring-accent-400 accent-accent-300 w-full h-min","onUpdate:modelValue":j[9]||(j[9]=O=>G.value=O)},[(tt(!0),st(re,null,ge(i.value,O=>(tt(),st("option",{key:O.name,value:O.name},Tt(O.name),9,R1))),128))],512),[[jn,G.value]])])]),C("form",P1,[C("div",M1,[$1,Rt(C("textarea",{name:"excerpt",class:"flex-col grow items-center align-middle rounded p-2 bg-backdrop-1 text-text-0 active:ring-2 active:ring-accent-300 focus:ring-3 focus:ring-accent-300 accent-accent-300 w-full h-min","onUpdate:modelValue":j[10]||(j[10]=O=>B.value=O),placeholder:"Excerpt"},`
                `,512),[[ee,B.value]])]),C("div",B1,[D1,Rt(C("select",{multiple:"",name:"tags",class:"flex-col grow items-center align-middle rounded p-2 bg-backdrop-1 text-text-0 active:ring-2 active:ring-accent-500 focus:ring-3 focus:ring-accent-400 accent-accent-300 w-full min-h-20","onUpdate:modelValue":j[11]||(j[11]=O=>F.value=O)},[(tt(!0),st(re,null,ge(s.value,O=>(tt(),st("option",{key:O.name,value:O.name},Tt(O.name),9,U1))),128))],512),[[jn,F.value]])]),C("div",F1,[H1,Rt(C("textarea",{name:"metaDescription",class:"flex-col grow items-center align-middle rounded p-2 bg-backdrop-1 text-text-0 active:ring-2 active:ring-accent-300 focus:ring-3 focus:ring-accent-300 accent-accent-300 w-full h-min","onUpdate:modelValue":j[12]||(j[12]=O=>S.value=O),placeholder:"Meta Description"},`
                `,512),[[ee,S.value]])])]),C("div",z1,[R.value==="new-draft"?(tt(),st("button",{key:0,onClick:j[13]||(j[13]=O=>c.value==="new"?et():J()),class:"cursor-pointer bg-accent-600 px-5 py-2 rounded-lg text-text-0 hover:bg-accent-700 hover:scale-105 transition-all duration-300 flex items-center"},[ut(at(Vn),{class:"pr-2"}),Ie("Save draft ")])):gr("",!0),R.value==="draft"?(tt(),st("button",{key:1,onClick:j[14]||(j[14]=O=>x(D.value)),class:"cursor-pointer bg-accent-600 px-5 py-2 rounded-lg text-text-0 hover:bg-accent-700 hover:scale-105 transition-all duration-300 flex items-center"},[ut(at(Jl),{class:"pr-2"}),Ie("Publish ")])):gr("",!0),R.value==="draft"?(tt(),st("button",{key:2,onClick:j[15]||(j[15]=O=>$.schedulePost(D.value)),class:"cursor-pointer bg-accent-600 px-5 py-2 rounded-lg text-text-0 hover:bg-accent-700 hover:scale-105 transition-all duration-300 flex items-center"},[ut(at(yo),{class:"pr-2"}),Ie("Schedule ")])):gr("",!0),R.value==="published"?(tt(),st("button",{key:3,onClick:j[16]||(j[16]=O=>J()),class:"cursor-pointer bg-accent-600 px-5 py-2 rounded-lg text-text-0 hover:bg-accent-700 hover:scale-105 transition-all duration-300 flex items-center"},[ut(at(Vn),{class:"pr-2"}),Ie("Save ")])):gr("",!0),R.value==="published"?(tt(),st("button",{key:4,onClick:j[17]||(j[17]=O=>P(D.value)),class:"cursor-pointer bg-accent-600 px-5 py-2 rounded-lg text-text-0 hover:bg-accent-700 hover:scale-105 transition-all duration-300 flex items-center"},[ut(at(mo),{class:"pr-2"}),Ie("Unpublish ")])):gr("",!0)])])):(tt(),st("div",V1,[C("table",G1,[K1,C("thead",W1,[C("tr",null,[C("th",Z1,[C("div",X1,[ut(at(Qr))])]),C("th",Y1,[C("div",J1,[ut(at(Wl))])]),Q1,tm,C("th",em,[C("div",rm,[ut(at(Yl))])]),C("th",nm,[C("div",sm,[ut(at(Ql))])]),im,om,am])]),C("tbody",null,[(tt(!0),st(re,null,ge(r.value,O=>(tt(),st("tr",{key:O._id,class:"text-center bg-backdrop-2"},[C("td",lm,Tt(O.views),1),C("td",cm,Tt(O.comments.length),1),C("td",um,[C("a",{href:O.site+"/"+O.slug},Tt(O.title),9,hm)]),C("td",fm,Tt(O.author.displayName),1),C("td",dm,Tt(O.site),1),C("td",pm,Tt(O.tags.join(", ")),1),C("td",gm,Tt(O.category),1),C("td",mm,[O.status=="published"?(tt(),st("div",{key:0,class:"cursor-pointer hover:text-text-0 transition-all duration-300 flex items-center justify-center",onClick:M=>P(O._id)},[ut(at(mo))],8,ym)):O.status=="scheduled"?(tt(),st("div",bm,[ut(at(yo))])):(tt(),st("div",{key:2,onClick:M=>x(O._id),class:"cursor-pointer hover:text-text-0 transition-all duration-300 flex items-center justify-center"},[ut(at(Zl))],8,vm))]),C("td",wm,[C("div",xm,[C("div",{class:"cursor-pointer hover:text-text-0 transition-all duration-300",onClick:M=>g(O._id)},[ut(at(Qr))],8,Am),C("div",{class:"cursor-pointer hover:text-text-0 transition-all duration-300 px-2",onClick:M=>E(O._id)},[ut(at(Xl))],8,Em),C("div",{class:"cursor-pointer hover:text-text-0 transition-all duration-300",onClick:M=>v(O._id)},[ut(at(Gn))],8,_m)])])]))),128))])])])),C("div",Nm,[C("button",{onClick:w,class:"cursor-pointer bg-accent-600 px-5 py-2 rounded-lg text-text-0 hover:bg-accent-700 hover:scale-105 transition-all duration-300 flex items-center"},[ut(at(Hl),{class:"pr-2"}),Ie("New post ")]),C("button",{onClick:A,class:"cursor-pointer bg-backdrop-0 px-5 py-2 rounded-lg text-text-0 hover:bg-backdrop-1 hover:scale-105 transition-all duration-300 flex items-center"},[ut(at(Kl),{class:"pr-2"}),Ie("List posts ")])])],64))}},Om=Pi(Tm,[["__scopeId","data-v-f266eda6"]]),P0={__name:"posts",setup(n){return(t,e)=>(tt(),zn(Om))}},Sm={},km={class:"p-8 px-20"},Cm=Ul('<div class="font-normal w-full"><h1 class="text-2xl text-text-2 pb-3">Pages</h1><h2 class="text-xl text-text-2 pb-2">Creating a new page</h2><p class="text-text-3 pb-2"> To add a new page, run the following command in the terminal: <br><code class="p-1 rounded-lg bg-backdrop-1 text-accent-500">npm run create-site-page {PageName} {sites?}</code> The sites parameter is optional and can be used to specify the sites that the page should be created for. If it is not set, the page will be created for all sites. To set specific sites, format the parameter as <code class="p-1 rounded-lg bg-backdrop-1 text-accent-500">&#39;[&quot;site1&quot;,&quot;site2&quot;]&#39;</code>. </p><h2 class="text-xl text-text-2 pb-2">Editing a page</h2><p class="text-text-3 pb-2"> To edit a page, navigate to the <code class="p-1 rounded-lg bg-backdrop-1 text-accent-500">frontend/src/pages</code> directory and open the page you want to edit. Unlike posts, pages are meant to be designed, so they don&#39;t have a frontend editor. Use Vue components to design the page. Run <code class="p-1 rounded-lg bg-backdrop-1 text-accent-500">npm run buildbot</code> after any changes. </p><h2 class="text-xl text-text-2 pb-2">Deleting a page</h2><p class="text-text-3 pb-2"> To delete a page, run the following command in the terminal: <br><code class="p-1 rounded-lg bg-backdrop-1 text-accent-500">npm run remove-site-page {PageName} {sites?}</code></p></div>',1),Lm=[Cm];function qm(n,t){return tt(),st("div",km,Lm)}const M0=Pi(Sm,[["render",qm]]),Im={class:"p-1 md:p-8 flex gap-8 flex-wrap scale-75 md:scale-100"},jm={class:"flex flex-col gap-4 grow"},Rm={class:"flex flex-row gap-4 items-center justify-between"},Pm=C("h1",{class:"text-2xl text-text-2"},"Tags",-1),Mm={class:"flex gap-2"},$m={class:"grow text-text-2 table-auto border-separate border-spacing-0"},Bm={class:"grow"},Dm=["onUpdate:modelValue"],Um=["onClick"],Fm=["onClick"],Hm=["onClick"],zm={class:"flex flex-col gap-4 grow"},Vm={class:"flex flex-row gap-4 items-center justify-between"},Gm=C("h1",{class:"text-2xl text-text-2"},"Categories",-1),Km={class:"flex gap-2"},Wm={class:"grow text-text-2 table-auto border-separate border-spacing-0"},Zm={class:"grow"},Xm=["onUpdate:modelValue"],Ym=["onClick"],Jm=["onClick"],Qm=["onClick"],$0={__name:"tags",setup(n){const t=Bi(),e=Di(),r=nt(!1),s=Mi($i),i=nt([]),o=nt([]),a=nt(""),c=nt(""),u=async()=>{let w={headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json",Authorization:"Bearer "+localStorage.token},withCredentials:!0};if((await fetch("https://seabass.josephhansen.dev/category/",{method:"POST",headers:w.headers,credentials:"include",body:new URLSearchParams({name:c.value})})).status!==200)throw t.error("Network error"),new Error("Network error- could not add category");t.success("Category added"),o.value=await g(),c.value=""},h=async w=>{let A={headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json",Authorization:"Bearer "+localStorage.token},withCredentials:!0};if((await fetch(`https://seabass.josephhansen.dev/category/${w}/`,{method:"DELETE",headers:A.headers,credentials:"include"})).status!==200)throw t.error("Network error"),new Error("Network error- could not delete category");t.success("Category deleted"),o.value=await g()},d=async()=>{let w={headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json",Authorization:"Bearer "+localStorage.token},withCredentials:!0};if((await fetch("https://seabass.josephhansen.dev/tag/",{method:"POST",headers:w.headers,credentials:"include",body:new URLSearchParams({name:a.value})})).status!==200)throw t.error("Network error"),new Error("Network error- could not add tag");i.value=await p(),t.success("Tag added"),a.value=""},f=async w=>{let A={headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json",Authorization:"Bearer "+localStorage.token},withCredentials:!0};if((await fetch(`https://seabass.josephhansen.dev/tag/${w}/`,{method:"DELETE",headers:A.headers,credentials:"include"})).status!==200)throw t.error("Network error"),new Error("Network error- could not delete tag");i.value=await p(),t.success("Tag deleted")},p=async()=>{let w={headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json",Authorization:"Bearer "+localStorage.token},withCredentials:!0};const A=await fetch("https://seabass.josephhansen.dev/tag/",{method:"GET",headers:w.headers,credentials:"include"});if(A.status!==200)throw t.error("Network error"),new Error("Network error- could not get tags");return await A.json()},g=async()=>{let w={headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json",Authorization:"Bearer "+localStorage.token},withCredentials:!0};const A=await fetch("https://seabass.josephhansen.dev/category/",{method:"GET",headers:w.headers,credentials:"include"});if(A.status!==200)throw t.error("Network error"),new Error("Network error- could not get categories");return await A.json()};Qn(async()=>{s.user?r.value=!0:r.value=!1,r.value?(i.value=await p(),o.value=await g()):(t.info("Your session has expired. Please log in."),e.push("/login"))});const E=w=>w.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,""),v=async w=>{let A={headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json",Authorization:"Bearer "+localStorage.token},withCredentials:!0};if((await fetch(`https://seabass.josephhansen.dev/category/${w}/`,{method:"PUT",headers:A.headers,credentials:"include",body:new URLSearchParams({name:o.value.find(_=>_._id===w).name,slug:E(o.value.find(_=>_._id===w).name)})})).status!==200)throw t.error("Network error"),new Error("Network error- could not edit category");t.success("Category edited"),o.value=await g()},x=async w=>{let A={headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json",Authorization:"Bearer "+localStorage.token},withCredentials:!0};if((await fetch(`https://seabass.josephhansen.dev/tag/${w}/`,{method:"PUT",headers:A.headers,credentials:"include",body:new URLSearchParams({name:i.value.find(_=>_._id===w).name,slug:E(i.value.find(_=>_._id===w).name)})})).status!==200)throw t.error("Network error"),new Error("Network error- could not edit tag");t.success("Tag edited"),i.value=await p()};return(w,A)=>(tt(),st("div",Im,[C("div",jm,[C("div",Rm,[Pm,C("div",Mm,[Rt(C("input",{"onUpdate:modelValue":A[0]||(A[0]=m=>a.value=m),type:"text",class:"bg-backdrop-0 text-text-0 px-2 py-2 rounded-md accent-accent-500",placeholder:"New Tag Name"},null,512),[[ee,a.value]]),C("button",{onClick:d,class:"bg-backdrop-1 text-text-0 p-2 rounded-md"},"Add Tag")])]),C("table",$m,[(tt(!0),st(re,null,ge(i.value,m=>(tt(),st("tr",{key:m.id,class:"flex"},[C("td",Bm,[Rt(C("input",{"onUpdate:modelValue":_=>m.name=_,type:"text",class:"bg-backdrop-1 p-2 rounded-md grow w-full accent-accent-500"},null,8,Dm),[[ee,m.name]])]),C("td",null,[C("button",{onClick:_=>w.viewTagPosts(m._id),class:"p-2"},[ut(at(Qr))],8,Um),C("button",{onClick:_=>x(m._id),class:"p-2 text-accent-500 hover:text-accent-600 transition-all duration-300"},[ut(at(Vn))],8,Fm),C("button",{onClick:_=>f(m._id),class:"p-2 text-red-500 rounded hover:text-red-600 transition-all duration-300"},[ut(at(Gn))],8,Hm)])]))),128))])]),C("div",zm,[C("div",Vm,[Gm,C("div",Km,[Rt(C("input",{"onUpdate:modelValue":A[1]||(A[1]=m=>c.value=m),type:"text",class:"bg-backdrop-0 text-text-0 px-2 py-2 rounded-md accent-accent-500",placeholder:"Category name"},null,512),[[ee,c.value]]),C("button",{onClick:u,class:"bg-backdrop-1 text-text-0 p-2 rounded-md"},"Add Category")])]),C("table",Wm,[(tt(!0),st(re,null,ge(o.value,m=>(tt(),st("tr",{key:m.id,class:"flex"},[C("td",Zm,[Rt(C("input",{"onUpdate:modelValue":_=>m.name=_,type:"text",class:"bg-backdrop-1 p-2 accent-accent-500 rounded-md grow w-full"},null,8,Xm),[[ee,m.name]])]),C("td",null,[C("button",{onClick:_=>w.viewCategoryPosts(m._id),class:"p-2"},[ut(at(Qr))],8,Ym),C("button",{onClick:_=>v(m._id),class:"p-2 text-accent-500 hover:text-accent-600 transition-all duration-300"},[ut(at(Vn))],8,Jm),C("button",{onClick:_=>h(m._id),class:"p-2 text-red-500 rounded hover:text-red-600 transition-all duration-300"},[ut(at(Gn))],8,Qm)])]))),128))])])]))}},t0={class:"p-6"},e0=C("h2",{class:"text-3xl text-text-0 px-8 -mb-4"},"Flagged Comments",-1),r0={class:"p-1 md:p-8 flex gap-4 flex-wrap"},n0={class:"min-w-[30%] grow"},s0={class:"bg-backdrop-2 text-text-0 8 m-w-[500px] w-auto h-auto m-auto rounded-xl p-4"},i0={class:"italic"},o0=["href"],a0={class:"flex gap-7 mt-2 items-center justify-between w-full"},l0={class:"flex gap-2 items-center"},c0=["onClick"],u0=["onClick"],h0={class:"flex gap-2"},f0=C("h2",{class:"text-3xl text-text-0 px-8 -mb-4"},"Comments By Post",-1),d0={class:"p-1 md:p-8 flex gap-4 flex-wrap"},p0={class:"min-w-[30%] grow"},g0={class:"text-accent-500 hover:text-accent-600 transition-all duration-300 text-xl pb-2"},m0=["href"],y0={class:"flex gap-4 flex-wrap"},b0={class:"min-w-[30%] grow bg-backdrop-2 text-text-0 8 m-w-[500px] w-auto h-auto m-auto rounded-xl p-4"},v0={class:"flex gap-2 mt-2 items-center justify-between w-full"},w0={class:"grow w-full"},x0={class:"italic"},A0={class:"flex gap-2 mt-2 items-center justify-end w-full"},B0={__name:"comments",setup(n){const t=nt(!1),e=Bi(),r=Di(),s=Mi($i),i=nt([]),o=nt([]),a=nt([]),c=async()=>{let A={headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json",Authorization:"Bearer "+localStorage.token},withCredentials:!0};const m=await fetch("https://seabass.josephhansen.dev/user",{method:"GET",headers:A.headers,credentials:"include"});if(m.status!==200)throw e.error("Network error"),new Error("Network error- could not get users");return await m.json()},u=async()=>{let A={headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json",Authorization:"Bearer "+localStorage.token},withCredentials:!0};const m=await fetch("https://seabass.josephhansen.dev/comment/",{method:"GET",headers:A.headers,credentials:"include"});if(m.status!==200)throw e.error("Network error"),new Error("Network error- could not get comments");return await m.json()},h=async A=>{let m="https://seabass.josephhansen.dev/comment/flag/"+A,_={headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json",Authorization:"Bearer "+localStorage.token},withCredentials:!0};try{await fetch(m,{method:"PUT",headers:_.headers,credentials:"include"}).then(async b=>{if(b.status!==200)throw new Error("Network error- could not flag comment");e.success("Comment flagged"),i.value=await u()}).catch(async b=>{e.error(b.message||b.error||"Error flagging comment")})}catch(b){e.error(b.message||b.error||"Error flagging comment")}},d=async A=>{let m="https://seabass.josephhansen.dev/comment/delete/"+A,_={headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json",Authorization:"Bearer "+localStorage.token},withCredentials:!0};try{await fetch(m,{method:"DELETE",headers:_.headers,credentials:"include"}).then(async b=>{if(b.status!==200)throw e.error("Error deleting comment"),i.value=u(),new Error("Network error- could not delete comment");e.success("Comment deleted"),i.value=await u()}).catch(b=>{e.error(b.message||b.error||"Error deleting comment")})}catch(b){e.error(b.message||b.error||"Error deleting comment")}},f=async A=>{let m="https://seabass.josephhansen.dev/comment/unflag/"+A,_={headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json",Authorization:"Bearer "+localStorage.token},withCredentials:!0};try{await fetch(m,{method:"PUT",headers:_.headers,credentials:"include"}).then(async b=>{if(b.status!==200)throw new Error("Network error- could not unflag comment");e.success("Comment unflagged"),i.value=await u()}).catch(async b=>{e.error(b.message||b.error||"Error unflagging comment")})}catch(b){e.error(b.message||b.error||"Error unflagging comment")}};Qn(async()=>{s.user?t.value=!0:t.value=!1,t.value?(i.value=await u(),o.value=await c(),a.value=await g()):(e.info("Your session has expired. Please log in."),r.push("/login"))});const p=A=>{let m=o.value.find(_=>_._id===A);return m?m.displayName:"Unknown"},g=async()=>{let A={headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json",Authorization:"Bearer "+localStorage.token},withCredentials:!0};const m=await fetch("https://seabass.josephhansen.dev/blog/",{method:"GET",headers:A.headers,credentials:"include"});if(m.status!==200)throw e.error("Network error"),new Error("Network error- could not get blog posts");return await m.json()},E=A=>{let m=a.value.find(_=>_._id===A);return m?m.title:"Unknown"},v=A=>{let m=a.value.find(_=>_._id===A);return m?m.site+m.subDirectory+m.slug:""},x=Fl(()=>i.value.filter(A=>A.flagged)),w=A=>(console.log(A),i.value.filter(m=>m.blogPost===A&&!m.flagged&&m.nestedLevel===0));return(A,m)=>(tt(),st("div",t0,[e0,C("div",r0,[(tt(!0),st(re,null,ge(x.value,_=>{var b;return tt(),st("div",n0,[C("div",s0,[C("p",i0,Tt(_.content),1),C("p",null,"Posted by: "+Tt(p(_.user)),1),C("p",null,[Ie("Posted on: "),C("a",{href:v(_.blogPost),class:"text-accent-500 hover:text-accent-600 duration-300 transition-all"},Tt(E(_.blogPost)),9,o0)]),C("div",a0,[C("div",l0,[C("button",{onClick:S=>f(_._id),class:"bg-green-500 hover:bg-green-700 text-text-0 font-bold py-2 px-4 rounded"},[ut(at(Vl))],8,c0),C("button",{onClick:S=>d(_._id),class:"bg-red-500 hover:bg-red-700 text-text-0 font-bold py-2 px-4 rounded"},[ut(at(Gn))],8,u0),_.visible?(tt(),zn(at(zl),{key:1})):(tt(),zn(at(Qr),{key:0}))]),C("div",h0,[ut(at(bo)),C("span",null,Tt((b=_.replies)!=null&&b.length?_.replies.length:"0"),1)])])])])}),256))]),f0,C("div",d0,[(tt(!0),st(re,null,ge(a.value,_=>(tt(),st("div",p0,[C("h3",g0,[C("a",{href:_.site+_.subDirectory+_.slug},Tt(_.title),9,m0)]),C("div",y0,[(tt(!0),st(re,null,ge(w(_._id),b=>{var S;return tt(),st("div",b0,[C("div",v0,[C("div",w0,[C("p",x0,Tt(b.content),1),C("p",null,"Posted by: "+Tt(p(b.user)),1)]),C("div",A0,[ut(at(bo)),C("span",null,Tt((S=b.replies)!=null&&S.length?b.replies.length:"0"),1),ut(at(Gl),{onClick:N=>h(b._id),class:"bg-red-500 hover:bg-red-700 cursor-pointer w- text-text-0 font-bold p-2 rounded w-10 h-10"},null,8,["onClick"])])])])}),256))])]))),256))])]))}};export{yo as C,Gl as F,Wl as M,M0 as P,Yl as R,Vn as S,Gn as T,k0 as U,B0 as _,$0 as a,P0 as b,C0 as c,S0 as d,O0 as e,Ql as f};
